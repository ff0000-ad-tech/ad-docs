<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"ad-ui_lib_UIButton.js.html":{"id":"ad-ui_lib_UIButton.js.html","title":"Source: ad-ui/lib/UIButton.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UIButton.js /** @npmpackage @class UIButton @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIButton } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending UIComponent. It is a DOM element that has a child handling system for toggling the active state. By extending UIComponent this has all of its native properties and methods. See {@link UIComponent} for more info. &lt;br&gt;&lt;br&gt; &lt;b&gt;Note:&lt;/b&gt;&lt;br&gt; When adding a bg element or icons, there is no need to set the width and height at the css level. The UIButton will inherit the dimensions of the children. However, if either the width or height is set, that will be the size of the UIButton. The hit state is the UIButton itself so keep in mind that even if the content is very large, if the css sets the width and height to a smaller amount, there will be a small hit area for clicks, rollovers and rollouts. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1:&lt;/b&gt; &lt;codeblock&gt; // Create a simple button on the Main container that passes in an image to the bg and 2 images // as the icons for the different states of the button. Notice no width or height is set. T.myButton = new UIButton({ id : 'my-btn', target : T, css : { x : 30, y : 10 }, bg : 'btnBg', icon : [ 'btnPlay', 'btnPause' ], onClick : handleMyButtonClick }); function handleMyButtonClick ( event ){ console.log( event.target, 'clicked' ) } // referenced later anywhere outside the class by View.main.myButton &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2:&lt;/b&gt; &lt;codeblock&gt; // create the same button as above, but more customized images // for the bg and the different states T.myButton = new UIButton({ id : 'my-btn', target : T, css : { x : 30, y : 10 }, bg : new UIImage({ source : 'btnBg', css : { width : 120, height : 40, } }), icon : [ new UIImage({ source : 'btnPause', css : { x : 20, y : 10, width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }), new UIImage({ source : 'btnPause', css : { x : 20, y : 10, width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }) ], onClick : handleMyButtonClick }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // create a button with a textfield passed in as the icon state of the button // also it is aligned inline rather than with Align.set() T.myButton = new UIButton({ id : 'my-btn', target : T, css : { width : 100, height : 40, backgroundColor : '#ff0000' }, bg : 'btnBg', icon: [ new UITextField ({ css : { width : 150, height : 40, color : '#ffffff' }, fontSize : 12, fontFamily : 'template_font', format : TextFormat.INLINE_FIT, alignText : Align.CENTER, text : 'CLICK FOR MORE' }) ], align : { x : Align.CENTER, y : { type : Align.BOTTOM, offset : -30 } } onClick : handleMyButtonClick }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample Extension:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // When needing to make a custom button, use this template then add code accordingly function UIButtonExtend( arg ){ var U = new UIButton ( arg ); U._onClick = function ( event ){ // extended click method } function handleBaseEnabled ( event ){ var listener = U.enabled ? 'addEventListener' : 'removeEventListener' ; // handle other listeners } U.addEventListener ( UIEvent.ENABLED, handleBaseEnabled ) U.enabled = true; return U; } &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import UIComponent from './UIComponent' import UIImage from './UIImage' import {Styles, Clamp} from 'ad-view' import {Gesture, GestureEvent, UIEvent} from 'ad-events' class UIButton { constructor(arg) { arg = arg || {} arg.css = arg.css || {} /* ------------------------------------------------------------------------------------------------------------------------------- */ // BASE CSS Styles.injectStylesheet( 'RED_uiButton', '.ui-button', 'position:absolute', '.ui-button-state', 'position: absolute; width:inherit; height:inherit;' ) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _state = 0 var _icon = [] var _bg // this is used by the video components so the icons will force fit inside buttons var _containChild = !!arg.containChild /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP var U = new UIComponent(arg) Styles.addClass(U, 'ui-button') if (arg.bg) { createChild(arg.bg, false) } // called after bg is set to define a width/height for icon align calls clampContainer() arg.icon = arg.icon || [] for (var i = 0; i &lt; arg.icon.length; i++) { createChild(arg.icon[i], true) } // call again to account for icons clampContainer() /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC PROPERTIES /** @memberOf UIButton @var {boolean} togglable A Boolean to set whether or not the button will toggle between the different states of the button, which switches the visiblity of the child elements */ U.togglable = arg.icon.length &gt; 1 /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER Object.defineProperties(U, { /** @memberOf UIButton @var {element} bg @desc Getter : The bottom most element of a UIButton. This allows for a background image to be set with a UIImage, or any other UIComponent natively. It is set in the constructor as the bg: param. This allows public access to that element to that element as a getter, without allowing to overwrite the content. &lt;br&gt;&lt;br&gt; &lt;b&gt;Example 1&lt;/b&gt;&lt;br&gt; Internally create a UIImage as the background:&lt;br&gt; &lt;codeblock&gt; var myButton = new UIButton({ bg : 'btnBg' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Example 2&lt;/b&gt;&lt;br&gt; Pass in a UIImage to add custom css to the elements:&lt;br&gt; &lt;codeblock&gt; var myButton = new UIButton({ bg : new UIImage({ source : 'btnBg', css : { width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }) }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ bg: { get: function() { return _bg } }, /** @memberOf UIButton @var {array} icon @desc Getter : An Array of the icons, which are set as an array in the constructor as the icon:[] param. This allows public access to those icons as getters, without allowing to overwrite the array content. When clicking the button, it will auto toggle between 0 and 1, however this can be set to any other state that is avaiable. When instantiating, pass in the elements as either strings for the name of images to create UIImages or use other dom elements such as UIComponents to create custom style. &lt;br&gt;&lt;br&gt; &lt;b&gt;Example 1&lt;/b&gt;&lt;br&gt; Internally creates 2 UIImages as the icons, aka states, of the button:&lt;br&gt; &lt;codeblock&gt; var myButton = new UIButton({ icon : [ 'btnPlay', 'btnPause' ] }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Example 2&lt;/b&gt;&lt;br&gt; Pass in 2 UIImages as the icons of the button, to add custom css to the elements:&lt;br&gt; &lt;codeblock&gt; var myButton = new UIButton({ icon : [ new UIImage({ source : 'btnPause', css : { x : 20, y : 10, width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }), new UIImage({ source : 'btnPause', css : { x : 20, y : 10, width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }) ] }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ icon: { get: function() { return _icon } }, /** @memberOf UIButton @var {element} state @desc Getter|Setter : A Number representing the index of which icon is being displayed, aka the state of the button. These are set as an array in the constructor as the icon:[] param. When clicking the button, it will auto toggle between 0 and 1, however this can be set to any other state that is avaiable. &lt;br&gt;&lt;br&gt; &lt;b&gt;Example&lt;/b&gt;&lt;br&gt; Internally creates 3 UIImages as the icons of the button, which will toggle between 'btnPlay' and 'btnPause', but can manually set to show 'btnAlt' by setting state to 2:&lt;br&gt; &lt;codeblock&gt; var myButton = new UIButton({ icon : [ 'btnPlay', 'btnPause', 'btnAlt' ] }); myButton.state = 2 // sets the button to 'btnAlt' &lt;/codeblock&gt; &lt;br&gt; */ state: { get: function() { return _state }, set: function(value) { _state = value if (value &gt;= _icon.length) { _state = 0 } for (var i = 0; i &lt; _icon.length; i++) { _icon[i].style.visibility = i == _state ? 'visible' : 'hidden' } } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf UIButton @method onClick @desc A Method that will be called on click of the button. This is set in the constructor or can be manually assigned. It is a shorthand for calling &lt;code&gt;Gesture.addEventListener( myButton, GestureEvent.CLICK, handleClick );&lt;/code&gt; */ U.onClick = arg.onClick || function(event) { //console.log( 'UIButton.onClick()' ) } /** @memberOf UIButton @method onOver @desc A Method that will be called on roll over of the button. This is set in the constructor or can be manually assigned. It is a shorthand for calling &lt;code&gt;Gesture.addEventListener( myButton, GestureEvent.OVER, handleRollOver );&lt;/code&gt; */ U.onOver = arg.onOver || function(event) { //console.log( 'UIButton.onOver()' ) } /** @memberOf UIButton @method onOut @desc A Method that will be called on roll out of the button. This is set in the constructor or can be manually assigned. It is a shorthand for calling &lt;code&gt;Gesture.addEventListener( myButton, GestureEvent.OUT, handleRollOut );&lt;/code&gt; */ U.onOut = arg.onOut || function(event) { //console.log( 'UIButton.onOut()' ) } /** @memberOf UIButton @method toString @returns {string} [object UIButton] @desc A String representing the object type. */ U.toString = function() { return '[object UIButton]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PROTECTED METHODS /** Method: _onClick() Protected Method for INTERNAL use when extending the class. Assign a handler directly to the button instance. */ U._onClick = function(event) {} /** Method: _onOver() Protected Method for INTERNAL use when extending the class. Assign a handler directly to the button instance. */ U._onOver = function(event) {} /** Method: _onOut() Protected Method for INTERNAL use when extending the class. Assign a handler directly to the button instance. */ U._onOut = function(event) {} /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function createChild(name, isIcon) { var elem var id = arg.id + (isIcon ? '-state-' + _icon.length : '-bg') if (typeof name == 'string') { elem = new UIImage({ target: U, id: id, source: name, css: _containChild ? { width: 'inherit', height: 'inherit' } : {} }) } else { elem = name elem.id = id U.addChild(elem) if (/(UITextField)/gi.exec(elem.toString())) { elem.resetToDefault() } elem._initAlign(true) } if (isIcon) { _icon.push(elem) Styles.addClass(elem, 'ui-button-state') } else { _bg = elem } Gesture.disable(elem) } function clampContainer() { Clamp.set(U, 'clamp' + (!arg.css.width ? 'X' : '') + (!arg.css.height ? 'Y' : ''), {}, false) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleClick(event) { GestureEvent.stop(event) if (U.togglable) U.state = Number(!_state) U._onClick.call(U, event) U.onClick.call(U, event) } function handleOver(event) { U._onOver.call(U, event) U.onOver.call(U, event) } function handleOut(event) { U._onOut.call(U, event) U.onOut.call(U, event) } function handleBaseEnabled(event) { var listener = U.enabled ? 'addEventListener' : 'removeEventListener' Gesture[listener](U, GestureEvent.CLICK, handleClick) Gesture[listener](U, GestureEvent.OVER, handleOver) Gesture[listener](U, GestureEvent.OUT, handleOut) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.addEventListener(UIEvent.ENABLED, handleBaseEnabled) U.enabled = true U.state = arg.state || 0 U._initAlign() return U } } export default UIButton × Search results Close "},"ad-ui_lib_UISlider.js.html":{"id":"ad-ui_lib_UISlider.js.html","title":"Source: ad-ui/lib/UISlider.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UISlider.js /** @npmpackage @class UISlider @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UISlider } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIComponent}. It is a DOM element that has built-in child &amp;lt;div&gt;s to make up a slider, which are all publicly accessible. The list of child divs are:&lt;br&gt; &lt;ul&gt; &lt;li&gt;.bg&lt;/li&gt; &lt;li&gt;.loaded&lt;/li&gt; &lt;li&gt;.track&lt;/li&gt; &lt;li&gt;.handle&lt;/li&gt; &lt;li&gt;.hitState&lt;/li&gt; &lt;/ul&gt; By extending {@link UIComponent} this has all of its native properties and methods. See {@link UIComponent} for more info. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; var mySlider = new UISlider({ id : 'my-slider', target : View.main, css : { x : 0, y : 0, width : 250, height : 20 }, bg : { height:'30%', top:'35%' }, track : { height:'30%', top:'35%' }, handle : { height:'70%', top:'15%' }, onUpdate : handleSliderUpdate }); // OR assign it after the fact mySlider.onUpdate = handleSliderUpdate // OR listen for the event mySlider.addEventListener ( UIEvent.SLIDER_UPDATE, handleSliderUpdate ); function handleSliderUpdate ( event ){ console.log( mySlider.percent ); } &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample Extension:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; function UICustomSlider( arg ) { var U = new UISlider( arg ); function handleBaseSliderUpdate ( event ){ console.log( U.percent ); } function handleBaseEnabled ( event ){ var listener = U.enabled ? 'addEventListener' : 'removeEventListener' ; U [ listener ] ( UIEvent.SLIDER_UPDATE, handleBaseSliderUpdate ); } U.addEventListener ( UIEvent.ENABLED, handleBaseEnabled ) U.enabled = true; return U; } &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import UIComponent from './UIComponent' import { Styles } from 'ad-view' import { MathUtils } from 'ad-utils' import { UIEvent, GestureEvent, Gesture } from 'ad-events' class UISlider { constructor(arg) { /* ------------------------------------------------------------------------------------------------------------------------------- */ // BASE CSS Styles.injectStylesheet( 'RED_uiSlider', '.ui-slider', 'position:absolute; width:100%; height:100%;', '.ui-slider-bg, .ui-slider-track, .ui-slider-loaded, .ui-slider-handle, .ui-slider-hitState', 'position:absolute; width:100%; height:inherit;', '.ui-slider-bg', 'background-color: #666666;', '.ui-slider-loaded', 'background-color: #560000; width:0%;', '.ui-slider-track', 'background-color: #cc0000; width:0%;', '.ui-slider-handle', 'background-color: #ffffff; width:5%; left:0%;' ) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _percent = 0 var _dragging = false var _startX = 0 /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP arg = arg || {} var U = new UIComponent(arg) Styles.addClass(U, 'ui-slider') var children = ['bg', 'loaded', 'track', 'handle', 'hitState'] U.elements = [] for (var i = 0; i &lt; children.length; i++) createChild(children[i]) /** @memberOf UISlider @var {element} bg A &amp;lt;div&gt; at the bottom most layer, simply the background. @example // access mySlider.bg // change style: Styles.setCss( mySlider.bg, { backgroundColor: '#ff0000' }); */ /** @memberOf UISlider @var {element} loaded A &amp;lt;div&gt; right above the bg element, represents the loaded value when used with loaders such as with progress bars. @example // access mySlider.loaded // change style: Styles.setCss( mySlider.loaded, { backgroundColor: '#ff0000' }); */ /** @memberOf UISlider @var {element} track A &amp;lt;div&gt; right above the loaded element, represents the percentage of the slider. @example // access mySlider.track // change style: Styles.setCss( mySlider.track, { backgroundColor: '#ff0000' }); */ /** @memberOf UISlider @var {element} handle A &amp;lt;div&gt; right above the track element, represents the handle at the placement of the percentage of the slider. Will line up with the track size. @example // access mySlider.handle // change style: Styles.setCss( mySlider.handle, { backgroundColor: '#ff0000' }); */ /** @memberOf UISlider @var {element} hitState A &amp;lt;div&gt; at the top most level, represents the hit area for the slider. Ot is not a graphical element and generally this should not be manipulated. @example mySlider.handle */ /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTERS | SETTERS Object.defineProperties(U, { /** @memberOf UISlider @var {number} percent Getter|Setter : A Number 0-1 representing the percent position. @example // get mySlider.addEventListener( UIEvent.SLIDER_UPDATE, handleSliderUpdate ); function handleSliderUpdate( event ){ console.log( mySlider.percent ); } // set mySlider.percent = .65; */ percent: { get: function() { return _percent }, set: function(value) { _percent = MathUtils.restrict(value, 0, 1) U.track.style.width = _percent * 100 + '%' U.handle.style.left = getHandlePercent() + '%' } }, /** @memberOf UISlider @var {boolean} dragging Getter : A Boolean representing whether or not the slider head is currently dragging. */ dragging: { get: function() { return _dragging } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf UISlider @method: onUpdate @desc A Method that will be called on the update of the slider. This is set in the constructor or can be manually assigned. */ U.onUpdate = arg.onUpdate || function(event) {} /** @memberOf UISlider @method: toString @desc A String representing the object type: [object UISlider] */ U.toString = function() { return '[object UISlider]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PROTECTED METHODS /** Method: _onUpdateslider() Protected Method for INTERNAL use when extending the class. Assign a handler directly to the component instance. */ U._onUpdate = function(event) {} /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function createChild(name) { U[name] = document.createElement('div') Styles.addClass(U[name], 'ui-slider-' + name) U[name].id = arg.id + '-' + name if (arg[name]) Styles.setCss(U[name], arg[name]) if (arg[name] == false) U[name].style.display = 'none' U.appendChild(U[name]) U.elements.push(U[name]) } function positionToPercent(newX) { U.percent = newX / U.offsetWidth } function getHandlePercent() { var thumbHalf = U.handle.offsetWidth / U.offsetWidth / 2 var perc = MathUtils.restrict(_percent, thumbHalf, 1 - thumbHalf) - thumbHalf return perc * 100 } function dispatch() { // dispatching upward for extended classes such as UIProgress U.dispatchEvent(UIEvent.sliderUpdate) U.onUpdate.call(U, UIEvent.sliderUpdate) U._onUpdate.call(U, UIEvent.sliderUpdate) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleDown(event) { _dragging = true _startX = event.mouse.global.x - event.mouse.local.x positionToPercent(event.mouse.local.x) dispatch() } function handleUp(event) { _dragging = false } function handleDrag(event) { var pos = event.mouse.local.x if (event.mouse.global.x &lt;= _startX) { pos = 0 } positionToPercent(pos) dispatch() } function handleClick(event) { // stops a click event from bubbling up //event.stopImmediatePropagation(); GestureEvent.stop(event) } function handleBaseEnabled(event) { var listener = U.enabled ? 'addEventListener' : 'removeEventListener' Gesture[listener](U.hitState, GestureEvent.PRESS, handleDown) Gesture[listener](U.hitState, GestureEvent.RELEASE, handleUp) Gesture[listener](U.hitState, GestureEvent.DRAG, handleDrag) Gesture[listener](U.hitState, GestureEvent.CLICK, handleClick) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.addEventListener(UIEvent.ENABLED, handleBaseEnabled) U.enabled = true return U } } export default UISlider × Search results Close "},"ad-external_lib_StaticGenerator.js.html":{"id":"ad-external_lib_StaticGenerator.js.html","title":"Source: ad-external/lib/StaticGenerator.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-external/lib/StaticGenerator.js /** ---------------------------------------------------------------------------------------------------------------------------------------------------------- Class: StaticGenerator Description: This class controls the communication with the backend to enable static snap shots of the ad's endframe, including the ability to take a shot of every date for a unit with a DateSchedule determining its messaging. &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { StaticGenerator } from 'ad-external' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Adding a Schedule: (start code) // within AdData.js import { StaticGenerator } from 'ad-external' // create a schedule var schedule = new DateSchedule({ target: new TzDate({ datetime: Velvet.get('tune_in.datetime'), outputTimezone: Velvet.get('tune_in.timezone') }), isStandard: true }); // add the schedule to StaticGenerator StaticGenerator.addSchedule(schedule); // make a call that will be heard by Velvet StaticGenerator.dispatchData(); (end code) Adding custom data to be passed into the ad: (start code) // within AdData.js import { StaticGenerator } from 'ad-external' StaticGenerator.addCustomData({ type:'yellow' }); StaticGenerator.dispatchData(); (end code) Calling the snap shot at the end of the ad: (start code) // within Control this.animationComplete = function() { console.log( 'Control.animationComplete()' ); StaticGenerator.dispatchSnapshot(); } // then from the end of the animation, call Control.animationComplete() (end code) Notes: Some notes forthcoming. ---------------------------------------------------------------------------------------------------------------------------------------------------------- */ let _collection = [] /** @memberOf StaticGenerator @method schedule @param {DateSchedule} schedule A DateSchedule instance that determines different endframe messaging/layout @desc Add a DateSchedule to the class to be dispatched back to the server. A screen snap shot will be generated for each date in the schedule. This method can be called as many times as necessary such as with an ESPN double header. However, this should correspond to any DateSchedule that affects the endframe's layout/messaging only. */ export function addSchedule(schedule) { const dates = schedule.getDates(true) const tz = schedule.target.outputTimezone.abbr.toUpperCase() for (let i = 0; i &lt; dates.length; i++) { const item = dates[i] const date = item.date const obj = { date: date.toISO(), tz: tz, ltz: adParams.defaultTimezone, label: item.standardKey } // console.log('\\t', date.toFullDateTime(), '\\t', item.standardKey, '\\t', obj) _collection.push(obj) } } /** @memberOf StaticGenerator @method addCustomData @param {Object} obj An object with key/value pairs @desc Add an Object to the class to be dispatched back to the server. A screen snap shot will be generated for each data object. This method can be called as many times as necessary. */ export function addCustomData(obj) { trace('StaticGenerator.addCustomData()') if (typeof obj !== 'object'){ throw new Error('Cannot use a primative as data, must be an Object passed to .addCustomData()') } _collection.push(obj) } /** @memberOf StaticGenerator @method dispatchData @desc Passes all schedule dates or data objets back to the server. If it is dates, this is the list of dates that the ad will be set to inorder to get each different end frame messaging. If it is other data, it will be passed through the query string and can be consumed by the ad to indicate which state to shoot inThis should be called from AdData after all DateSchedules are defined and passed in. */ export function dispatchData() { if (_collection.length === 0) { _collection.push({ 'foo':'bar' }) } console.log('StaticGenerator.dispatchSchedule()\\n\\t', _collection) dispatch('setParameters', _collection) } /** @memberOf StaticGenerator @method dispatchSchedule @desc Calls back to the server to take a screen snap shot. This must be called after all animation is complete. */ export function dispatchSnapshot() { console.log('StaticGenerator.dispatchSnapshot()') dispatch('snapshot', {}) } function dispatch(event, data) { if (typeof window.callExternal === 'function') { window.callExternal({ event: event, data: data }) } } × Search results Close "},"ad-assets_lib_inline-src.js.html":{"id":"ad-assets_lib_inline-src.js.html","title":"Source: ad-assets/lib/inline-src.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-assets/lib/inline-src.js class InlineSrc { constructor() { this.assets = [] } /** @method add @param {string} path - relative path to an asset, like `'./images/rubber_ducky.png'` @param {string} src - base64-encoded asset, optional @desc Add a path to a component asset. Update a path with a data-src. */ add(path, src) { var asset = this.getAsset(path) if (asset) { asset.src = src || null } else { this.assets.push({ path: path, src: src || null }) } } /** @method get @param {string} path - relative path to an asset, like `'./images/rubber_ducky.png'` @desc If the asset path has been declared, and: - if a src has been provided, the asset data will be returned. - if a src has NOT been provided, the asset path will be returned. If the asset path has NOT been declared: - the path will be returned. */ get(path) { var asset = this.getAsset(path) if (asset) { return asset.src || `${asset.path}?=${Date.now()}` } else { return path } } // internal getAsset(path) { for (var i in this.assets) { console.log(this.assets[i], path) if (this.assets[i].path == path) { return this.assets[i] } } } } export default new InlineSrc() × Search results Close "},"ad-view_lib_Markup.js.html":{"id":"ad-view_lib_Markup.js.html","title":"Source: ad-view/lib/Markup.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-view/lib/Markup.js /** @npmpackage @class Markup @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-view&quot;&gt;ad-view&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Markup } from 'ad-view' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object contains utilities relateed to dom elements. */ /** @memberof Markup @method get @param {string} selector A string selector. It defaults to find the string as an id, or if the string starts with '#'. If starts with '.', it selects by class name. If wrapped with '&lt;&gt;', it selects by tag name. @param {element} parent Optional parent element to get the element(s) from. Defaults to document. @returns {element|HTMLCollection} One single element if the selector is an id. With class name or tag name, it returns an HTML collection ( similiar to an array ). @desc Used to select elements. @example // get element by its id called 'myId' Markup.get( 'myId' ); // same as above Markup.get( '#myId' ); // get element by CSS classname 'myClass' Markup.get( '.myClass' ); // get elements by tag name 'head' Markup.get( '&lt;head&gt;' ); */ export function get(selector, parent) { if (typeof selector !== 'string') { return selector } parent = parent || document selector = selector.trim() switch (selector[0]) { case '#': // id return parent.getElementById(selector.slice(1)) break case '.': // class return parent.getElementsByClassName(selector.slice(1)) break case '&lt;': // tag return parent.getElementsByTagName(selector.slice(1, selector.length - 1)) break default: // default to id for backworad support return parent.getElementById(selector) } } // the deprecated syntax 12/28/16 export function getElement(selector, parent) { return get(selector, parent) } /** @memberof Markup @method removeChildren @param {element} _target element to be targeted @desc Removes all the children elements of an element */ export function removeChildren(_target) { var element = get(_target) console.log('removeChildren (' + _target + ')') while (element.firstChild) { element.removeChild(element.firstChild) } } /* To be deprecated after moving addiFrame and addSvg to UIComponent */ // export function applyContainerCss (_element, _containerData) { // if (!_containerData.css) _containerData.css = {}; // if (!_containerData.css.position) // _containerData.css.position = 'absolute'; // Styles.setCss(_element, _containerData.css); // Styles.setCss(_element, _containerData.styles); // } /** Method: addIframe() Deprecated. Add an iframe to the containerData.target, pointing at containerData.source. */ export function addiFrame(_containerData) { var element = document.createElement('iFrame') element.id = _containerData.id element.width = _containerData.css.width element.height = _containerData.css.height delete _containerData.css.width delete _containerData.css.height // iframe properties element.setAttribute('src', _containerData.source) element.setAttribute('frameborder', '0') element.setAttribute('scrolling', 'no') element.setAttribute('allowfullscreen', '') applyContainerCss(element, _containerData) _containerData.target.appendChild(element) return element } /** Method: addSvg() Deprecated. _containerData - object with the necessary keys for creating an element. */ export function addSvg(_containerData) { var nameSpace = 'http://www.w3.org/2000/svg' var element = document.createElementNS(nameSpace, 'svg') element.setAttribute('height', _containerData.height) element.setAttribute('width', _containerData.width) var path = document.createElementNS(nameSpace, 'path') path.setAttribute('d', _containerData.d) path.setAttribute('fill', _containerData.fill) if (_containerData.stroke != undefined) { path.setAttribute('stroke', _containerData.stroke) } if (_containerData.strokeWidth != undefined) { path.setAttribute('stroke-width', _containerData.strokeWidth) } element.appendChild(path) applyContainerCss(element, _containerData) _containerData.target.appendChild(element) return element } /** @memberof Markup @method applyToElements @param {object} arg See properties for more info: @property {object} arg.scope the scope of this @property {function} arg.method the function to use @property {element|array} arg.element the element(s) to apply the method to, can be a single element or an array @property {string|number|array|object} arg.methodArg the argument to pass to the method function @desc Apply a method to multiple elements. Currently assuming the method accepts element as the first argument, and a second argument as the setting. @example var myElements = Markup.get( '.centered-blocks' ); Markup.applyToElements({ scope: Align, method: Align.set, elements: myElements, methodArg: { x: Align.CENTER } }); */ export function applyToElements(arg) { if (arg.elements.length === undefined) { // assume it is a single element arg.method.call(arg.scope, arg.elements, arg.methodArg) } else { // assume it is an array/HTML collection var i for (i = 0; i &lt; arg.elements.length; i++) { var el = arg.elements[i] arg.method.call(arg.scope, el, arg.methodArg) } } } × Search results Close "},"ad-view_lib_Align.js.html":{"id":"ad-view_lib_Align.js.html","title":"Source: ad-view/lib/Align.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-view/lib/Align.js /** @npmpackage @class Align @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-view&quot;&gt;ad-view&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Align } from 'ad-view' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Utility for aligning objects, which works for DOM elements and {@link CanvasDrawer} elements. The x and y alignments are split up into separate assignemnts in one call. There are extra parameters that can be passed into the object to handle more complex logic. &lt;br&gt;&lt;br&gt; &lt;b&gt;Notes:&lt;/b&gt; &lt;br&gt; Align, by default, snaps to a full pixel. To change this, see &lt;b&gt;Sample 3&lt;/b&gt; ( snap: false ) &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1&lt;/b&gt; &lt;codeblock&gt; // simple classic usage Align.set( myDiv, Align.LEFT ); // only align left Align.set( myDiv, Align.BOTTOM ); // only align bottom Align.set( myDiv, Align.CENTER ); // align both x and y to the center &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2&lt;/b&gt; &lt;codeblock&gt; // simply align the x and y seperately Align.set( myDiv, { x: Align.RIGHT, y: Align.BOTTOM }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3&lt;/b&gt; &lt;br&gt; &lt;b&gt;'against'&lt;/b&gt; is an object to which we align our given object, like making myDiv perfectly centered against myOtherDiv &lt;br&gt; &lt;b&gt;'against'&lt;/b&gt; could also be a number, as in align myDiv centered against adParams.adWidth / 2 &lt;br&gt; &lt;br&gt; &lt;b&gt;'outer'&lt;/b&gt; is an optional complex parameter which determines how we align to the 'against' object; default to false &lt;br&gt; If &lt;b&gt;'against'&lt;/b&gt; is a number, then &lt;b&gt;'outer'&lt;/b&gt; will have no affect. &lt;br&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/align/align_c.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; &lt;codeblock&gt; // complex alignment, align in relation to another div with an offset shift of 10 pixels, without snapping to a whole pixel Align.set( myDiv, { x: { type: Align.RIGHT, against: myOtherDiv offset: 10, outer: true }, y: { type: Align.BOTTOM, offset: 14 }, snap: false }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 4&lt;/b&gt; &lt;codeblock&gt; // complex alignment, align in relation to a fixed number with an offset shift of 10 pixels Align.set( myDiv, { x: { type: Align.RIGHT, against: 200 offset: 10, }, y: { type: Align.BOTTOM, against: 30 offset: 14 }, }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import * as Markup from './Markup' import * as Styles from './Styles' var _rect = [ { x: 'offsetWidth', y: 'offsetHeight', parent: 'parentNode' }, { x: 'width', y: 'height', parent: 'stage' } ] /** @memberof Align @const {string} BOTTOM Synonymous with &quot;alignBottom&quot; */ export const BOTTOM = 'alignBottom' /** @memberof Align @const {string} CENTER Synonymous with &quot;alignCenter&quot; */ export const CENTER = 'alignCenter' /** @memberof Align @const {string} LEFT Synonymous with &quot;alignLeft&quot; */ export const LEFT = 'alignLeft' /** @memberof Align @const {string} RIGHT Synonymous with &quot;alignRight&quot; */ export const RIGHT = 'alignRight' /** @memberof Align @const {string} TOP Synonymous with &quot;alignTop&quot; */ export const TOP = 'alignTop' /** @memberof Align @const {string} BOTTOM_LEFT Synonymous with &quot;alignBottomLeft&quot;, used for {@link UITextField.alignText} */ export const BOTTOM_LEFT = 'alignBottomLeft' /** @memberof Align @const {string} BOTTOM_RIGHT Synonymous with &quot;alignBottomRight&quot; used for {@link UITextField.alignText} */ export const BOTTOM_RIGHT = 'alignBottomRight' /** @memberof Align @const {string} TOP_LEFT Synonymous with &quot;alignTopLeft&quot; used for {@link UITextField.alignText} */ export const TOP_LEFT = 'alignTopLeft' /** @memberof Align @const {string} TOP_RIGHT Synonymous with &quot;alignTopRight&quot; used for {@link UITextField.alignText} */ export const TOP_RIGHT = 'alignTopRight' /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberof Align @method get @desc Calculates but does not apply the amount the source element will move horizontally and/or vertically, relative to its parent according to provided mode. The constants allow for picking which coordinate to apply. */ export function get(source, arg) { var elem = source.canvas || Markup.get(source) var obj = {} var snap = arg.snap !== false var sourceRect = isDomElement(source) ? 0 : 1 if (typeof arg == 'string') arg = calculate(arg) for (var xy in arg) { if (xy == 'x' || xy == 'y') { var params = arg[xy] // the x or y is null or undefined, so skip this pass of the loop if (!params) continue if (typeof params == 'string') params = { type: params } var against var againstDimension var againstX = 0 var againstNumber = false var offset = params.offset || 0 var _givenAgainst if (params.against !== undefined) { _givenAgainst = true against = params.against var againstRect = 0 if (isDomElement(against)) { if (against.canvas) againstRect = 1 else againstX = Styles.getCss(against, xy) } else if (typeof against === 'number') { againstNumber = true againstX = against } else { againstX = against[xy] againstRect = 1 } againstDimension = _rect[againstRect][xy] if (params.type === CENTER) arg[xy].outer = false } else { against = elem[_rect[sourceRect].parent] againstDimension = _rect[sourceRect][xy] } var widthOrHeight = elem[_rect[sourceRect][xy]] switch (source._type) { case 'arc': case 'path': switch (params.type) { case CENTER: widthOrHeight = 0 break default: offset += widthOrHeight / 2 break } break case 'text': if (xy === 'x') { switch (source.alignText) { case 'center': widthOrHeight = 0 case 'right': widthOrHeight *= -1 } } break } var pos = calculate(params.type, widthOrHeight, againstNumber ? 0 : against[againstDimension], !againstNumber &amp;&amp; !!arg[xy].outer) if (pos != null) { pos += againstX + offset obj[xy] = snap ? Math.round(pos) : pos } } } return obj } /** @memberof Align @method set @desc Moves the source element horizontally and/or vertically, relative to its parent according to provided mode. The constants allow for picking which coordinate to apply. */ export function set(source, arg) { var obj = get(source, arg) if (isDomElement(source)) { var elem = source.canvas || Markup.get(source) Styles.setCss(elem, obj) } else { for (var prop in obj) source[prop] = obj[prop] } return obj } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS // used internally by Flipbook export function calculate(mode, source, target, outer) { //console.log( 'calculate()', mode, source, target, outer ) // when only passing a string, this will create {x/y} from string var isConvert = arguments.length == 1 switch (mode) { case 'alignBottom': if (outer) source = 0 if (!isConvert) return target - source case 'alignTop': return isConvert ? { y: mode } : outer ? -source : 0 case 'alignRight': if (outer) target += source if (!isConvert) return target - source case 'alignLeft': return isConvert ? { x: mode } : outer ? -source : 0 case 'alignCenter': if (outer) target = 0 return isConvert ? { x: mode, y: mode } : (target - source) / 2 default: return null } } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function isDomElement(elem) { return elem instanceof HTMLElement || elem.canvas != undefined } /* ------------------------------------------------------------------------------------------------------------------------------- */ × Search results Close "},"ad-video_lib_AlphaVideoPlayer.js.html":{"id":"ad-video_lib_AlphaVideoPlayer.js.html","title":"Source: ad-video/lib/AlphaVideoPlayer.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/AlphaVideoPlayer.js /** @npmpackage @class AlphaVideoPlayer @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;ad-video&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { AlphaVideoPlayer } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object creates a {@link VideoPlayer} instance and attaches HTML Canvas masking. This player has the ability to function exactly the same as a regular {@link VideoPlayer} instance. &lt;br&gt;&lt;br&gt; &lt;b&gt;Note:&lt;/b&gt;&lt;br&gt; If using a dynamic video mask (rather than a static mask from a PNG, JPG, or other bitmap source) then ensure the runtimeIncludes object of your index.html file contains MpegPlugin.min.js: &lt;br&gt; var runtimeIncludes = { get mpegPluginPath(){ return adParams.corePath + &quot;js/video/MpegPlugin.min.js&quot;; }, }; &lt;br&gt; &lt;br&gt; For more info about building an AlphaVideoPlayer masked video, visit {@link https://confluence.ff0000.com/display/AT/Alpha+Video } &lt;br&gt; &lt;br&gt; There are two key properties which make AlphaVideoPlayer unique to VideoPlayer: &lt;br&gt; &lt;br&gt; &lt;b&gt;mask&lt;/b&gt;: An object with two parameters: &lt;br&gt; &lt;li&gt;&lt;b&gt;source&lt;/b&gt;: the image source to use as the mask&lt;/li&gt; &lt;li&gt;&lt;b&gt;alphaMatte&lt;/b&gt;: if true, uses the image's natural transparancies to create the masking. If false, will use black and white values to determine masking.&lt;/li&gt; &lt;br&gt; &lt;br&gt;By adding a mask, the video will have &lt;b&gt;STATIC MASKING&lt;/b&gt;. If The video's mask needs to move, this requires a &lt;b&gt;DYNAMIC MASKING&lt;/b&gt; solution. &lt;br&gt; &lt;br&gt; &lt;b&gt;videoStacked&lt;/b&gt;: If true, the video to render and video's luma matte are stacked within the video source. If false, the two are side by side. Default to false. &lt;br&gt;&lt;b&gt;Will be overwritten if a static mask is used&lt;/b&gt;. &lt;br&gt; &lt;br&gt; &lt;b&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;WARNING: If you are using a Dynamic Mask, the video format must be MPG and the index's runtimeIncludes must import the MpegPlugin.min.js&lt;/span&gt;&lt;/b&gt; &lt;codeblock&gt; var runtimeIncludes = { get mpegPluginPath(){ return adParams.corePath + &quot;js/video/MpegPlugin.min.js&quot;; }, }; &lt;/codeblock&gt; &lt;br&gt; &lt;b&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;In addition, if you are using building an inline autoplay unit, Android devices require a video format that must be MPG. The source can either be an MPG or an array.&lt;/span&gt;&lt;/b&gt; &lt;br&gt; &lt;b&gt;&lt;span style=&quot;color: #cc0000;&quot;&gt;Use an array for STATIC, not DYNAMIC, masking so that only Android needs to load the MpegPlugin script: other devices should be able to use MP4 just fine.&lt;/span&gt;&lt;/b&gt; &lt;codeblock&gt; source: adParams.videosPath + 'myVideo.mpg' // or source: [ adParams.videosPath + 'myVideo.mp4', adParams.videosPath + 'myVideo.mpg', ], &lt;/codeblock&gt; &lt;br&gt; &lt;br&gt; &lt;br&gt; &lt;b&gt;Sample Player - Uses a video with a &lt;i&gt;stacked&lt;/i&gt; masking source. &lt;span style=&quot;color: #cc0000;&quot;&gt;(NOTE THE MPG VIDEO FORMAT)&lt;/span&gt;&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.AlphaVideoPlayer = new AlphaVideoPlayer ({ id: 'myAlphaVideoPlayer', target: View.main, css: { width: 970, height: 650, }, source: adParams.videosPath + 'alpha_intro_vid_v2_withAlpha.mpg', videoStacked: true, preload: true, autoPlay: false, muted: true, } ); View.main.AlphaVideoPlayer.play(); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample - Uses a PNG - named 'red_png' - as a mask. The native alpha channel defines the visible area. &lt;span style=&quot;color: #cc0000;&quot;&gt;(NOTE THE MP4 VIDEO FORMAT)&lt;/span&gt;&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.AlphaVideoPlayer = new AlphaVideoPlayer ({ id: 'myAlphaVideoPlayer', target: View.main, css: { width: 970, height: 650, }, source: adParams.videosPath + 'alpha_intro_vid_v2_noAlpha.mp4', mask: { source: 'red_png', alphaMatte: true }, preload: true, autoPlay: false, muted: true, } ); View.main.AlphaVideoPlayer.play(); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/alphavideoplayer/alpha_mask.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; &lt;b&gt;Sample - Uses a JPG - named 'red_jpg' - as a mask. The image's blacks and whites define the visible area. &lt;span style=&quot;color: #cc0000;&quot;&gt;(NOTE THE MP4 VIDEO FORMAT)&lt;/span&gt;&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.AlphaVideoPlayer = new AlphaVideoPlayer ({ id: 'myAlphaVideoPlayer', target: View.main, css: { width: 970, height: 650, }, source: adParams.videosPath + 'alpha_intro_vid_v2_noAlpha.mp4', mask: { source: 'red_jpg', }, preload: true, autoPlay: false, muted: true, } ); View.main.AlphaVideoPlayer.play(); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/alphavideoplayer/luma_mask.jpg&quot; /&gt; */ /* https://gcdn.2mdn.net/videoplayback/id/edba9e97a7c1dd22/itag/15/source/doubleclick/ratebypass/yes/mime/video%2Fmp4/acao/yes/ip/0.0.0.0/ipbits/0/expire/3640115052/sparams/id,itag,source,ratebypass,mime,acao,ip,ipbits,expire/signature/482C5FCD4B7100BB1EC3FA2922402BDF5808CE11.4BE0A25B2024A5513902E3272CDE2F5FD4C4244F/key/ck2/file/file.mp4 https://s0.2mdn.net/fb1d420b-c1c9-4501-b0a9-367fcec2ec10 */ import { Device as D } from 'ad-external' import { CanvasDrawer, CanvasImage, CanvasUtils } from 'ad-canvas' import { ImageManager } from 'ad-control' import { LoaderUtils } from 'ad-load' import VideoPlayer from './VideoPlayer' var AlphaVideoPlayer = function(arg) { const Device = new D() arg.crossOrigin = 'anonymous' var _css = {} var _mult = 1 var _source = arg.source var _isMpg if (Array.isArray(_source)) { if (Device.type != 'desktop' &amp;&amp; Device.brand == 'android') { for (var i = 0; i &lt; _source.length; i++) { if (isSourceMpg(_source[i])) { arg.source = _source[i] _isMpg = true break } } } } else { _isMpg = isSourceMpg(_source) } var isStatic = arg.mask != undefined if (_isMpg) { arg.deviceType = 'mobile' arg.deviceBrand = 'android' if (!isStatic) _mult = 2 } for (var item in arg.css) _css[item] = arg.css[item] arg.css[arg.videoStacked ? 'height' : 'width'] *= _mult var A = new VideoPlayer(arg) /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARK-UP var outputCanvas = new CanvasDrawer({ id: 'AlphaVideoPlayer_outputCanvas', target: arg.target, css: _css }) if (isStatic) { var _maskImg = ImageManager.get(arg.mask.source) var maskCanvas = new CanvasDrawer({ // target: View.main, id: 'AlphaVideoPlayer_staticMaskCanvas', css: { width: _maskImg.width, height: _maskImg.height } }) // MAKE THE MASK IMAGE // creates a mask from an ALPHA MATTE new CanvasImage({ source: _maskImg, target: maskCanvas }) maskCanvas.update() // converts the mask layer into a LUMA matte if (arg.mask.alphaMatte !== true) applyLumaFromTo(maskCanvas, maskCanvas) // UPDATE THE MASK ELEMENT AND APPLY IT TO THE OUTPUT CANVAS AFTER APPLYING THE VIDEO REFERENCE new CanvasImage({ id: 'videoOutput', source: A[_isMpg ? 'mpgScreen' : 'screen'], target: outputCanvas, params: { width: outputCanvas.width, height: outputCanvas.height } }) new CanvasImage({ id: 'imageMask', source: maskCanvas, target: outputCanvas, blendMode: CanvasBlendMode.DEST_IN }) } else { if (!_isMpg) throw new Error('You want to use a dynamic masking solution: video format must be, and is not, .MPG') var startPos = arg.videoStacked ? [0, _css.height] : [_css.width, 0] var maskCanvas = new CanvasDrawer({ // target: View.main, id: 'AlphaVideoPlayer_dynamicCanvas', css: _css // debug: true }) // the LUMA section of the video which will be converted to a mask var _maskVid = new CanvasImage({ id: 'videoMask', source: A.mpgScreen, target: maskCanvas, params: { sourceX: startPos[0], sourceY: startPos[1], width: outputCanvas.width, height: outputCanvas.height, sourceW: outputCanvas.width, sourceH: outputCanvas.height } }) // the video elements to mask new CanvasImage({ id: 'videoOutput', source: A.mpgScreen, target: outputCanvas, params: { width: _maskVid.width, height: _maskVid.height, sourceW: _maskVid.width, sourceH: _maskVid.height } }) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function updateStatic() { // console.log('AlphaVideoPlayer.updateStatic()'); outputCanvas.update() } function updateDynamic() { // console.log('AlphaVideoPlayer.updateDynamic()'); maskCanvas.update() applyLumaFromTo(maskCanvas, outputCanvas) } function applyLumaFromTo(input, output) { output.update() var _imageDataOut = CanvasUtils.getImageData(output.canvas) var _pixelsIn = CanvasUtils.getImageData(input.canvas).data var _pixelsOut = _imageDataOut.data // var _lumaValue for (var i = 0; i &lt; _pixelsIn.length; i += 4) { _lumaValue = (_pixelsIn[i] + _pixelsIn[i + 1] + _pixelsIn[i + 2]) / 3 // this is done because MPG conversion changes the color values // pure black becomes rgb(16, 16, 16) rather than rgb(0, 0, 0) // pure white becomes rgb(235, 235, 235) rather than rgb(255, 255, 255) // and everything in between gets compressed proportionately // this converts that 16-235 range we get to the 0-255 range we desire if (_isMpg) { for (var a = 0; a &lt; 3; a++) _pixelsOut[i + a] = scaleTo255(_pixelsOut[i + a]) _lumaValue = scaleTo255(_lumaValue) } _pixelsOut[i + 3] = _lumaValue } CanvasUtils.setImageData(output, _imageDataOut) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handlePlay(event) { console.log('AlphaVideoPlayer.handlePlay()') FrameRate.register(A, isStatic ? updateStatic : updateDynamic) } function handleComplete(event) { console.log('AlphaVideoPlayer.handleComplete()') FrameRate.unregister(A, isStatic ? updateStatic : updateDynamic) } function scaleTo255(val) { return (val - 16) / 219 * 255 } function isSourceMpg(source) { var fileType = LoaderUtils.getFileType(source) return fileType == 'mpg' || fileType == 'js' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT A.screen.addEventListener('ended', handleComplete, false) A.screen.addEventListener('play', handlePlay, false) A.container.style.display = A.screen.style.display = 'none' if (A.mpgScreen) A.mpgScreen.style.display = 'none' return A } export default AlphaVideoPlayer × Search results Close "},"ad-utils_lib_ArrayUtils.js.html":{"id":"ad-utils_lib_ArrayUtils.js.html","title":"Source: ad-utils/lib/ArrayUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/ArrayUtils.js /** @npmpackage @class ArrayUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { ArrayUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object contains additional methods for manipulating arrays. */ /** @memberOf ArrayUtils @method combine @param {array} arr1 first array @param {array} arr2 second array appended to the first @desc A 'more friendly' concat function. */ export function combine(arr1, arr2) { return arr1.concat(arr2) } /** @memberOf ArrayUtils @method copy @param {array} array the array to duplicate @desc Creates a unique duplicate of the given array. */ export function copy(array) { return array.slice() } /** @memberOf ArrayUtils @method insertAt @param {array} array the array to modify @param {number} index the index to insert elements @param {arguments} arguments the elements to insert @desc Adds elements at a provided index. Returns a new array. */ export function insertAt(array, index) { var a = array.slice(0, index) var b = array.slice(index, array.length) var args = Array.prototype.slice.call(arguments) var values = args.slice(2, args.length) return a.concat(values).concat(b) } /** @memberOf ArrayUtils @method removeAt @param {array} array the array to modify @param {number} index the index of the element to remove @desc Removes an element at a provided index. Returns a new array. */ export function removeAt(array, index) { var a = copy(array) a.splice(index, 1) return a } /** @memberOf ArrayUtils @method remove @param {array} array the array to modify @param {number|string} item the item to remove from the array @desc Removes all instances of an element from the given array. Returns a new array. */ export function remove(array, item) { var _returnArray = array.slice() while (_returnArray.indexOf(item) &gt;= 0) _returnArray = removeAt(_returnArray, _returnArray.indexOf(item)) return _returnArray } /** @memberOf ArrayUtils @method shuffle @param {array} array the array to modify @desc Shuffles the array into a random order. */ export function shuffle(array) { return array.sort(function() { return Math.random() &lt; 0.5 ? 1 : -1 }) } /** @memberOf ArrayUtils @method contains @param {array} array the array to check @param {number|string} item the item to check for in the array @desc Determines if a given array contains a given element. Returns a boolean. */ export function contains(array, item) { return array.indexOf(item) &gt;= 0 } × Search results Close "},"ad-video_lib_AudioPlayer.js.html":{"id":"ad-video_lib_AudioPlayer.js.html","title":"Source: ad-video/lib/AudioPlayer.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/AudioPlayer.js /** @npmpackage @class AudioPlayer @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;ad-video&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { AudioPlayer } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object creates a custom Audio Player instance, which is an extension of the native DOM &lt;audio&gt; tag. All native functionality is available, such as load(), play(), pause(), and volume @example // instantiate new audio player View.main.audioPlayer = new AudioPlayer({ source: 'mySoundFile.mp3', target: View.main, id: 'My_Unique_ID', preload : false, autoPlay : false, muted : false, volume: .8, onReady: function(event){ console.log( 'audio ready') }, onProgress: function(event){ console.log( 'audio progress' ) }, onComplete: function(event){ console.log( 'audio complete' ) }, onFail: global.failAd, }) View.main.audioPlayer.play(); */ function AudioPlayer(arg) { 'use strict' // ------------------------------------------------------------------------------------------------------------------------------- var A = new Audio() if (arg.target) { arg.target.appendChild(A) } A.onComplete = arg.onComplete || function() {} A.onFail = arg.onFail || function() {} A.onBuffer = arg.onBuffer || function() {} A.onProgress = arg.onProgress || function() {} A.onReady = arg.onReady || function() {} var _preload = !!arg.preload var _autoPlay = !!arg.autoPlay var _source = [] // ------------------------------------------------------------------------------------------------------------------------------- // GETTERS | SETTERS Object.defineProperties(A, { /** @memberof AudioPlayer @var {boolean} autoPlay A Boolean that changes if the audio will automatically play. @example myPlayer.autoPlay = false; */ autoPlay: { get: function() { return _autoPlay }, set: function(value) { _autoPlay = value value ? A.setAttribute('autoplay', '') : A.removeAttribute('autoplay') } }, /** @memberof AudioPlayer @var {number} percent A Number 0-1 representing the audio timeline percent position. */ percent: { get: function() { return A.currentTime / A.duration || 0 } }, /** @memberof AudioPlayer @var {string} source Changes the source of the audio. Pass a string of the audio file path to set. @example myPlayer.source = 'audio/myAudio.mp3'; */ source: { get: function() { return A.src }, set: function(value) { _source = value A.preload = 'none' A.src = value } } /** @memberof AudioPlayer @var {number} volume Changes the volume of the audio. Assign a number, between 0 - 1 to set the volume. @example myPlayer.volume = .8; */ }) // ------------------------------------------------------------------------------------------------------------------------------- // PUBLIC METHODS /** @memberof AudioPlayer @method load @desc Loads the current audio source. If preload is true, this is redundant. @example myPlayer.load(); */ /** @memberof AudioPlayer @method play @desc Plays the current audio. @example myPlayer.play(); */ /** @memberof AudioPlayer @method pause @desc Pauses the current audio. @example myPlayer.pause(); */ /** @memberof AudioPlayer @method seek @param {number} sec The time to skip the audio to in seconds. @desc Skips the audio to a specific time. @example myPlayer.seek( 4 ); */ A.seek = function(sec) { if (sec &gt; A.duration) sec = A.duration else A.complete = false A.currentTime = sec console.log('\\t\\tseek()', sec, A.currentTime) } /** @memberof AudioPlayer @method stop @desc Stops the audio and resets it to the beginning. @example myPlayer.stop(); */ A.stop = function() { console.log('AudioPlayer.stop()') A.pause() A.currentTime = 0 A.dispatchEvent(new CustomEvent('stop')) } /** @memberof AudioPlayer @method mute @desc Mutes the Video Player, does not change the volume. @example myPlayer.mute() */ A.mute = function() { console.log('AudioPlayer.mute()') A.muted = true } /** @memberof AudioPlayer @method unmute @desc Unmutes the Video Player, does not change the volume. @example myPlayer.unmute() */ A.unmute = function() { console.log('AudioPlayer.unmute()') A.muted = false } // ------------------------------------------------------------------------------------------------------------------------------- // EVENT HANDLERS function handlePlay(event) { A.complete = false // In Safari, if the preload=none attribute is present, plays will not fire when called manually A.removeAttribute('preload') } function handleComplete(event) { console.log('handleComplete(), audio.paused =', A.paused) A.complete = true A.onComplete.call(A, event) A.dispatchEvent(new CustomEvent('complete')) } // ------------------------------------------------------------------------------------------------------------------------------- A.addEventListener('play', handlePlay, false) A.addEventListener('ended', handleComplete, false) A.addEventListener('timeupdate', A.onProgress, false) A.addEventListener('error', A.onFail, false) A.addEventListener('waiting', A.onBuffer, false) A.addEventListener('canplay', A.onReady, false) A.source = arg.source A.autoPlay = _autoPlay A.volume = arg.volume ? (arg.volume == 0 ? 0 : arg.volume) : 1 A.muted = !!arg.muted if (_autoPlay) { A.play() } else if (_preload) { A.load() } return A } export default AudioPlayer × Search results Close "},"ad-canvas_lib_CanvasBlendMode.js.html":{"id":"ad-canvas_lib_CanvasBlendMode.js.html","title":"Source: ad-canvas/lib/CanvasBlendMode.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasBlendMode.js /** @npmpackage @class CanvasBlendMode @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasBlendMode } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; See also {@link http://www.w3schools.com/tags/canvas_globalcompositeoperation.asp} and here {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation} &lt;br&gt;&lt;br&gt; &lt;b&gt;WARNING: If you try to apply a blend mode of any kind (masking) to a CanvasImage whose source is an SVG, it will not render properly in FireFox. This is a known browser issue&lt;/b&gt;&lt;br&gt; &lt;ul&gt; &lt;li&gt;Try drawing the SVG into a dummy canvas and then use that dummy canvas as the image source in place of the SVG for your masking&lt;/li&gt; &lt;li&gt;Use a PNG instead&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;DEFAULT / PLACEMENTS:&lt;/b&gt;&lt;br&gt; &lt;ul&gt; &lt;li&gt;NONE&lt;/li&gt; &lt;li&gt;UNDER&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;MASKING BLENDS:&lt;/b&gt;&lt;br&gt; Use the existing canvas drawings to act as the mask to the given drawing with this mode: &lt;ul&gt; &lt;li&gt;SOURCE_IN&lt;/li&gt; &lt;li&gt;SOURCE_OUT&lt;/li&gt; &lt;li&gt;SOURCE_ATOP&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; Use the given drawing with this mode to act as the mask to existing canvas drawings: &lt;ul&gt; &lt;li&gt;DEST_IN&lt;/li&gt; &lt;li&gt;DEST_OUT&lt;/li&gt; &lt;li&gt;DEST_ATOP&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; Miscellaneous: &lt;ul&gt; &lt;li&gt;XOR&lt;/li&gt; &lt;li&gt;COPY&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;UNIVERSAL BLEND MODES:&lt;/b&gt; &lt;ul&gt; &lt;li&gt;ADD&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;NOT SUPPORTED BY THESE BROWSER VERSIONS AND EARLIER:&lt;/b&gt;&lt;br&gt; Internet Explorer, Edge 12, Opera Mini 8, Android Browser 4.3:&lt;/b&gt; &lt;ul&gt; &lt;li&gt;DARKEN&lt;/li&gt; &lt;li&gt;LIGHTEN&lt;/li&gt; &lt;li&gt;OVERLAY&lt;/li&gt; &lt;li&gt;MULTIPLY&lt;/li&gt; &lt;li&gt;SCREEN&lt;/li&gt; &lt;li&gt;DODGE&lt;/li&gt; &lt;li&gt;BURN&lt;/li&gt; &lt;li&gt;HARD&lt;/li&gt; &lt;li&gt;SOFT&lt;/li&gt; &lt;li&gt;DIFFERENCE&lt;/li&gt; &lt;li&gt;EXCLUSION&lt;/li&gt; &lt;li&gt;HUE&lt;/li&gt; &lt;li&gt;SATURATION&lt;/li&gt; &lt;li&gt;COLOR&lt;/li&gt; &lt;li&gt;LUMINOSITY&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; */ /** @memberof CanvasBlendMode @const {string} NONE Represents 'source-over'. Displays the source content over the destination content. This is the default setting. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_none.jpg&quot; /&gt; @example CanvasBlendMode.NONE */ export const NONE = 'source-over' /** @memberof CanvasBlendMode @const {string} UNDER Represents 'destination-over'. Displays the destination content over the source content. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_under.jpg&quot; /&gt; @example CanvasBlendMode.UNDER */ export const UNDER = 'destination-over' // MASKS /** @memberof CanvasBlendMode @const {string} SOURCE_IN Represents 'source-in'. Displays the source content within the destination content. Only the part of the source content that is INSIDE the destination content is shown, and the destination content is transparent. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_sourceIn.jpg&quot; /&gt; @example CanvasBlendMode.SOURCE_IN */ export const SOURCE_IN = 'source-in' /** @memberof CanvasBlendMode @const {string} SOURCE_OUT Represents 'source-out'. Displays the source content outside of the destination content. Only the part of the source content that is OUTSIDE the destination content is shown, and the destination content is transparent. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_sourceOut.jpg&quot; /&gt; @example CanvasBlendMode.SOURCE_OUT */ export const SOURCE_OUT = 'source-out' /** @memberof CanvasBlendMode @const {string} SOURCE_ATOP Represents 'source-atop'. Displays the destination content on top of the source content. The part of the destination content that is outside the source content is not shown. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_sourceAtop.jpg&quot; /&gt; @example CanvasBlendMode.SOURCE_ATOP */ export const SOURCE_ATOP = 'source-atop' /** @memberof CanvasBlendMode @const {string} DEST_IN Represents 'destination-in'. Displays the destination content within the source content. Only the part of the destination content that is INSIDE the source content is shown, and the source content is transparent. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_destIn.jpg&quot; /&gt; @example CanvasBlendMode.DEST_IN */ export const DEST_IN = 'destination-in' /** @memberof CanvasBlendMode @const {string} DEST_OUT Represents 'destination-out'. Displays the destination content outside of the source content. Only the part of the destination content that is OUTSIDE the source content is shown, and the source content is transparent. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_destOut.jpg&quot; /&gt; @example CanvasBlendMode.DEST_OUT */ export const DEST_OUT = 'destination-out' /** @memberof CanvasBlendMode @const {string} DEST_ATOP Represents 'destination-atop'. Displays the destination content on top of the source content. The part of the destination content that is outside the source content is not shown. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_destAtop.jpg&quot; /&gt; @example CanvasBlendMode.DEST_ATOP */ export const DEST_ATOP = 'destination-atop' /** @memberof CanvasBlendMode @const {string} XOR Represents 'xor'. Only areas where the destination content and source content do not overlap are displayed. The parts that do overlap are not shown. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_xor.jpg&quot; /&gt; @example CanvasBlendMode.XOR */ export const XOR = 'xor' /** @memberof CanvasBlendMode @const {string} COPY Represents 'copy'. Displays the source content. The destination content is ignored. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blend_copy.jpg&quot; /&gt; @example CanvasBlendMode.COPY */ export const COPY = 'copy' // PROPER BLEND MODES /** @memberof CanvasBlendMode @const {string} ADD Represents 'lighter'. Where both shapes overlap, the color is values are added together. @example CanvasBlendMode.ADD */ export const ADD = 'lighter' // THE FOLLOWING BLEND MODES MIGHT NOT BE SUPPORTED BY INTERNET EXPLORER 11 (and earlier) OR SAFARI /** @memberof CanvasBlendMode @const {string} DARKEN Represents 'darken'. Retains the darkest pixels of both layers. @example CanvasBlendMode.DARKEN */ export const DARKEN = 'darken' /** @memberof CanvasBlendMode @const {string} LIGHTEN Represents 'lighten'. Retains the lightest pixels of both layers. @example CanvasBlendMode.LIGHTEN */ export const LIGHTEN = 'lighten' /** @memberof CanvasBlendMode @const {string} OVERLAY Represents 'overlay'. A combination of multiply and screen. Dark parts on the base layer become darker, and light parts become lighter. @example CanvasBlendMode.OVERLAY */ export const OVERLAY = 'overlay' /** @memberof CanvasBlendMode @const {string} MULTIPLY Represents 'multiply'. The pixels are of the top layer are multiplied with the corresponding pixel of the bottom layer. A darker picture is the result. @example CanvasBlendMode.MULTIPLY */ export const MULTIPLY = 'multiply' /** @memberof CanvasBlendMode @const {string} SCREEN Represents 'screen'. The pixels are inverted, multiplied, and inverted again. A lighter picture is the result (opposite of multiply) @example CanvasBlendMode.SCREEN */ export const SCREEN = 'screen' /** @memberof CanvasBlendMode @const {string} DODGE Represents 'color-dodge'. Divides the bottom layer by the inverted top layer. @example CanvasBlendMode.DODGE */ export const DODGE = 'color-dodge' /** @memberof CanvasBlendMode @const {string} BURN Represents 'color-burn'. Divides the inverted bottom layer by the top layer, and then inverts the result. @example CanvasBlendMode.BURN */ export const BURN = 'color-burn' /** @memberof CanvasBlendMode @const {string} HARD Represents 'hard-light'. A combination of multiply and screen like overlay, but with top and bottom layer swapped. @example CanvasBlendMode.HARD */ export const HARD = 'hard-light' /** @memberof CanvasBlendMode @const {string} SOFT Represents 'soft-light'. A softer version of hard-light. Pure black or white does not result in pure black or white. @example CanvasBlendMode.SOFT */ export const SOFT = 'soft-light' /** @memberof CanvasBlendMode @const {string} DIFFERENCE Represents 'difference'. Subtracts the bottom layer from the top layer or the other way round to always get a positive value. @example CanvasBlendMode.DIFFERENCE */ export const DIFFERENCE = 'difference' /** @memberof CanvasBlendMode @const {string} EXCLUSION Represents 'exclusion'. Like difference, but with lower contrast. @example CanvasBlendMode.EXCLUSION */ export const EXCLUSION = 'exclusion' /** @memberof CanvasBlendMode @const {string} HUE Represents 'hue'. Preserves the luma and chroma of the bottom layer, while adopting the hue of the top layer. @example CanvasBlendMode.HUE */ export const HUE = 'hue' /** @memberof CanvasBlendMode @const {string} SATURATION Represents 'saturation'. Preserves the luma and hue of the bottom layer, while adopting the chroma of the top layer. @example CanvasBlendMode.SATURATION */ export const SATURATION = 'saturation' /** @memberof CanvasBlendMode @const {string} COLOR Represents 'color'. Preserves the luma of the bottom layer, while adopting the hue and chroma of the top layer. @example CanvasBlendMode.COLOR */ export const COLOR = 'color' /** @memberof CanvasBlendMode @const {string} LUMINOSITY Represents 'luminosity'. Preserves the hue and chroma of the bottom layer, while adopting the luma of the top layer. @example CanvasBlendMode.LUMINOSITY */ export const LUMINOSITY = 'luminosity' × Search results Close "},"ad-canvas_lib_CanvasBlur.js.html":{"id":"ad-canvas_lib_CanvasBlur.js.html","title":"Source: ad-canvas/lib/CanvasBlur.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasBlur.js /** @npmpackage @class CanvasBlur @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasBlur } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Blurs all the imagery of a canvas given a Canvas element or CanvasDrawer instance. */ import * as CanvasUtils from './CanvasUtils' function BlurStack() { var BS = this BS.r = 0 BS.g = 0 BS.b = 0 BS.a = 0 BS.next = null } let mul_table = [ 512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259 ] /* ORIGINALLY FORMATTED LIKE THIS, FOR LEGIBILITY let mul_table = [ 512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292 , 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259 ]; */ let shg_table_counts = [1, 1, 2, 2, 4, 4, 7, 9, 14, 18, 27, 37, 54, 74] let shg_table = [9] for (var i = 0; i &lt; shg_table_counts.length; i++) { var nextSet = [] for (var k = 0; k &lt; shg_table_counts[i]; k++) { nextSet.push(i + 11) } shg_table = shg_table.concat(nextSet) } /** @memberof CanvasBlur @method set @param {object} obj an object with parameters for overall blurring, see properties for more information @property {CanvasDrawer|UICanvas|canvas} target a CanvasDrawer or CANVAS DOM element used to determine what to blur @property {number|object} amount a NUMBER by which blur the content of the target or an OBJECT containing unique X and Y blur amounts @property {number} amount.x NUMBER by which to blur the content horizontally (will average with a given Y blur) @property {number} amount.y NUMBER by which to blur the content vertically (will average with a given X blur) @property {boolean} alpha a BOOLEAN to toggle whether or not to blur a target's alpha values. Defaults to false, which will blur the content but preserve the shape of the imagery @property {boolean} clear a BOOLEAN which will redraw a CanvasDrawer (but not any other canvas element). Defaults to false, which will compound previous effects @desc Blur the content of a canvas DOM element &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLES::&lt;/b&gt;&lt;br&gt; Starting with this image::&lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/default.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; Blur while preserving alpha:: &lt;codeblock&gt; CanvasBlur.set({ target: _myCanvasDrawer.canvas, amount: 3, alpha: true }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blur.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; Blur while preserving outline::&lt;br&gt; &lt;codeblock&gt; // because clear: true, will redraw the canvas to remove the previous blur of amount: 3 // alpha: false will preserve the outline of the target while blurring its innards CanvasBlur.set({ target: _myCanvasDrawer, amount: 10, clear: true, alpha: false }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blur_noAlpha.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; Blur content horizontally only::&lt;br&gt; &lt;codeblock&gt; CanvasBlur.set({ target: _myCanvasDrawer, amount: { x: 20 } }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/blur_x.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; */ export function set(obj) { console.warn('CanvasBlur.set()', obj) var _blurOnX = false var _blurOnY = false var _blurAmount = obj.amount switch (typeof _blurAmount) { case 'number': _blurOnX = _blurOnY = true break case 'object': _blurAmount = 0 if (obj.amount.x &gt; 0) { _blurAmount += obj.amount.x _blurOnX = true } if (obj.amount.y &gt; 0) { _blurAmount += obj.amount.y _blurOnY = true } _blurAmount /= +_blurOnX + +_blurOnY break } // ALL OF THE VARS. MY GOD, ALL OF THE VARS. var _target = obj.target if (obj.clear || _blurAmount === 0) { if (_target.update) _target.update() else throw new Error('Unable to clear a canvas DOM element, requires CanvasDrawer. Effects will stack, not reset.') } if (isNaN(_blurAmount) || _blurAmount &lt; 1) return _blurAmount |= 0 var _alpha = obj.alpha obj = null _target = _target.canvas || _target var imageData = CanvasUtils.getImageData(_target) var pixels = imageData.data var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs var stackStart = new BlurStack() var stack = stackStart var stackIn = null var stackOut = null // THINGS CALCULATED BASED ON PASSED PARAMETERS var _bWidth = _target.width var _bHeight = _target.height var div = _blurAmount + _blurAmount + 1 var widthMinus1 = _bWidth - 1 var heightMinus1 = _bHeight - 1 var radiusPlus1 = _blurAmount + 1 var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2 for (i = 1; i &lt; div; i++) { stack = stack.next = new BlurStack() if (i == radiusPlus1) var stackEnd = stack } stack.next = stackStart yw = yi = 0 var mul_sum = mul_table[_blurAmount] var shg_sum = shg_table[_blurAmount] // OK, LET'S BLUR THIS GOOSE! if (_blurOnX) { // BLUR HORIZONTALLY for (y = 0; y &lt; _bHeight; y++) { r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0 r_out_sum = radiusPlus1 * (pr = pixels[yi]) g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]) b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]) r_sum += sumFactor * pr g_sum += sumFactor * pg b_sum += sumFactor * pb if (_alpha) { a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]) a_sum += sumFactor * pa } stack = stackStart for (i = 0; i &lt; radiusPlus1; i++) { stack.r = pr stack.g = pg stack.b = pb if (_alpha) stack.a = pa stack = stack.next } for (i = 1; i &lt; radiusPlus1; i++) { if (_alpha) { a_sum += (stack.a = pa = pixels[p + 3]) * rbs a_in_sum += pa } p = yi + ((widthMinus1 &lt; i ? widthMinus1 : i) &lt;&lt; 2) r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i) g_sum += (stack.g = pg = pixels[p + 1]) * rbs b_sum += (stack.b = pb = pixels[p + 2]) * rbs r_in_sum += pr g_in_sum += pg b_in_sum += pb stack = stack.next } stackIn = stackStart stackOut = stackEnd for (x = 0; x &lt; _bWidth; x++) { if (_alpha) { pixels[yi + 3] = pa = (a_sum * mul_sum) &gt;&gt; shg_sum if (pa != 0) { pa = 255 / pa pixels[yi] = ((r_sum * mul_sum) &gt;&gt; shg_sum) * pa pixels[yi + 1] = ((g_sum * mul_sum) &gt;&gt; shg_sum) * pa pixels[yi + 2] = ((b_sum * mul_sum) &gt;&gt; shg_sum) * pa } else { pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0 } } else { pixels[yi] = (r_sum * mul_sum) &gt;&gt; shg_sum pixels[yi + 1] = (g_sum * mul_sum) &gt;&gt; shg_sum pixels[yi + 2] = (b_sum * mul_sum) &gt;&gt; shg_sum } r_sum -= r_out_sum g_sum -= g_out_sum b_sum -= b_out_sum r_out_sum -= stackIn.r g_out_sum -= stackIn.g b_out_sum -= stackIn.b if (_alpha) { a_sum -= a_out_sum a_out_sum -= stackIn.a } p = (yw + ((p = x + _blurAmount + 1) &lt; widthMinus1 ? p : widthMinus1)) &lt;&lt; 2 r_in_sum += stackIn.r = pixels[p] g_in_sum += stackIn.g = pixels[p + 1] b_in_sum += stackIn.b = pixels[p + 2] r_sum += r_in_sum g_sum += g_in_sum b_sum += b_in_sum r_out_sum += pr = stackOut.r g_out_sum += pg = stackOut.g b_out_sum += pb = stackOut.b r_in_sum -= pr g_in_sum -= pg b_in_sum -= pb if (_alpha) { a_in_sum += stackIn.a = pixels[p + 3] a_sum += a_in_sum a_out_sum += pa = stackOut.a a_in_sum -= pa } stackIn = stackIn.next stackOut = stackOut.next yi += 4 } yw += _bWidth } } if (_blurOnY) { // BLUR VERTICALLY for (x = 0; x &lt; _bWidth; x++) { g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0 yi = x &lt;&lt; 2 r_out_sum = radiusPlus1 * (pr = pixels[yi]) g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]) b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]) r_sum += sumFactor * pr g_sum += sumFactor * pg b_sum += sumFactor * pb if (_alpha) { a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]) a_sum += sumFactor * pa } stack = stackStart for (i = 0; i &lt; radiusPlus1; i++) { stack.r = pr stack.g = pg stack.b = pb if (_alpha) stack.a = pa stack = stack.next } yp = _bWidth for (i = 1; i &lt;= _blurAmount; i++) { yi = (yp + x) &lt;&lt; 2 r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i) g_sum += (stack.g = pg = pixels[yi + 1]) * rbs b_sum += (stack.b = pb = pixels[yi + 2]) * rbs r_in_sum += pr g_in_sum += pg b_in_sum += pb if (_alpha) { a_sum += (stack.a = pa = pixels[yi + 3]) * rbs a_in_sum += pa } stack = stack.next if (i &lt; heightMinus1) { yp += _bWidth } } yi = x stackIn = stackStart stackOut = stackEnd for (y = 0; y &lt; _bHeight; y++) { p = yi &lt;&lt; 2 if (_alpha) { pixels[p + 3] = pa = (a_sum * mul_sum) &gt;&gt; shg_sum if (pa &gt; 0) pixels[p] = ((r_sum * mul_sum) &gt;&gt; shg_sum) * (pa = 255 / pa) else pixels[p] = pixels[p + 1] = pixels[p + 2] = 0 } else { pa = 1 pixels[p] = (r_sum * mul_sum) &gt;&gt; shg_sum } pixels[p + 1] = ((g_sum * mul_sum) &gt;&gt; shg_sum) * pa pixels[p + 2] = ((b_sum * mul_sum) &gt;&gt; shg_sum) * pa r_sum -= r_out_sum g_sum -= g_out_sum b_sum -= b_out_sum r_out_sum -= stackIn.r g_out_sum -= stackIn.g b_out_sum -= stackIn.b p = (x + ((p = y + radiusPlus1) &lt; heightMinus1 ? p : heightMinus1) * _bWidth) &lt;&lt; 2 r_sum += r_in_sum += stackIn.r = pixels[p] g_sum += g_in_sum += stackIn.g = pixels[p + 1] b_sum += b_in_sum += stackIn.b = pixels[p + 2] r_out_sum += pr = stackOut.r g_out_sum += pg = stackOut.g b_out_sum += pb = stackOut.b r_in_sum -= pr g_in_sum -= pg b_in_sum -= pb if (_alpha) { a_sum -= a_out_sum a_out_sum -= stackIn.a a_sum += a_in_sum += stackIn.a = pixels[p + 3] a_out_sum += pa = stackOut.a a_in_sum -= pa } stackIn = stackIn.next stackOut = stackOut.next yi += _bWidth } } } CanvasUtils.setImageData(_target, imageData) } /* NOTE: This is a trimmed-down version of StackBlur, as found here http://quasimondo.com/StackBlurForCanvas/StackBlurDemo.html Original release notes below /* StackBlur - a fast almost Gaussian Blur For Canvas Version: 0.5 Author: Mario Klingemann Contact: mario@quasimondo.com Website: http://www.quasimondo.com/StackBlurForCanvas Twitter: @quasimondo In case you find this class useful - especially in commercial projects - I am not totally unhappy for a small donation to my PayPal account mario@quasimondo.de Or support me on flattr: https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript Copyright (c) 2010 Mario Klingemann Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. */ // export default CanvasBlur × Search results Close "},"ad-canvas_lib_CanvasCircle.js.html":{"id":"ad-canvas_lib_CanvasCircle.js.html","title":"Source: ad-canvas/lib/CanvasCircle.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasCircle.js /** @npmpackage @class CanvasCircle @param {object} circObj an object containing the arguments for defining / orienting the circle, see Properties for more information @property {CanvasDrawer} target the CanvasDrawer element in which to draw the circle. @property {string} id an optional STRING defining the name by which the circle will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a CanvasDrawer. @property {object} params an object with the following properites: @property {number} params.x NUMBER X coordinate for where to draw the image data @property {number} params.y NUMBER Y coordinate for where to draw the image data @property {number} params.radius NUMBER for the radius of the circle @property {number} params.width NUMBER for the width (diameter) of the circle. Overrides radius @property {number} params.startRad NUMBER IN RADIANS for starting angle of circle's arc @property {number} params.endRad NUMBER IN RADIANS for ending angle of circle's arc @property {number} params.startAngle NUMBER IN DEGREES for starting angle of circle's arc (overrides startRad) @property {number} params.endAngle NUMBER IN DEGREES for ending angle of circle's arc (overrides endRad) @property {number} params.scale NUMBER for uniform scale of the drawing, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY. @property {number} params.scaleX NUMBER for X scale of the drawing, scaling from drawing center unless transformOrigin is changed @property {number} params.scaleY NUMBER for Y scale of the drawing, scaling from drawing center unless transformOrigin is changed @property {number} params.rotation NUMBER IN DEGREES for the start rotation of the given drawing @property {string} params.transformOrigin an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '50% 50%'. @property {number} params.alpha NUMBER for alpha of the drawing @property {number} dropShadow an optional OBJECT defining properties of the circle's drop shadow @property {number} dropShadow.angle NUMBER IN DEGREES for the angle to position the shadow @property {number} dropShadow.distance NUMBER for how far away from the circle the shadow is @property {number} dropShadow.blur NUMBER for how blurry the shadow is @property {string|object} dropShadow.color optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' @property {number} dropShadow.alpha NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color. @property {string|CanvasBlendMode} blendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over'. @property {string|CanvasTexture} fill an optional STRING or gradiant variable defining the color fill of the circle. Defaults to none / invisible. @property {string} stroke an optional OBJECT defining properties of the circle's stroke @property {string|CanvasTexture} stroke.fill an optional STRING or gradiant variable defining the color fill of the circle stroke. Defaults to none / invisible. @property {number} stroke.width an optional NUMBER value determining stroke width. Defaults to 0. @property {string} stroke.position an optional STRING determining if the stroke will be 'outer' or 'center'. Defaults to 'outer', there is no 'inner'. @property {string} stroke.cap an optional STRING value determining a line's cap style: 'butt', 'round', and 'square'. Defaults to 'butt'. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/lineCap.jpg&quot; /&gt; &lt;br&gt; @property {string} stroke.join an optional STRING value determining how two lines/corners connect: 'round', 'bevel', and 'miter'. Defaults to 'miter'. &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/lineJoin.jpg&quot; /&gt; &lt;br&gt; @property {number} stroke.dashSize an optional NUMBER value determining the length of each segment in a dashed line. @property {number} stroke.dashGap an optional NUMBER value determining the gap between each segment in a dashed line. Defaults to 0, unless dashSize is defined, then defaults to dashSize. @property {number} stroke.dashOffset an optional NUMBER value which offsets the positioning of the dash segments. A positive number moves them counter-clockwise. Defaults to 0. @property {string} visible an optional BOOLEAN that, when set to false, will not render the element. Defaults to true. @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasCircle } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Add a circle shape to a {@link CanvasDrawer} based on a given object, and return a reference to that shape. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1&lt;/b&gt;&lt;br&gt; Adding an semi-circle arc with a red fill and no lines::&lt;br&gt; &lt;codeblock&gt; var _myShape = new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x: 150, y: 125, radius: 100, startRad: MathUtils.toRadians(0), endRad: MathUtils.toRadians(180) }, fill: 'red' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2&lt;/b&gt;&lt;br&gt; adding the same circle using WIDTH and DEGREES instead of RADIUS and RADIANS::&lt;br&gt; &lt;codeblock&gt; var _myShape = new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x:150, y:125, width:200, startAngle:0, endAngle:180 }, fill: 'red' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ /** @memberof CanvasCircle @const {string} id READ-ONLY: STRING representing the id of the element */ /** @memberof CanvasCircle @var {number} x NUMBER representing the horizontal position of the element */ /** @memberof CanvasCircle @var {number} y NUMBER representing the vertical position of the element */ /** @memberof CanvasCircle @var {number} width NUMBER representing the total width or diameter of the element */ /** @memberof CanvasCircle @var {number} radius NUMBER representing the radius of the element, */ /** @memberof CanvasCircle @var {number} rotation NUMBER representing the rotation, in degrees, of the element */ /** @memberof CanvasCircle @var {number} alpha NUMBER representing the opacity of the element */ /** @memberof CanvasCircle @var {number} scale NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY */ /** @memberof CanvasCircle @var {number} scaleX NUMBER representing the horizontal scale of the element */ /** @memberof CanvasCircle @var {number} scaleY NUMBER representing the vertical scale of the element */ /** @memberof CanvasCircle @var {number} blendMode NUMBER representing the blend or masking style applied to the element */ /** @memberof CanvasCircle @var {boolean} visible BOOLEAN representing whether or not the element should be drawn, */ /** @memberof CanvasCircle @var {string} transformOrigin STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE::&lt;/b&gt;&lt;br&gt; &lt;ul&gt; &lt;li&gt;&lt;code&gt;50% 50%&lt;/code&gt; is centered, based on percentage.&lt;/li&gt; &lt;li&gt;&lt;code&gt;50px 50px&lt;/code&gt; is 50 px away from &lt;code&gt;0% 0%&lt;/code&gt; vertically and horizontally.&lt;/li&gt; &lt;li&gt;&lt;code&gt;50 50&lt;/code&gt; is the same as &lt;code&gt;50px 50px&lt;/code&gt;.&lt;/li&gt; &lt;li&gt;Values can be mixed: &lt;code&gt;50% 10px&lt;/code&gt;, for instance.&lt;/li&gt; &lt;/ul&gt; &lt;br&gt; &lt;b&gt;EXAMPLES::&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; &lt;/codeblock&gt; &lt;br&gt; */ /** @memberof CanvasCircle @var {string} fill STRING, gradient, or texture representing the color used to fill the shape */ /** @memberof CanvasCircle @var {string} strokeFill STRING, gradient, or texture representing the color used to fill the shape's stroke */ /** @memberof CanvasCircle @var {number} strokeWidth NUMBER representing the width of the shape's outline */ /** @memberof CanvasCircle @var {string} strokeCap STRING representing how the two ends of a line form: 'butt', 'round', and 'square', */ /** @memberof CanvasCircle @var {string} strokeJoin STRING representing how two lines/corners form: 'round', 'bevel', and 'miter' */ /** @memberof CanvasCircle @var {string} strokePosition STRING repsenting the position of the shape's stroke, 'outer' or 'center'; there is no 'inner' */ /** @memberof CanvasCircle @var {number} strokeDashSize NUMBER representing the length of each segment in a dashed line */ /** @memberof CanvasCircle @var {number} strokeDashGap NUMBER representing the gap between each segment in a dashed line */ /** @memberof CanvasCircle @var {number} strokeDashOffset NUMBER representing the offset positioning of the dash segments */ /** @memberof CanvasCircle @var {string} shadowColor STRING representing the color of the drop shadow in RGBA format */ /** @memberof CanvasCircle @var {number} shadowBlur NUMBER representing the amount of blur on the drop shadow */ /** @memberof CanvasCircle @var {number} shadowAngle NUMBER representing the angle, in degrees, of the drop shadow */ /** @memberof CanvasCircle @var {number} shadowDistance NUMBER representing the distance of the drop shadow from the element */ import CanvasShape from './CanvasShape' class CanvasCircle extends CanvasShape { constructor(circObj) { circObj.type = 'arc' super(circObj) } _setShapeParams(args) { var CC = this CC.x = args[0] CC.y = args[1] CC.width = CC.height = args[2] * 2 } _prepDrawing(translation) { var CC = this if (translation) { CC.args[0] = -CC._offsetX * CC.stage.qualityScale CC.args[1] = -CC._offsetY * CC.stage.qualityScale } else { CC.args[0] = CC.x * CC.stage.qualityScale CC.args[1] = CC.y * CC.stage.qualityScale } CC.args[2] = CC.width / 2 * CC.stage.qualityScale // arCC can't have negative radius, so this prevents that from happening if (CC.args[2] &lt; 0) CC.args[2] = 0 CC.stage.ctx.arc.apply(CC.stage.ctx, CC.args) } } export default CanvasCircle × Search results Close "},"ad-canvas_lib_CanvasColoring.js.html":{"id":"ad-canvas_lib_CanvasColoring.js.html","title":"Source: ad-canvas/lib/CanvasColoring.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasColoring.js /** @npmpackage @class CanvasColoring @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasColoring } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Apply letious color effects to a canvas given a Canvas element or CanvasDrawer instance. &lt;br&gt;&lt;br&gt; All examples in this class demonstrate effects applied to this image:&lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/default.jpg&quot; /&gt;&lt;br&gt; */ import { ColorUtils } from 'ad-utils' import * as CanvasUtils from './CanvasUtils' // PUBLIC FUNCTIONS /** @memberof CanvasColoring @method saturation @param {object} obj an object with paramaters for overall saturation, see Properties for more info: @property {CanvasDrawer|UICanvas|canvas} target a CanvasDrawer or CANVAS DOM to which the effect is applied @property {number} amount a NUMBER representing the total saturation of the target. 0 = grayscale, 1 = full, original color @property {boolean} clear a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects @desc &lt;b&gt;EXAMPLE::&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // convert to full grayscale CanvasColoring.saturation({ target: _myCanvasDrawer, amount: 0, }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/sat.jpg&quot; /&gt; */ export function saturation(obj) { obj.type = 'saturation' _engine(obj) } /** @memberof CanvasColoring @method contrast @param {object} obj an object with paramaters for overall saturation, see Properties for more info: @property {CanvasDrawer|UICanvas|canvas} target a CanvasDrawer or CANVAS DOM to which the effect is applied @property {number} amount a NUMBER representing the contrast of the target. 0 = no contrast, 1 = original contrast, &gt;1 = more and more, to infinity and beyond! @property {boolean} clear a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects @desc Change the contrast of the target. &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLE::&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // get your whites whiter and brights brighter CanvasColoring.contrast({ target: _myCanvasDrawer, amount: 10, }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/contrast.jpg&quot; /&gt; */ export function contrast(obj) { obj.type = 'contrast' _engine(obj) } /** @memberof CanvasColoring @method tint @param {object} obj an object with paramaters for overall saturation, see Properties for more info: @property {CanvasDrawer|UICanvas|canvas} target a CanvasDrawer or CANVAS DOM to which the effect is applied @property {number} amount a NUMBER representing the percentage of color to apply to the target. Defaults to 1, which is 100% color tinting @property {string|object} color a HEX, RGB/A STRING, or RGB/A OBJECT represeting the color to tint to. Color-name strings such as 'red' and 'blue' will throw errors @property {boolean} clear a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects @desc Tint the target uniformly to a given color. &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLE::&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // tint to GREEN CanvasColoring.tint({ target: _myCanvasDrawer, color: 'rgb(0, 255, 0)', amount: 1 }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/tintGreen.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; &lt;codeblock&gt; // tint to MAGENTA CanvasColoring.tint({ target: _myCanvasDrawer, color: { r: 255, g: 0, b: 255 }, amount: 1 }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/tintMagenta.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; &lt;codeblock&gt; // 50% tint to BLUE CanvasColoring.tint({ target: _myCanvasDrawer, color: '#0000ff', amount: 0.5 }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/tintBlue.jpg&quot; /&gt; */ export function tint(obj) { obj.type = 'tint' _engine(obj) } /** @memberof CanvasColoring @method transform @param {object} obj an object with paramaters for overall saturation, see Properties for more info: @property {CanvasDrawer|UICanvas|canvas} target a CanvasDrawer or CANVAS DOM to which the effect is applied @property {number} amount a NUMBER representing the percentage of color to apply to the target. Defaults to 1, which is 100% color transform @property {string|object} color a HEX, RGB/A STRING, or RGB/A OBJECT represeting the color to transform to. Color-name strings such as 'red' and 'blue' will throw errors @property {boolean} clear a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects. @desc Color Transforms the target to a given color by pulling colors out of image; preserves shading. &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLE::&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // pulls all colors EXCEPT for GREEN values out of the target CanvasColoring.transform({ target: _myCanvasDrawer, color: 'rgb(0, 255, 0)', amount: 1 }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/transGreen.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; &lt;codeblock&gt; // pulls all colors EXCEPT for RED and BLUE values out of the target CanvasColoring.transform({ target: _myCanvasDrawer, color: { r: 255, g: 0, b: 255 }, amount: 1 }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/transBlueRed.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; &lt;codeblock&gt; // pulls 50% of all colors EXCEPT for BLUE values out of the target CanvasColoring.transform({ target: _myCanvasDrawer, color: '#0000ff', amount: 0.5 }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/transBlue.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; */ export function transform(obj) { obj.type = 'transform' _engine(obj) } /** @memberof CanvasColoring @method invert @param {object} obj an object with parameters for overall inversion, see Properties for more info: @property {CanvasDrawer|UICanvas|canvas} target a CanvasDrawer or CANVAS DOM to which the effect is applied @property {boolean} clear a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects. @desc Invert the colors of the target. &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLE::&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; CanvasColoring.invert({ target: _myCanvasDrawer }); &lt;/codeblock&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/invert.jpg&quot; /&gt; &lt;br&gt;&lt;br&gt; */ export function invert(obj) { obj.type = 'invert' _engine(obj) } // PRIVATE FUNCTIONS // ------------------------------------------------------------------ // function _engine(obj) { if (obj.color) { obj.color = ColorUtils.toRgba(obj.color) if (obj.color.r === undefined) throw new Error( &quot;The color passed to CanvasColorUtils does not meet the HEX or RGB/A definition requirement: given '&quot; + obj.color + &quot;'&quot; ) } // let _target = obj.target obj.amount = obj.amount === undefined ? 1 : obj.amount if (obj.clear) { if (_target.update) _target.update() else throw new Error('Unable to clear a canvas DOM element, requires CanvasDrawer. Effects will stack, not reset.') } // _target = _target.canvas || _target let _imageData = CanvasUtils.getImageData(_target) let _pixels = _imageData.data let _endColor let _colID = ['r', 'g', 'b'] // let i, c for (i = 0; i &lt; _pixels.length; i += 4) { _endColor = ColorUtils[obj.type]({ from: { r: _pixels[i], g: _pixels[i + 1], b: _pixels[i + 2] }, to: obj.color || null, amount: obj.amount, format: 'object' }) for (c = 0; c &lt; 3; c++) _pixels[i + c] = _endColor[_colID[c]] } // overwrite original image CanvasUtils.setImageData(_target, _imageData) } × Search results Close "},"ad-canvas_lib_CanvasDrawer.js.html":{"id":"ad-canvas_lib_CanvasDrawer.js.html","title":"Source: ad-canvas/lib/CanvasDrawer.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasDrawer.js /** @npmpackage @class CanvasDrawer @param {object} arg Settings are passed in via this object, see Properties for more info: @property {string} id a STRING id suffix the canvas DOM element will go by; is appeneded to 'cd_' @property {element} target the target DOM element in which to place the canvas element; if undefined, element will not be added to DOM @property {object} css an optional CSS object defining the style of the canvas. If undefined, will size canvas to the width and height of the target DOM element. @property {boolean} clearCanvas an optional BOOLEAN which determines if, on update, the CanvasDrawer clears the contents of its canvas before redrawing every CanvasElement; defaults to true. @property {boolean} retina an optional BOOLEAN which determine whether or not to create the canvas and its elements at retina (double) resolution; defaults to false. @property {boolean} subPixeling an optional BOOLEAN which will override retina to true but preserve certain width/height values to produce smoother sub-pixeling in animations; defaults to false. @property {boolean} debug an optional BOOLEAN value of true will make the canvas background green; defaults to false. @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasDrawer } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Is the returned instance of CanvasDrawer. &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE::&lt;/b&gt; &lt;ul&gt; &lt;li&gt;The update() method is key to displaying any element added creating a new CanvasElement. If you add something and don't see it, you might not have used update()&lt;/li&gt; &lt;li&gt;You &lt;b&gt;SHOULD NOT&lt;/b&gt; run the update() method after every individual element is added, but rather &lt;b&gt;once&lt;/b&gt; after the creation of all your elements&lt;/li&gt; &lt;/ul&gt; @example View.main.myCanvasDrawer = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, retina: true, debug: false }); */ /* TODO check to see if canvas ID already exists BUG: context doesn't save / clear based on stroke dash */ import { Styles, Align } from 'ad-view' import { UICanvas } from 'ad-ui' import { MathUtils, ObjectUtils } from 'ad-utils' class CanvasDrawer { /** @memberof CanvasDrawer @var {UICanvas} canvas @desc the actual canvas DOM element in which the CanvasDrawer's instance draws */ /** @memberof CanvasDrawer @var ctx @desc The context2d of the canvas DOM element */ /** @memberof CanvasDrawer @var {boolean} clearCanvas @desc BOOLEAN for if the canvas drawer should clear itself on every update before re-drawing its CanvasElements */ /** @memberof CanvasDrawer @var {number} qualityScale @desc NUMBER representing the scale of the canvas DOM element: if retina or subPixeling were set to true, is equal to 2. Defaults to 1. */ /** @memberof CanvasDrawer @var {object} elements @desc Object containing all of the drawing elements created through new CanvasElements. */ /** @memberof CanvasDrawer @var {number} elementsLength @desc Number of total elements */ constructor(arg) { let CD = this CD._init(arg) return CD } _init(arg) { let CD = this var _css = { width: arg.css &amp;&amp; arg.css.width ? arg.css.width : arg.target &amp;&amp; arg.target !== 'body' ? Styles.getCss(arg.target, 'width') : adParams.adWidth, height: arg.css &amp;&amp; arg.css.height ? arg.css.height : arg.target &amp;&amp; arg.target !== 'body' ? Styles.getCss(arg.target, 'height') : adParams.adHeight, background: arg.debug === true ? 'green' : '', pointerEvents: 'none' } if (arg.css) for (var item in arg.css) _css[item] = arg.css[item] // // // if (arg.subPixeling === true) arg.retina = true CD.qualityScale = arg.retina ? 2 : 1 CD._imageScale = arg.subPixeling ? 1 : CD.qualityScale _css.width *= CD.qualityScale _css.height *= CD.qualityScale CD.canvas = new UICanvas({ id: 'cd_' + arg.id, target: arg.target, css: ObjectUtils.clone(_css) }) if (CD.qualityScale !== 1) Styles.setCss(CD.canvas, { width: CD.canvas.width / CD.qualityScale, height: CD.canvas.height / CD.qualityScale }) if (arg.align) Align.set(CD, arg.align) CD.ctx = CD.canvas.context2d CD.elements = {} CD._allTweens = {} CD._allTweensSize = 0 CD.elementsLength = 0 CD._dummyTween CD.clearCanvas = arg.clearCanvas != false } /** @memberof CanvasDrawer @var {number} width @desc Number to set or retrieve the width of the canvas */ get width() { return this.canvas.width / this.qualityScale } set width(value) { this.canvas.width = value * this.qualityScale } /** @memberof CanvasDrawer @var {number} height @desc Number to set or retrieve the width of the canvas */ get height() { return this.canvas.height / this.qualityScale } set height(value) { this.canvas.height = value * this.qualityScale } bringItemToFront(target) { this.removeElement(target) this.elements[target.id] = target } /** @memberof CanvasDrawer @method removeElement @param {element|string} target the STRING ID used to reference an element or a reference to the ELEMENT itself @desc Removes a specific CanvasElement from CanvasDrawer.elements by either its ID or a direct reference to the CanvasElement. @example View.main.myCanvasDrawer.removeElement('smoke'); View.main.myCanvasDrawer.removeElement( View.main.myCanvasDrawer.elements.smoke ); */ removeElement(target) { let CD = this CD.elementsLength-- if (target.id) delete CD.elements[target.id] else delete CD.elements[target] } /** @memberof CanvasDrawer @method removeAllElements @desc Removes everything from CanvasDrawer.elements. @example View.main.myCanvasDrawer.removeAllElements(); */ removeAllElements() { let CD = this for (var dI in CD.elements) { CD.elementsLength-- delete CD.elements[dI] } CD.elementsLength = 0 } /** @memberof CanvasDrawer @method clear @desc Wipes the canvas clean of any image data */ clear() { let CD = this CD.ctx.clearRect(0, 0, CD.canvas.width, CD.canvas.height) } /** @memberof CanvasDrawer @method update @desc Clear and draw all draw items in the elements dictionary associated with this CanvasDrawer. &lt;br&gt;&lt;br&gt;Renders CanvasElements in order of creation. &lt;br&gt;&lt;br&gt; will not draw the item if &lt;code&gt;elements.visible !== true&lt;/code&gt; or &lt;code&gt;elements.alpha === 0&lt;/code&gt; @property {array} array an OPTIONAL array of CanvasElements associated with this CanvasDrawer; rather than rendering &lt;b&gt;all&lt;/b&gt; of the CanvasElements &lt;b&gt;in order of creation&lt;/b&gt; this will &lt;b&gt;only&lt;/b&gt; the CanvasElements within the given array, and &lt;b&gt;in that order&lt;/b&gt; - order of creation does not apply in this instance. */ update(array) { let CD = this CD.clear() if (array) for (var dI = 0; dI &lt; array.length; dI++) CD._updateEngine(array[dI]) else for (var dI in CD.elements) CD._updateEngine(CD.elements[dI]) } /* ------------------------------------------------ PRIVATE FUNCTIONS! NOTHING BELOW HERE SHOULD GET CALLED EXTERNAL TO THIS CLASS /* ------------------------------------------------ draw the elements into the canvas based on given elements object, whether or not it is an arc, and any translations CALLED ONLY FROM CanvasDrawer.update(); */ _updateEngine(element) { let CD = this if (element.visible &amp;&amp; element.alpha &gt; 0) { // element.rotation = element.rotation % 360; var _trans = element.rotation != 0 || element.scaleX != 1 || element.scaleY != 1 || element.scale != 1 var _blend = element.alpha &lt; 1 || element.blendMode != 'source-over' var _arc = element._type === 'arc' // if (_trans || _blend) CD.ctx.save() if (_blend) { CD.ctx.globalAlpha = element.alpha CD.ctx.globalCompositeOperation = element.blendMode } if (_trans) { CD.ctx.translate.apply(CD.ctx, [(element.x + element._offsetX) * CD.qualityScale, (element.y + element._offsetY) * CD.qualityScale]) if (element.rotation != 0) CD.ctx.rotate(MathUtils.toRadians(element.rotation)) if (element.scaleX != 1 || element.scaleY != 1 || element.scale != 1) { if (element.scaleX === 0) element.scaleX = 0.000001 if (element.scaleY === 0) element.scaleY = 0.000001 if (element.scale === 0) element.scale = 0.000001 CD.ctx.scale(element.scaleX * element.scale, element.scaleY * element.scale) } } CD._drawShape(element, _arc, _trans) // if (_trans || _blend) CD.ctx.restore() } } /* ------------------------------------------------ draw the elements into the canvas based on given elements object, whether or not it is an arc, and any translations CALLED ONLY FROM CanvasDrawer.update(); */ _drawShape(dItem, isArc, translation) { let CD = this if (dItem.shadowColor &amp;&amp; (dItem.shadowBlur &gt; 0 || dItem.shadowDistance != 0)) { CD.ctx.shadowColor = dItem.shadowColor CD.ctx.shadowOffsetX = dItem._shadowOffsetX * CD.qualityScale CD.ctx.shadowOffsetY = dItem._shadowOffsetY * CD.qualityScale CD.ctx.shadowBlur = dItem.shadowBlur * CD.qualityScale } // CASE FOR DRAWING AN IMAGE dItem.draw(translation, isArc) } /* ------------------------------------------------ Determines if a given draw source is a canvas element or an image CALLED ONLY FROM CanvasImage.addImage() and CanvasDrawer.makePattern(); */ _getIsSourceCanvas(img) { return img.tagName === 'CANVAS' || (typeof img === 'object' &amp;&amp; img.tagName === undefined) } } export default CanvasDrawer × Search results Close "},"ad-canvas_lib_CanvasElement.js.html":{"id":"ad-canvas_lib_CanvasElement.js.html","title":"Source: ad-canvas/lib/CanvasElement.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasElement.js /** @npmpackage @class CanvasElement @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasElement } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Is the returned instance of a CanvasElement, which makes up all {@link CanvasShape}s and {@link CanvasImage}s. Never called directly by a user. &lt;br&gt;&lt;br&gt; &lt;b&gt;Properties available to every {@link CanvasElement}, except where noted::&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;id&lt;/td&gt; &lt;td&gt;STRING representing the name of the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;x&lt;/td&gt; &lt;td&gt;NUMBER representing the horizontal position of the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;y&lt;/td&gt; &lt;td&gt;NUMBER representing the vertical position of the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;rotation&lt;/td&gt; &lt;td&gt;NUMBER representing the rotation, in degrees, of the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;alpha &lt;/td&gt; &lt;td&gt;NUMBER representing the opacity of the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;scale&lt;/td&gt; &lt;td&gt;NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;scaleX&lt;/td&gt; &lt;td&gt;NUMBER representing the horizontal scale of the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;scaleY&lt;/td&gt; &lt;td&gt;NUMBER representing the vertical scale of the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;blendMode&lt;/td&gt; &lt;td&gt;NUMBER representing the blend or masking style applied to the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;visible&lt;/td&gt; &lt;td&gt;BOOLEAN representing whether or not the element should be drawn&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;shadowColor&lt;/td&gt; &lt;td&gt;STRING representing the color of the drop shadow in RGBA format&lt;/td&gt; &lt;/tr&gt;&lt;tr&gt; &lt;td&gt;shadowBlur&lt;/td&gt; &lt;td&gt;NUMBER representing the amount of blur on the drop shadow&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;shadowAngle&lt;/td&gt; &lt;td&gt;NUMBER representing the angle, in degrees, of the drop shadow&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;shadowDistance&lt;/td&gt; &lt;td&gt;NUMBER representing the distance of the drop shadow from the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;transformOrigin&lt;/td&gt; &lt;td&gt;STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px')&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;The following *ONLY* apply to {@link CanvasImage} instances::&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;sourceX&lt;/td&gt; &lt;td&gt;NUMBER representing the horizontal value from which to start drawing data from the source image&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;sourceY&lt;/td&gt; &lt;td&gt;NUMBER representing the vertical value from which to start drawing data from the source image&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;sourceW&lt;/td&gt; &lt;td&gt;NUMBER representing the width value from which to draw data from the source image&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;sourceH&lt;/td&gt; &lt;td&gt;NUMBER representing the height value from which to draw data from the source image&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;The following *ONLY* apply to {@link CanvasText} instances::&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;fontFamily&lt;/td&gt; &lt;td&gt;STRING representing the font name&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;fontSize&lt;/td&gt; &lt;td&gt;NUMBER or STRING (12, '12', '12px', or '12pt') representing the font size&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;lineHeight&lt;/td&gt; &lt;td&gt;NUMBER which determines the line height between lines of text with defined maxWidth values&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;marginLeft&lt;/td&gt; &lt;td&gt;NUMBER representing the X offset of the text&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;marginTop&lt;/td&gt; &lt;td&gt;NUMBER representing the Y offset of the text&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;maxWidth&lt;/td&gt; &lt;td&gt;NUMBER which determines the maximum width of the text field, which is used to create MUTLI-LINE text&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;alignText&lt;/td&gt; &lt;td&gt;STRING or Align constant defining text's horizontal alingment: 'center', 'left', or 'right'. Can also use Align.CENTER, Align.LEFT, or Align.RIGHT.&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;The following *ONLY* apply to {@link CanvasImage}s, {@link CanvasCircle}s, and {@link CanvasRect}s instances::&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;width&lt;/td&gt; &lt;td&gt;NUMBER representing the total width or diameter of the element&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;height&lt;/td&gt; &lt;td&gt;NUMBER representing the total height or diameter of the element&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;The following *ONLY* apply to {@link CanvasCircle}s, {@link CanvasRect}s, and {@link CanvasText} instances (heretofore referred to as 'shapes')::&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;fill&lt;/td&gt; &lt;td&gt;STRING, gradient, or texture representing the color used to fill the shape&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;strokeFill&lt;/td&gt; &lt;td&gt;STRING, gradient, or texture representing the color used to fill the shape's stroke&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;strokeWidth&lt;/td&gt; &lt;td&gt;NUMBER representing the width of the shape's outline&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;strokeJoin&lt;/td&gt; &lt;td&gt;STRING representing how two lines/corners form: 'round', 'bevel', and 'miter'&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;strokePosition&lt;/td&gt; &lt;td&gt;STRING repsenting the position of the shape's stroke, 'outer' or 'center'; there is no 'inner'&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;strokeDashSize&lt;/td&gt; &lt;td&gt;NUMBER representing the length of each segment in a dashed line&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;strokeDashGap&lt;/td&gt; &lt;td&gt;NUMBER representing the gap between each segment in a dashed line&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;strokeDashOffset&lt;/td&gt; &lt;td&gt;NUMBER representing the offset positioning of the dash segments&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;br&gt;&lt;br&gt; */ import { ColorUtils, MathUtils } from 'ad-utils' class CanvasElement { constructor(obj, type) { let CE = this var _params = obj.params CE._type = obj.type || type CE.stage = obj.target CE.id = obj.id || 'canvasdItem' + CE.stage.elementsLength CE.stage.elements[CE.id] = this CE.stage.elementsLength++ CE.visible = obj.visible === false ? false : true CE.rotation = _params.rotation || 0 CE.scale = _params.scale === 0 ? 0 : _params.scale || 1 CE.scaleX = _params.scaleX === 0 ? 0 : _params.scaleX || 1 CE.scaleY = _params.scaleY === 0 ? 0 : _params.scaleY || 1 CE.alpha = _params.alpha &gt;= 0 ? _params.alpha : 1 CE.blendMode = obj.blendMode || 'source-over' CE._transformOrigin = '0 0' obj.stroke = obj.stroke || {} var _dropShadow = obj.dropShadow var _hasShadow = _dropShadow ? true : false _dropShadow = _dropShadow || {} CE._shadowAngle = _dropShadow.angle || 0 CE.shadowDistance = _dropShadow.distance || 0 CE._shadowColor = _dropShadow.color || (_hasShadow ? '#000000' : null) CE.shadowAlpha = _dropShadow.alpha || CE._shadowAlpha CE.shadowBlur = _dropShadow.blur || 0 } // GETTERS AND SETTERS // get shadowAngle() { return this._shadowAngle } set shadowAngle(value) { this._shadowAngle = value this._setShadowOffsets() } // get shadowDistance() { return this._shadowDistance } set shadowDistance(value) { this._shadowDistance = value this._setShadowOffsets() } // get shadowColor() { return this._shadowColor } set shadowColor(value) { this._shadowColor = value === null ? null : ColorUtils.toRgbaString(value, this._shadowAlpha) // The reason the alpha doesn't update when you change the shadow color is that if you pass in a HEX color, // the alpha would reset to 1 if you didn't want it to // but this code is still here, just in case that changes // CE._shadowAlpha = CE._shadowColor.split(',')[3]; // CE._shadowAlpha = Number(CE._shadowColor.substring(0, CE._shadowAlpha.lastIndexOf(')'))); } // get shadowAlpha() { return this._shadowAlpha } set shadowAlpha(value) { this._shadowAlpha = value this.shadowColor = this._shadowColor } // get transformOrigin() { return this._transformOrigin } set transformOrigin(value) { let CE = this var _xTran = value.split(' ')[0] var _yTran = value.split(' ')[1] CE._transformOrigin = value // REMOVE ALL STRING ELEMENTS FROM THE transformOrigin VALUE AND CONVERT TO A PERCENTAGE OF THE element's WIDTH AND HEIGHT if (_xTran.indexOf('%') &gt;= 0) { _xTran = +_xTran.replace(/%/g, '') / 100 } else if (_xTran.indexOf('px') &gt;= 0) { _xTran = +_xTran.replace(/px/g, '') / CE.width } else { _xTran = +_xTran / CE.width } if (_yTran.indexOf('%') &gt;= 0) { _yTran = +_yTran.replace(/%/g, '') / 100 } else if (_yTran.indexOf('px') &gt;= 0) { _yTran = +_yTran.replace(/px/g, '') / CE.height } else { _yTran = +_yTran / CE.height } switch (CE._type) { case 'arc': case 'path': _xTran -= 0.5 _yTran -= 0.5 default: CE._offsetX = CE.width * _xTran CE._offsetY = CE.height * _yTran break case 'text': // THE OFFSET VALUE FOR text OBJECTS IS BEING SET HERE BECAUSE THE ACTUAL width AND height OF THE TEXT IS YET UNKNOWN CE._transOffsetX = _xTran CE._transOffsetY = _yTran switch (CE.textAlign) { case 'center': CE._transOffsetX -= 0.5 break case 'right': CE._transOffsetX *= -1 break } CE._wrapText(false, false) break } } // PUBLIC toString() { return '[object CanvasElement]' } // PRIVATE _setShadowOffsets(ang, dist) { let CE = this var radians = MathUtils.toRadians(CE._shadowAngle * -1 + 180) CE._shadowOffsetX = Number((Math.cos(radians) * CE._shadowDistance).toFixed(8)) CE._shadowOffsetY = Number((Math.sin(radians) * CE._shadowDistance).toFixed(8)) //return CE._shadowOffsetX; } } export default CanvasElement × Search results Close "},"ad-canvas_lib_CanvasImage.js.html":{"id":"ad-canvas_lib_CanvasImage.js.html","title":"Source: ad-canvas/lib/CanvasImage.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasImage.js /** @npmpackage @class CanvasImage @param {object} imgObj an object containing the arguments for defining / orienting the image, see Properties for more info: @property {CanvasDrawer} target the CanvasDrawer element in which to draw the image @property {canvas|CanvasDrawer|ImageId} source a canvas element (CanvasDrawer.canvas or CanvasDrawer, NOT the ID of the DOM object), an image ID to be used by ImageManager.get(), or ImageManager.get('id') @property {string} id an optional STRING defining the name by which the image will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a {@link CanvasDrawer} @property {object} params an OBJECT of optional parameters @property {number} params.sourceX left X NUMBER from where to get the image data @property {number} params.sourceY top Y NUMBER from where to get the image data @property {number} params.sourceW NUMBER width value from where to get the image data @property {number} params.sourceH NUMBER height value from where to get the image data @property {number} params.x NUMBER X coordinate for where to draw the image data @property {number} params.y NUMBER Y coordinate for where to draw the image data @property {number} params.width NUMBER width value for how wide to draw the image @property {number} params.height NUMBER height value for how tall to draw the image @property {number} params.scale NUMBER for uniform scale of the drawing, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY. @property {number} params.scaleX NUMBER for X scale of the drawing, scaling from drawing center unless transformOrigin is changed @property {number} params.scaleY NUMBER for Y scale of the drawing, scaling from drawing center unless transformOrigin is changed @property {number} params.rotation NUMBER IN DEGREES for the start rotation of the given drawing @property {string} params.transformOrigin an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '50% 50%'. @property {number} params.alpha NUMBER for alpha of the drawing @property {object} fitTo OBJECT containing sizing and origin data in which the CanvasImage should fit, without distortion of the aspect ratio; &lt;b&gt;will overwrite aspectRatio&lt;/b&gt; @property {number} fitTo.width NUMBER determining the width to fit the CanvasImage into - affects CanvasImage.width and CanvasImage.sourceW @property {number} fitTo.height NUMBER determining the height to fit the CanvasImage into - affects CanvasImage.height and CanvasImage.sourceH @property {object} fitTo.origin OBJECT containing orientation coordinates for the image's fitTo positioning @property {number} fitTo.origin.x NUMBER for X coordinate around which to focus resizing and fitting of the image horizontally @property {number} fitTo.origin.y NUMBER for Y coordinate around which to focus resizing and fitting of the image vertically @property {number} fitTo.debug BOOLEAN determining whether or not a circle is drawn representing the origin / transformOrigin of a fitTo @property {boolean} aspectRatio BOOLEAN determining if the image should conform to its natural aspect ratio if only width or height - &lt;b&gt;NOT BOTH&lt;/b&gt; - params are provided. Defaults to false @property {number} dropShadow an optional OBJECT defining properties of the image's drop shadow @property {number} dropShadow.angle NUMBER IN DEGREES for the angle to position the shadow @property {number} dropShadow.distance NUMBER for how far away from the image the shadow is @property {number} dropShadow.blur NUMBER for how blurry the shadow is @property {string|object} dropShadow.color optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' @property {number} dropShadow.alpha NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color @property {string|CanvasBlendMode} blendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over'. &lt;b&gt;Will not work on SVG image sources in Firefox.&lt;/b&gt; @property {boolean} visible an optional BOOLEAN that, when set to false, will not render the element. Defaults to true @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasImage } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Add a canvas-image or bitmap-image source to the drawer based on a given object, and return a reference to that {@link CanvasElement}; requires {@link ImageManager}. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1::&lt;/b&gt;&lt;br&gt; Define a source either with the image name or {@link ImageManager.get}:&lt;br&gt; &lt;codeblock&gt; View.main.myCanvasDrawer = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, retina: true, debug: false }); new CanvasImage({ target: View.main.myCanvasDrawer, source: 'smoke', id: 'smoke', params: { x: 0, y: 0, width: 256, height: 256 } }); let _myImage = new CanvasImage({ target: View.main.myCanvasDrawer, source: ImageManager.get('smoke'), id: 'smoke', params: { x: 0, y: 0, width: 256, height: 256 } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2::&lt;/b&gt;&lt;br&gt; Define a source with an existing canvas element by referring to the {@link CanvasDrawer} or the CanvasDrawer's HTMLCanvasElement element directly:&lt;br&gt; &lt;codeblock&gt; let originalCD = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); // referring to the CanvasDrawer object let _myImage = new CanvasImage({ target: View.main.myCanvasDrawer, source: originalCD, id: 'smoke', params: { x: 0, y: 0, width: 256, height: 256 } }); // referring to the CanvasDrawer object's HTMLCanvasElement element let _myImage2 = new CanvasImage({ target: View.main.myCanvasDrawer, source: originalCD.canvas, id: 'smoke2', params: { x: 0, y: 0, width: 256, height: 256 } }); &lt;/codeblock&gt; &lt;br&gt; */ /** @memberof CanvasImage @const {string} id READ-ONLY: STRING representing the id of the element */ /** @memberof CanvasImage @let {number} x NUMBER representing the horizontal position of the element, */ /** @memberof CanvasImage @let {number} y NUMBER representing the vertical position of the element, */ /** @memberof CanvasImage @let {number} width NUMBER representing the total width of the element, */ /** @memberof CanvasImage @let {number} sourceX NUMBER representing the horizontal value from which to start drawing data from the source image, */ /** @memberof CanvasImage @let {number} sourceY NUMBER representing the vertical value from which to start drawing data from the source image, */ /** @memberof CanvasImage @let {number} sourceW NUMBER representing the width value from which to draw data from the source image, */ /** @memberof CanvasImage @let {number} sourceH NUMBER representing the height value from which to draw data from the source image, */ /** @memberof CanvasImage @let {number} height NUMBER representing the total height of the element, */ /** @memberof CanvasImage @let {number} rotation NUMBER representing the rotation, in degrees, of the element, */ /** @memberof CanvasImage @let {number} alpha NUMBER representing the opacity of the element, */ /** @memberof CanvasImage @let {number} scale NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY, */ /** @memberof CanvasImage @let {number} scaleX NUMBER representing the horizontal scale of the element, */ /** @memberof CanvasImage @let {number} scaleY NUMBER representing the vertical scale of the element, */ /** @memberof CanvasImage @let {number} blendMode NUMBER representing the blend or masking style applied to the element. &lt;b&gt;Will not work on SVG image sources in Firefox.&lt;/b&gt; */ /** @memberof CanvasImage @let {number} visible BOOLEAN representing whether or not the element should be drawn, */ /** @memberof CanvasImage @let {string} transformOrigin STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE::&lt;/b&gt;&lt;br&gt; &lt;ul&gt; &lt;li&gt;'50% 50%' is centered, based on percentage&lt;/li&gt; &lt;li&gt;'50px 50px' is 50 px away from '0% 0%' vertically and horizontally&lt;/li&gt; &lt;li&gt;'50 50' is the same as '50px 50px'&lt;/li&gt; &lt;li&gt;Values can be mixed: '50% 10px', for instance&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; @example View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; */ /** @memberof CanvasImage @let {string} shadowColor STRING representing the color of the drop shadow in RGBA format, */ /** @memberof CanvasImage @let {number} shadowBlur NUMBER representing the amount of blur on the drop shadow, */ /** @memberof CanvasImage @let {number} shadowAngle NUMBER representing the angle, in degrees, of the drop shadow, */ /** @memberof CanvasImage @let {number} shadowDistance NUMBER representing the distance of the drop shadow from the element, */ import CanvasRect from './CanvasRect' import CanvasElement from './CanvasElement' import CanvasCircle from './CanvasCircle' import { Align } from 'ad-view' import { ImageManager } from 'ad-control' import { LoaderUtils } from 'ad-load' import { Device as D } from 'ad-external' class CanvasImage extends CanvasElement { constructor(imgObj) { let _params = (imgObj.params = imgObj.params || {}) super(imgObj, 'image') let CI = this CI.Device = new D() let _isSourceCanvas = imgObj.target._getIsSourceCanvas(imgObj.source) if (imgObj.source.tagName === 'VIDEO') CI.src = imgObj.source else CI.src = _isSourceCanvas ? imgObj.source.tagName === 'CANVAS' ? imgObj.source : imgObj.source.canvas : imgObj.source.tagName === 'IMG' ? imgObj.source : ImageManager.get(imgObj.source) if (LoaderUtils.getFileType(CI.src.src) === 'svg') { let _squigs = Array(100).join('~') console.log('\\t\\t\\t', _squigs) console.log( &quot;\\t\\t\\t\\tWARNING: your image source '&quot; + imgObj.source + &quot;' is an SVG and any CanvasBlendMode applied to it will not render in FireFox&quot; ) console.log('\\t\\t\\t\\tConsider rendering the image into a dummy CanvasDrawer and referencing that as your image source instead') console.log('\\t\\t\\t', _squigs) } let _imgSourceWidth = CI.src.width || CI.src.getAttribute('width') let _imgSourceHeight = CI.src.height || CI.src.getAttribute('height') CI.x = _params.x || 0 CI.y = _params.y || 0 let _imageScale = CI.stage._imageScale // if our CanvasImage is meant to fit within a certain space, we have to format the sourceW, sourceH, sourceX, and sourceY if (imgObj.fitTo) { let _fitSpace = imgObj.fitTo // is the image wider than it is tall let _widerSource = _imgSourceWidth &gt; _imgSourceHeight // is the target dimension - the _fitSpace - wider than it is tall let _widerSpace = _fitSpace.width &gt; _fitSpace.height // this function takes in an array of arguments to get the ratio dimension // for example - if we know the width we want, we have to get the proportional height function _makeRatios() { let _args = arguments // example using _paramsW: CI['width'] = _imgSourceWidth * (_fitSpace['width'] / _imgSourceHeight) CI[_args[2]] = _args[5] * (_fitSpace[_args[3]] / _args[4]) _params['source' + _args[0]] = _args[4] _params['source' + _args[1]] = _fitSpace[_args[2]] * (_args[5] / CI[_args[2]]) } // these are the arguments arrays // array for proportional width, fitting the image to _fitSpace.height let _paramsW = ['H', 'W', 'width', 'height', _imgSourceHeight, _imgSourceWidth] // array for proportional height, fitting the image to _fitSpace.width let _paramsH = ['W', 'H', 'height', 'width', _imgSourceWidth, _imgSourceHeight] // is the image wider than it is tall if (_widerSource) { _makeRatios.apply(CI, _paramsW) // if, after getting new image size rations, the image isn't actually as wide as the _fitSpace... // run _makeRatios again, but fit the image to _fitSpace.width if (CI.width &lt; _fitSpace.width) _makeRatios.apply(CI, _paramsH) } else { _makeRatios.apply(CI, _paramsH) // if, after getting new image size rations, the image isn't actually as wide as the _fitSpace... // run _makeRatios again, but fit the image to _fitSpace.height if (CI.height &lt; _fitSpace.height) _makeRatios.apply(CI, _paramsW) } // make the image width and height equal to what our _fitSpace values are CI.width = _fitSpace.width CI.height = _fitSpace.height // this if check changes the transformOrigin, sourceW, sourceH, sourceX, and sourceH based on a target origin point if (_fitSpace.origin) { // set some defaults for our origin point - if none defined, make TOP-LEFT let _fitOrigin = { x: _fitSpace.origin.x || 0, y: _fitSpace.origin.y || 0 } // is the area we want to fit into - the _fitSpace - a square? let _fitSquare = _fitSpace.width === _fitSpace.height // ensure our sourceX and sourceY values are at least defined - they will get overwritten below _params.sourceX = _params.sourceY = 0 // redefining parameters from our earlier _paramsW / _paramsH arrays so as to reuse arguments below _paramsW[0] = 'x' _paramsH[0] = 'y' // this function runs ALL of the calculations to determine: // // * how the image should be positioned within th _fitSpace based on the ratio of // _fitSpace.width/_fitSpace.height and _imgSourceWidth/_imgSourceHeight // * the origin, and its location within the bounds of the image function _setupOrientation(checkParam) { // is the image wider than it is tall // arguments via _paramsW = ['x', 'W', 'width', 'height', _imgSourceHeight, _imgSourceWidth] function _fitSpaceSquare() { let _args = arguments // example using _paramsW: _fitOrigin.x *= ((CI.height * _imgSourceWidth) / _imgSourceHeight) / _imgSourceWidth; _fitOrigin[_args[0]] *= CI[_args[3]] * _args[5] / _args[4] / _args[5] // scale the _fitOrigin position property to the scale of the image // example using _paramsW: _fitOrigin.x *= CI.height / _imgSourceHeight; _fitOrigin[_args[0] === 'x' ? 'y' : 'x'] *= CI[_args[3]] / _args[4] } // this function sets the positioning and sizing of the image within the _fitSpace, based on the _fitSpace.origin coordinates // arguments via _paramsW = ['x', 'W', 'width', 'height', _imgSourceHeight, _imgSourceWidth] // arguments via _paramsH = ['y', 'H', 'height', 'width', _imgSourceWidth, _imgSourceHeight]; function _orientToOrigin() { let _args = arguments // this scenario only exists if the _fitSpace is NOT a square if (_args.length) { // this is the scale of the fitted image compared to its default size // example using _paramsW: _scale = CI.width / _imgSourceWidth; let _scale = CI[_args[3]] / _args[4] // the source property for positioning - either sourceX or sourceY // example using _paramsW: _sourcePropPos = 'source' + 'x'.toUpperCase(); returns 'sourceX'; let _sourcePropPos = 'source' + _args[0].toUpperCase() // changing the sourceX/Y property for positioning // example using _paramsW: _params.sourceX = (_fitOrigin.x / CI.stage.qualityScale) - ((_fitSpace.width] * 0.5) / _scale); _params[_sourcePropPos] = _fitOrigin[_args[0]] / 1 - _fitSpace[_args[2]] * 0.5 / _scale // if the _fitOrigin data all exists within the bounds of the available bitmap data // BUG: THIS ONLY CHECKS AGAINST ONE PARAMETER - sourceX or sourceY - BUT THEN AFFECTS BOTH _fitOrigin.x and _fitOrigin.y // NEED TO CHECK AGAINST BOTH AND AFFECT BOTH if (_params[_sourcePropPos] &gt;= 0 &amp;&amp; _params[_sourcePropPos] &lt;= _args[5] - _params['source' + _args[1]]) { // find out what the origin is in relation to its _fitSpace and _fitOrigin // a loop to set _fitOrigin.x/y equal to (_fitOrigin.x/y - _params.sourceX/sourceY) * _scale; for (let item in _fitOrigin) _fitOrigin[item] = (_fitOrigin[item] - _params['source' + item.toUpperCase()]) * _scale } } } // this keeps every value of _fitOrigin, as well as _sourceX/Y, within the bounds of the image // arguments via _paramsW = ['x', 'W', 'width', 'height', _imgSourceHeight, _imgSourceWidth] // arguments via _paramsH = ['y', 'H', 'height', 'width', _imgSourceWidth, _imgSourceHeight]; function _modifyOutOfBounds() { let _subArgs = arguments let _arg1 = _subArgs[0] let _arg2 = _subArgs[2] // if the image dimensions actually match the source dimensions // then just scale the origin accordingly // example using _paramsW: // if (_params['sourceW'] == _imgSourceWidth) { // _fitOrigin['x'] = _fitSpace.origin['x'] * (_fitSpace['width'] / _imgSourceWidth); // } if (_params['source' + _subArgs[1]] == _subArgs[5]) { _fitOrigin[_arg1] = _fitSpace.origin[_arg1] * (_fitSpace[_arg2] / _subArgs[5]) } // and this fits any bound that exceeds the available bitmap data and keeps it within the bounds // example using _paramsW: // if (_fitOrigin['x'] &gt; _fitSpace['width']) { // _fitOrigin['x'] = _fitSpace['width']; // _params['source' + 'X'] = _imgSourceWidth - _params['source' + 'W']; // } if (_fitOrigin[_arg1] &gt; _fitSpace[_arg2]) { _fitOrigin[_arg1] = _fitSpace[_arg2] _params['source' + _arg1.toUpperCase()] = _subArgs[5] - _params['source' + _subArgs[1]] } } if (_fitSquare) _fitSpaceSquare.apply(CI, arguments) _orientToOrigin.apply(CI, _fitSquare ? null : checkParam) _modifyOutOfBounds.apply(CI, _paramsW) _modifyOutOfBounds.apply(CI, _paramsH) // this checks to make sure the _fitOrigin.x/y and sourceX/Y are within the bounds of the bitmap data for (let item in _fitOrigin) { // this keeps every value in _fitOrigin above or equal to 0 let _sourcePropSize = 'source' + item.toUpperCase() if (_fitOrigin[item] &lt; 0 || _params[_sourcePropSize] &lt; 0) _fitOrigin[item] = _params[_sourcePropSize] = 0 } } // calling the function we just set up if (_fitSquare) { // call _setupOrientation() with no parameters - that function will recognize _fitSquare _setupOrientation.apply(CI, _widerSource ? _paramsW : _paramsH) } else { // is the image wider than it is tall if (_widerSource) { // is the target _fitSpace wider than it is tall - orient to the height if (_fitSpace.width &gt; _fitSpace.height) _setupOrientation(_paramsH) else // is the target _fitSpace taller than it is wide - orient to the width _setupOrientation(_paramsW) // } else { // is the target _fitSpace taller than it is wide - orient to the width if (_fitSpace.height &gt; _fitSpace.width) _setupOrientation(_paramsW) else // is the target _fitSpace wider than it is tall - orient to the height _setupOrientation(_paramsH) } } // set the default transformOrigin to that of the given _fitOrigin point _params.transformOrigin = _fitOrigin.x + ' ' + _fitOrigin.y // this adds debugging information so we can see our intended origin and how our image transforms against it if (_fitSpace.debug) { // common args for the tall and wide lines let _args = { target: CI.stage, fill: 'yellow', params: { width: 1, height: 1 } } // the tall line let _tall = new CanvasRect(_args) // the wide line let _wide = new CanvasRect(_args) // circle surrounding the origin point _fitOrigin.radius = 10 let _circ = new CanvasCircle({ target: CI.stage, params: _fitOrigin, stroke: { fill: 'yellow', width: 2 } }) _tall.height = _fitSpace.height _wide.width = _fitSpace.width _tall.x = _circ.x - _tall.width / 2 _wide.y = _circ.y - _wide.height / 2 } } } else if (imgObj.aspectRatio) { let _isMissingW = _params.width === undefined let _isMissingH = _params.height === undefined if (!_isMissingW &amp;&amp; _isMissingH) { CI.width = _params.width CI.height = _imgSourceHeight * (_params.width / _imgSourceWidth) } else if (!_isMissingH &amp;&amp; _isMissingW) { CI.height = _params.height CI.width = _imgSourceWidth * (_params.height / _imgSourceHeight) } } else { CI.width = _params.width || _imgSourceWidth / _imageScale CI.height = _params.height || _imgSourceHeight / _imageScale } CI._sourceX CI._sourceY CI.sourceX = _params.sourceX || 0 CI.sourceY = _params.sourceY || 0 CI.sourceW = _params.sourceW || _imgSourceWidth || CI.width * _imageScale CI.sourceH = _params.sourceH || _imgSourceHeight || CI.height * _imageScale CI.transformOrigin = _params.transformOrigin || imgObj.transformOrigin || '50% 50%' if (imgObj.align) Align.set(CI, imgObj.align) } get sourceX() { return this._sourceX } set sourceX(value) { this._sourceX = value this.warn('X') } get sourceY() { return this._sourceY } set sourceY(value) { this._sourceY = value this.warn('Y') } warn(prop) { let CI = this let _altProp let _dim switch (prop) { case 'X': case 'Y': _altProp = prop === 'X' ? 'W' : 'H' _dim = prop === 'X' ? 'width' : 'height' break case 'W': case 'H': _altProp = prop === 'W' ? 'X' : 'Y' _dim = prop === 'W' ? 'width' : 'height' break } if (CI['_source' + _altProp] + CI['_source' + prop] &gt; CI.src[_dim]) { console.log('\\r\\rWARNING: on ' + CI.stage.canvas.id + '.elements.' + CI.id) console.log( '\\tthe combined source' + _altProp + ' and source' + prop + ' values exceed the ' + _dim + ' of the CanvasImage.src and will not render properly in most browsers' ) console.log('\\t\\tconsider revising your source' + prop, '\\r\\r') } } draw(trans) { let CI = this const { Device } = CI try { let _x, _y if (trans) { _x = -CI._offsetX _y = -CI._offsetY } else { _x = CI.x _y = CI.y } CI.stage.ctx.drawImage( CI.src, CI._sourceX, CI._sourceY, CI.sourceW, CI.sourceH, _x * CI.stage.qualityScale, _y * CI.stage.qualityScale, CI.width * CI.stage.qualityScale, CI.height * CI.stage.qualityScale ) } catch (err) { console.log( &quot;\\r\\rERROR: Source for CanvasDrawer: '&quot; + CI.stage.canvas.id + &quot;' element: '&quot; + CI.id + &quot;' failed to load; the image source of &quot; + CI.src + ' may not be named or loaded properly.' ) console.log( 'ERROR: CanvasImage requires defined width, height, sourceW, and sourceH values for SVGs, and that data could be undefined:' ) console.log( '\\t On', String(Device.os + ' ' + Device.osVersion + ': ' + Device.browser + ' - ' + Device.browserVersion).toUpperCase(), ':' ) console.log('\\t width:', CI.width, ', height:', CI.height, ', sourceW:', CI.sourceW, ', sourceH:', CI.sourceH, '\\r\\r') } } } export default CanvasImage × Search results Close "},"ad-canvas_lib_CanvasLineTo.js.html":{"id":"ad-canvas_lib_CanvasLineTo.js.html","title":"Source: ad-canvas/lib/CanvasLineTo.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasLineTo.js /** @npmpackage @class CanvasLineTo @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasLineTo } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Custom constants to identify the functions used for drawing shapes based on lines and curves. */ /** @memberof CanvasLineTo @const {string} MOVE Represents 'moveTo' @example CanvasLineTo.MOVE */ export const MOVE = 'moveTo' /** @memberof CanvasLineTo @const {string} LINE Represents 'lineTo'. @example CanvasLineTo.LINE */ export const LINE = 'lineTo' /** @memberof CanvasLineTo @const {string} QUAD Represents 'quadraticCurveTo'. @example CanvasLineTo.QUAD */ export const QUAD = 'quadraticCurveTo' /** @memberof CanvasLineTo @const {string} BEZIER Represents 'bezierCurveTo'. @example CanvasLineTo.BEZIER */ export const BEZIER = 'bezierCurveTo' /** @memberof CanvasLineTo @const {string} ARC Represents 'arcTo'. @example CanvasLineTo.ARC */ export const ARC = 'arcTo' × Search results Close "},"ad-canvas_lib_CanvasPath.js.html":{"id":"ad-canvas_lib_CanvasPath.js.html","title":"Source: ad-canvas/lib/CanvasPath.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasPath.js /** @npmpackage @class CanvasPath @param {object} pathObj an object containing the arguments for defining / orienting the circle, see Properties for more info: @property {CanvasDrawer} target the {@link CanvasDrawer} element in which to draw the shape @property {string} id an optional STRING defining the name by which the path will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a {@link CanvasDrawer} @property {object} params Object with the following properties: @property {number} params.x NUMBER X coordinate for the shape's center point @property {number} params.y NUMBER Y coordinate for shape's center point @property {number} params.scale NUMBER for uniform scale of the drawing, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY @property {number} params.scaleX NUMBER for X scale of the drawing, scaling from drawing center unless transformOrigin is changed @property {number} params.scaleY NUMBER for Y scale of the drawing, scaling from drawing center unless transformOrigin is changed @property {number} params.rotation NUMBER IN DEGREES for the start rotation of the given drawing @property {string} params.transformOrigin an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '50% 50%'. @property {number} params.alpha NUMBER for alpha of the drawing @property {array} points ARRAY OF OBJECTS to define the point placement and draw type of the path. Each Point object has following signature: @property {function} points.point.fun a reference to the {@link CanvasLineTo} function to use @property {array} points.point.points Array contains whatever points the line function requires @property {object} dropShadow an optional OBJECT defining properties of the shape's drop shadow @property {number} dropShadow.angle NUMBER IN DEGREES for the angle to position the shadow @property {number} dropShadow.distance NUMBER for how far away from the image the shadow is @property {number} dropShadow.blur NUMBER for how blurry the shadow is @property {string|object} dropShadow.color optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' @property {number} dropShadow.alpha NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color @property {string|CanvasBlendMode} blendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over' @property {string} fill an optional STRING or gradiant variable defining the color fill of the shape. Defaults to none / invisible @property {object} stroke an optional OBJECT defining properties of the shape's stroke. Object has the following properties: @property {string} stroke.fill an optional STRING or gradiant variable defining the color fill of the shape stroke. Defaults to none / invisible @property {number} stroke.width an optional NUMBER value determining stroke width. Defaults to 0 @property {string} stroke.position an optional STRING determining if the stroke will be 'outer' or 'center'. Defaults to 'outer', there is no 'inner' @property {string} stroke.cap an optional STRING value determining a line's cap style: 'butt', 'round', and 'square'. Defaults to 'butt' &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/lineCap.jpg&quot; /&gt; @property {string} stroke.join an optional STRING value determining how two lines/corners connect: 'round', 'bevel', and 'miter'. Defaults to 'miter' &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/lineJoin.jpg&quot; /&gt; @property {number} stroke.dashSize an optional NUMBER value determining the length of each segment in a dashed line @property {number} stroke.dashGap an optional NUMBER value determining the gap between each segment in a dashed line. Defaults to 0, unless dashSize is defined, then defaults to dashSize @property {number} stroke.dashOffset an optional NUMBER value which offsets the positioning of the dash segments. A positive number moves them counter-clockwise. Defaults to 0 @property {boolean} closePath an optional BOOLEAN which, on instantiation, determines if the path should be closed or not. Defaults to true; set to &lt;b&gt;false&lt;/b&gt; if you don't want the first and last points connecting. @property {number} drawScale an optional NUMBER which does a one-time recalculation of the given points to a new scale. Usefull for changing a shape's size without a transform scale or recalculating points beforehand @property {boolean} visible an optional BOOLEAN that, when set to false, will not render the element. Defaults to true. @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasPath } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Add a path shape to a {@link CanvasDrawer} based on a given object containing lines and coordinate data, and return a reference to that shape &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE::&lt;/b&gt;&lt;br&gt; &lt;code&gt;width&lt;/code&gt; and &lt;code&gt;height&lt;/code&gt; properties do NOT affect CanvasPaths - use scaleX and scaleY to manipulate the size of these objects. &lt;br&gt;&lt;br&gt; &lt;b&gt;POINT FORMATS::&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;CanvasLineTo.MOVE (or 'moveTo')&lt;/td&gt; &lt;td&gt;requires ONE x-y value - &lt;code&gt;points: [x1, y1]&lt;/code&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;CanvasLineTo.LINE (or 'lineTo')&lt;/td&gt; &lt;td&gt;requires ONE x-y value - &lt;code&gt;points: [x1, y1]&lt;/code&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;CanvasLineTo.ARC (or 'arcTo')&lt;/td&gt; &lt;td&gt;requires TWO x-y values and ONE radius of the arc value - &lt;code&gt;points: [x1, y1, x2, y2, radius]&lt;/code&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;CanvasLineTo.QUAD (or 'quadraticCurveTo')&lt;/td&gt; &lt;td&gt;requires TWO x-y values - &lt;code&gt;points: [x1, y1, x2, y2]&lt;/code&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;CanvasLineTo.BEZIER (or 'bezierCurveTo')&lt;/td&gt; &lt;td&gt;requires THREE x-y values - &lt;code&gt;points: [x1, y1, x2, y2, x3, y3]&lt;/code&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;br&gt; &lt;b&gt;EXAMPLES::&lt;/b&gt;&lt;br&gt; Adding a shape defined by lines with a screen blend, red fill, 10px black stroke&lt;br&gt; &lt;codeblock&gt; var _myShape = new CanvasPath({ target: View.main.myCanvasDrawer, id: 'myLines', params: { x: 100, y: 100, }, points: [ { fun: CanvasLineTo.MOVE, points: [.5, -3.5] }, { fun: CanvasLineTo.BEZIER, points: [-3.5, -2.8, -3, .2, -2.5, .2] }, { fun: CanvasLineTo.QUAD, points: [2, -3, .5, -3.5] } ], blendMode: 'screen', fill: 'red', stroke: { fill: 'black', width: 10, cap: 'round' } }); &lt;/codeblock&gt; */ /** @memberof CanvasPath @const {string} id READ-ONLY: STRING representing the id of the element */ /** @memberof CanvasPath @var {number} x NUMBER representing the horizontal position of the element, */ /** @memberof CanvasPath @var {number} y NUMBER representing the vertical position of the element, */ /** @memberof CanvasPath @const {number} width READ-ONLY: NUMBER representing the approximate width of the text, */ /** @memberof CanvasPath @const {number} height READ-ONLY: NUMBER representing the approximate height of the text, */ /** @memberof CanvasPath @var {number} rotation NUMBER representing the rotation, in degrees, of the element, */ /** @memberof CanvasPath @var {number} alpha NUMBER representing the opacity of the element, */ /** @memberof CanvasPath @var {number} scale NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY, */ /** @memberof CanvasPath @var {number} scaleX NUMBER representing the horizontal scale of the element, */ /** @memberof CanvasPath @var {number} scaleY NUMBER representing the vertical scale of the element, */ /** @memberof CanvasPath @var {number} blendMode NUMBER representing the blend or masking style applied to the element, */ /** @memberof CanvasPath @var {boolean} visible BOOLEAN representing whether or not the element should be drawn, */ /** @memberof CanvasPath @var {string} transformOrigin STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE::&lt;/b&gt; &lt;ul&gt; &lt;li&gt;'50% 50%' is centered, based on percentage.&lt;/li&gt; &lt;li&gt;'50px 50px' is 50 px away from '0% 0%' vertically and horizontally.&lt;/li&gt; &lt;li&gt;'50 50' is the same as '50px 50px'.&lt;/li&gt; &lt;li&gt;Values can be mixed: '50% 10px', for instance.&lt;/li&gt; &lt;/ul&gt; &lt;br&gt;&lt;br&gt; @example View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; */ /** @memberof CanvasPath @var {string} fill STRING, gradient, or texture representing the color used to fill the shape, */ /** @memberof CanvasPath @var {string} strokeFill STRING, gradient, or texture representing the color used to fill the shape's stroke, */ /** @memberof CanvasPath @var {number} strokeWidth NUMBER representing the width of the shape's outline, */ /** @memberof CanvasPath @var {string} strokeCap STRING representing how the two ends of a line form: 'butt', 'round', and 'square', */ /** @memberof CanvasPath @var {string} strokeJoin STRING representing how two lines/corners form: 'round', 'bevel', and 'miter', */ /** @memberof CanvasPath @var {string} strokePosition STRING repsenting the position of the shape's stroke, 'outer' or 'center'; there is no 'inner', */ /** @memberof CanvasPath @var {number} strokeDashSize NUMBER representing the length of each segment in a dashed line, */ /** @memberof CanvasPath @var {number} strokeDashGap NUMBER representing the gap between each segment in a dashed line, */ /** @memberof CanvasPath @var {number} strokeDashOffset NUMBER representing the offset positioning of the dash segments, */ /** @memberof CanvasPath @var {string} shadowColor STRING representing the color of the drop shadow in RGBA format, */ /** @memberof CanvasPath @var {number} shadowBlur NUMBER representing the amount of blur on the drop shadow, */ /** @memberof CanvasPath @var {number} shadowAngle NUMBER representing the angle, in degrees, of the drop shadow, */ /** @memberof CanvasPath @var {number} shadowDistance NUMBER representing the distance of the drop shadow from the element, */ import CanvasShape from './CanvasShape' class CanvasPath extends CanvasShape { constructor(pathObj) { pathObj.type = 'path' super(pathObj) } /* ------------------------------------------------ Function used for creating a unique object / array to represent elements.drawArgs, which will be contain identical values of elements.args but be a unique object When values within elements.drawArgs are changed, elements.args values will not be affected CALLED ONLY FROM CanvasPath._setShapeParams(); */ _setLineDrawArgs(index) { var CP = this if (index) { CP.drawArgs[index] = { fun: CP.args[index].fun, points: CP.args[index].points.slice() } } else { for (var i = 0; i &lt; CP.args.length; i++) { CP.drawArgs[i] = { fun: CP.args[i].fun, points: CP.args[i].points.slice() } } } } _setShapeParams(args, pathObj) { var CP = this CP.width = 0 CP.height = 0 CP.args = args.points || args CP.drawArgs = CP.args.slice() CP._offsetX = 100000000 CP._offsetY = 100000000 var i var p for (i = 0; i &lt; CP.args.length; i++) { for (p = 0; p &lt; CP.args[i].points.length; p += 2) { CP.args[i].points[p] *= CP.drawScale CP.args[i].points[p + 1] *= CP.drawScale if (CP.args[i].points[p] &lt; CP._offsetX) { CP._offsetX = CP.args[i].points[p] } if (CP.args[i].points[p] &gt; CP.width) { CP.width = CP.args[i].points[p] } if (CP.args[i].points[p + 1] &lt; CP._offsetY) { CP._offsetY = CP.args[i].points[p + 1] } if (CP.args[i].points[p + 1] &gt; CP.height) { CP.height = CP.args[i].points[p + 1] } } } CP.width = CP.width - CP._offsetX CP.height = CP.height - CP._offsetY // this loop adjusts every point // origin will now be in center of shape rather than away from it for (i = 0; i &lt; CP.args.length; i++) { for (p = 0; p &lt; CP.args[i].points.length; p += 2) { CP.args[i].points[p] -= CP._offsetX + CP.width / 2 CP.args[i].points[p + 1] -= CP._offsetY + CP.height / 2 } CP._setLineDrawArgs(i) } CP.x = pathObj.params.x &gt;= 0 || pathObj.params.x &lt;= 0 ? pathObj.params.x : CP._offsetX + CP.width / 2 CP.y = pathObj.params.y &gt;= 0 || pathObj.params.y &lt;= 0 ? pathObj.params.y : CP._offsetY + CP.height / 2 } _prepDrawing(translation) { var CP = this var i, p for (i = 0; i &lt; CP.args.length; i++) { for (p = 0; p &lt; CP.args[i].points.length; p += 2) { if (translation) { CP.drawArgs[i].points[p] = (CP.args[i].points[p] - CP._offsetX) * CP.stage.qualityScale CP.drawArgs[i].points[p + 1] = (CP.args[i].points[p + 1] - CP._offsetY) * CP.stage.qualityScale } else { CP.drawArgs[i].points[p] = (CP.args[i].points[p] + CP.x) * CP.stage.qualityScale CP.drawArgs[i].points[p + 1] = (CP.args[i].points[p + 1] + CP.y) * CP.stage.qualityScale } } } for (i = 0; i &lt; CP.drawArgs.length; i++) CP.stage.ctx[CP.drawArgs[i].fun].apply(CP.stage.ctx, CP.drawArgs[i].points) // Debugging - shows center of line-based shape // CP.stage.ctx.beginPath(); // CP.stage.ctx.fillStyle = 'cyan'; // if (translation) CP.stage.ctx.arc(0, 0, 5, 0, 2 * Math.PI); // else CP.stage.ctx.arc(CP.x + CP._offsetX, CP.y + CP._offsetY, 5, 0, 2 * Math.PI); // CP.stage.ctx.fill(); } } export default CanvasPath × Search results Close "},"ad-canvas_lib_CanvasRect.js.html":{"id":"ad-canvas_lib_CanvasRect.js.html","title":"Source: ad-canvas/lib/CanvasRect.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasRect.js /** @npmpackage @class CanvasRect @param {object} rectObj an object containing the arguments for defining / orienting the rectangle, see Properties for more info: @property {CanvasDrawer} target the {@link CanvasDrawer} element in which to draw the rectangle @property {string} id an optional STRING defining the name by which the rectangle will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a {@link CanvasDrawer}. @property {object} params an object with the following properties: @property {number} params.x NUMBER X coordinate for where to draw the image data @property {number} params.y NUMBER Y coordinate for where to draw the image data @property {number} params.width NUMBER for the width of the rectangle. Default to height value @property {number} params.height NUMBER for the height of the rectangle. Defaults to width value @property {number} params.scale NUMBER for uniform scale of the drawing, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY @property {number} params.scaleX NUMBER for X scale of the drawing, scaling from drawing center unless transformOrigin is changed @property {number} params.scaleY NUMBER for Y scale of the drawing, scaling from drawing center unless transformOrigin is changed @property {number} params.rotation NUMBER IN DEGREES for the start rotation of the given drawing @property {string} params.transformOrigin an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '50% 50%'. @property {number} params.alpha NUMBER for alpha of the drawing @property {object} dropShadow an optional OBJECT defining properties of the rectangle's drop shadow @property {number} dropShadow.angle NUMBER IN DEGREES for the angle to position the shadow @property {number} dropShadow.distance NUMBER for how far away from the rectangle the shadow is @property {number} dropShadow.blur NUMBER for how blurry the shadow is @property {string|object} dropShadow.color optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' @property {number} dropShadow.alpha NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color @property {string|CanvasBlendMode} blendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over' @property {string|CanvasTexture} fill an optional STRING or gradiant variable defining the color fill of the rectangle. Defaults to none / invisible @property {object} stroke an optional OBJECT defining properties of the rectangle's stroke @property {string|CanvasTexture} stroke.fill an optional STRING or gradiant variable defining the color fill of the rectangle stroke. Defaults to none / invisible @property {string} stroke.width an optional NUMBER value determining stroke width. Defaults to 0 @property {string} stroke.position an optional STRING determining if the stroke will be 'outer' or 'center'. Defaults to 'outer', there is no 'inner' @property {string} stroke.cap an optional STRING value determining a line's cap style: 'butt', 'round', and 'square'. Defaults to 'butt' &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/lineCap.jpg&quot; /&gt; &lt;br&gt; @property {string} stroke.join an optional STRING value determining how two lines/corners connect: 'round', 'bevel', and 'miter'. Defaults to 'miter' &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/lineJoin.jpg&quot; /&gt; &lt;br&gt; @property {number} stroke.dashSize an optional NUMBER value determining the length of each segment in a dashed line @property {number} stroke.dashGap an optional NUMBER value determining the gap between each segment in a dashed line. Defaults to 0, unless dashSize is defined, then defaults to dashSize @property {number} stroke.dashOffset an optional NUMBER value which offsets the positioning of the dash segments. A positive number moves them counter-clockwise. Defaults to 0 @property {boolean} visible an optional BOOLEAN that, when set to false, will not render the element. Defaults to true @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasRect } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Add a rectangle shape to a {@link CanvasDrawer} based on a given object, and return a reference to that shape. &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLE::&lt;/b&gt;&lt;br&gt; Adding a rectangle with an overlay blend, blue fill, 5px yellow stroke&lt;br&gt; &lt;codeblock&gt; var _myShape = new CanvasRect({ target: View.main.myCanvasDrawer, id: 'myRect', params: { x: 20, y: 20, width: 100, height: 100 }, blendMode: 'overlay', fill: 'blue', stroke: { fill: 'yellow', width: 5 } }); &lt;/codeblock&gt; &lt;br&gt; */ /** @memberof CanvasRect @const {string} id READ-ONLY: STRING representing the id of the element */ /** @memberof CanvasRect @var {number} x NUMBER representing the horizontal position of the element */ /** @memberof CanvasRect @var {number} left NUMBER representing a reference to the x property, */ /** @memberof CanvasRect @var {number} y NUMBER representing the vertical position of the element, */ /** @memberof CanvasRect @var {number} top NUMBER representing a reference to the y property, */ /** @memberof CanvasRect @var {number} width NUMBER representing the total width of the element, */ /** @memberof CanvasRect @var {number} height NUMBER representing the total height of the element, */ /** @memberof CanvasRect @var {number} rotation NUMBER representing the rotation, in degrees, of the element, */ /** @memberof CanvasRect @var {number} alpha NUMBER representing the opacity of the element, */ /** @memberof CanvasRect @var {number} opacity NUMBER representing a reference to the alpha property, */ /** @memberof CanvasRect @var {number} scale NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY, */ /** @memberof CanvasRect @var {number} scaleX NUMBER representing the horizontal scale of the element, */ /** @memberof CanvasRect @var {number} scaleY NUMBER representing the vertical scale of the element, */ /** @memberof CanvasRect @var {number} blendMode NUMBER representing the blend or masking style applied to the element, */ /** @memberof CanvasRect @var {number} visible BOOLEAN representing whether or not the element should be drawn, */ /** @memberof CanvasRect @var {string} transformOrigin STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). &lt;b&gt;NOTE::&lt;/b&gt;&lt;br&gt; &lt;ul&gt; &lt;li&gt;&lt;code&gt;50% 50%&lt;/code&gt; is centered, based on percentage.&lt;/li&gt; &lt;li&gt;&lt;code&gt;50px 50px&lt;/code&gt; is 50 px away from &lt;code&gt;0% 0%&lt;/code&gt; vertically and horizontally.&lt;/li&gt; &lt;li&gt;&lt;code&gt;50 50&lt;/code&gt; is the same as &lt;code&gt;50px 50px&lt;/code&gt;.&lt;/li&gt; &lt;li&gt;Values can be mixed: &lt;code&gt;50% 10px&lt;/code&gt;, for instance.&lt;/li&gt; &lt;/ul&gt; &lt;br&gt; &lt;b&gt;EXAMPLES::&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; &lt;/codeblock&gt; &lt;br&gt; */ /** @memberof CanvasRect @var {string} fill STRING, gradient, or texture representing the color used to fill the shape, */ /** @memberof CanvasRect @var {string} strokeFill STRING, gradient, or texture representing the color used to fill the shape's stroke, */ /** @memberof CanvasRect @var {number} strokeWidth NUMBER representing the width of the shape's outline, */ /** @memberof CanvasRect @var {string} strokeCap STRING representing how the two ends of a line form: 'butt', 'round', and 'square', */ /** @memberof CanvasRect @var {string} strokeJoin STRING representing how two lines/corners form: 'round', 'bevel', and 'miter', */ /** @memberof CanvasRect @var {string} strokePosition STRING repsenting the position of the shape's stroke, 'outer' or 'center'; there is no 'inner', */ /** @memberof CanvasRect @var {number} strokeDashSize NUMBER representing the length of each segment in a dashed line, */ /** @memberof CanvasRect @var {number} strokeDashGap NUMBER representing the gap between each segment in a dashed line, */ /** @memberof CanvasRect @var {number} strokeDashOffset NUMBER representing the offset positioning of the dash segments, */ /** @memberof CanvasRect @var {string} shadowColor STRING representing the color of the drop shadow in RGBA format, */ /** @memberof CanvasRect @var {number} shadowBlur NUMBER representing the amount of blur on the drop shadow, */ /** @memberof CanvasRect @var {number} shadowAngle NUMBER representing the angle, in degrees, of the drop shadow, */ /** @memberof CanvasRect @var {number} shadowDistance NUMBER representing the distance of the drop shadow from the element, */ import CanvasShape from './CanvasShape' class CanvasRect extends CanvasShape { constructor(rectObj) { rectObj.type = 'rect' super(rectObj) } _setShapeParams(args) { var CR = this CR.x = args[0] CR.y = args[1] CR.width = args[2] CR.height = args[3] } _prepDrawing(translation) { var CR = this if (translation) { CR.args[0] = -CR._offsetX * CR.stage.qualityScale CR.args[1] = -CR._offsetY * CR.stage.qualityScale } else { CR.args[0] = CR.x * CR.stage.qualityScale CR.args[1] = CR.y * CR.stage.qualityScale } CR.args[2] = CR.width * CR.stage.qualityScale CR.args[3] = CR.height * CR.stage.qualityScale CR.stage.ctx.rect.apply(CR.stage.ctx, CR.args) } } export default CanvasRect × Search results Close "},"ad-canvas_lib_CanvasShape.js.html":{"id":"ad-canvas_lib_CanvasShape.js.html","title":"Source: ad-canvas/lib/CanvasShape.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasShape.js /** @npmpackage @class CanvasShape @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasShape } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Is the returned instance of a {@link CanvasShape}, which makes up all {@link CanvasCircle}s, {@link CanvasRect}s, and {@link CanvasPath}s. Never called directly by a user. */ import CanvasElement from './CanvasElement' import { Align } from 'ad-view' import { MathUtils } from 'ad-utils' class CanvasShape extends CanvasElement { constructor(shapeObj) { super(shapeObj, shapeObj.type) var CS = this CS.drawScale = shapeObj.drawScale || 1 CS.fill = shapeObj.fill var _stroke = shapeObj.stroke CS.strokeFill = _stroke.fill || null CS.strokeWidth = _stroke.width || 0 CS.strokeCap = _stroke.cap || 'butt' CS.strokeJoin = _stroke.join || 'miter' CS.strokeDashSize = _stroke.dashSize || 10000 CS.strokeDashGap = _stroke.dashGap || 0 CS.strokeDashOffset = _stroke.dashOffset || 0 CS.strokePosition = _stroke.position || 'outer' CS._closePath = shapeObj.closePath != false if (CS.strokeDashGap === 0 &amp;&amp; CS.strokeDashSize != 10000) CS.strokeDashGap = CS.strokeDashSize CS._setDrawArgs(shapeObj) if (shapeObj.align) Align.set(CS, shapeObj.align) } /* ------------------------------------------------ sets various arguments defining an elements.args paramter given an initial shapeObj for line drawings, an argument (dItem.drawArgs) will be defined so the initial drawing paramters will be separated from any translated values CALLED ONLY FROM CanvasShape(); */ _setDrawArgs(shapeObj) { var CS = this var _params = shapeObj.params || [0, 0, 0, 0, 0] switch (CS._type) { case 'rect': _params = [_params.x || 0, _params.y || 0, _params.width || _params.height, _params.height || _params.width] break case 'arc': var _startVal = _params.startAngle === undefined ? _params.startRad : MathUtils.toRadians(_params.startAngle) var _endVal = _params.endAngle === undefined ? _params.endRad : MathUtils.toRadians(_params.endAngle) if (!_startVal) _startVal = 0 if (!_endVal) _endVal = 2 * Math.PI _params = [_params.x || 0, _params.y || 0, _params.width &gt;= 0 ? _params.width / 2 : _params.radius, _startVal, _endVal] break } CS.args = _params CS._setShapeParams(shapeObj.points || _params, shapeObj) CS.transformOrigin = _params.transformOrigin || shapeObj.transformOrigin || (shapeObj.params ? shapeObj.params.transformOrigin : null) || (CS._type === 'rect' ? '0 0' : '50% 50%') } draw(translation, isArc) { var CS = this if (CS.strokeDashSize &gt; 0 &amp;&amp; CS.strokeDashGap &gt; 0) CS.stage.ctx.setLineDash([CS.strokeDashSize * CS.stage.qualityScale, CS.strokeDashGap * CS.stage.qualityScale]) CS.stage.ctx.lineDashOffset = CS.strokeDashOffset var _outer = CS.strokePosition === 'outer' var _strokeDepth = CS.strokeWidth &gt; 0 CS.stage.ctx.beginPath() CS.stage.ctx.strokeStyle = CS.strokeFill CS.stage.ctx.lineWidth = CS.strokeWidth * CS.stage.qualityScale * (_outer ? 2 : 1) CS.stage.ctx.lineCap = CS.strokeCap CS.stage.ctx.lineJoin = CS.strokeJoin CS._prepDrawing(translation) if (CS._closePath) CS.stage.ctx.closePath() if (_outer &amp;&amp; _strokeDepth) CS.stage.ctx.stroke() if (CS.fill) { CS.stage.ctx.fillStyle = CS.fill CS.stage.ctx.fill() } if (!_outer &amp;&amp; _strokeDepth) { // this commented out area was originally used to prevent errors of shadow displays when strokePosition === 'center' // CS.stage.ctx.shadowColor = 'rgba(0, 0, 0, 0)'; // CS.stage.ctx.shadowOffsetX = 0; // CS.stage.ctx.shadowOffsetY = 0; // CS.stage.ctx.shadowBlur = 0; CS.stage.ctx.stroke() } } } export default CanvasShape × Search results Close "},"ad-canvas_lib_CanvasSprite.js.html":{"id":"ad-canvas_lib_CanvasSprite.js.html","title":"Source: ad-canvas/lib/CanvasSprite.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasSprite.js /** @npmpackage @class CanvasSprite @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasSprite } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Uses a {@link CanvasDrawer}'s {@link CanvasImage} to create an animated sprite using JSON data for positioning and sizing. &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE::&lt;/b&gt; This class is a work in progress and was built specifically for &lt;b&gt;game dev&lt;/b&gt; @example var _mySprite = new CanvasSprite({ element: _myCanvasDrawer.elements.character, data: AnimationJSON.character, sequences: { run: [0, 4], jump: [5, 10], fall: [11, 16], }, scale: _scale, id: 'character', offsetX: 10, offsetY: 2, }); _mySprite.sequence = 'fall'; _mySprite.nextFrame(); */ function CanvasSprite(arg) { // create a simple span DOM element for dispatching events on var C = document.createElement('span') /** ----------------------------------------------------------------------------------------------- */ // PUBLIC PROPERTIES C.element = arg.element C.data = arg.data if (C.data.frameNumber) { C.total = C.data.frameNumber - 1 C.updateFun = updateSprite C.cols = C.data.cols C.width = C.data.width C.height = C.data.height } else { C.total = C.data.fs.length - 1 C.updateFun = updateAtlas } C.callback = arg.callback C.frame = 0 C.sequences = arg.sequences || {} C.id = arg.id || 'none' C.loopTarget = (C.data.loopTarget || 1) - 1 if (C.data.loopTarget === 'stop') C.loopTarget = C.total C.speedScale = C.data.speedScale || 1 /** ----------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _sequenceName = 'all' var _sequence var _scale = arg.scale || 1 var _offX = arg.offsetX || 0 var _offY = arg.offsetY || 0 var _endReached var _startReached /** ----------------------------------------------------------------------------------------------- */ // GETTER | SETTERS // get : mySprite.sequence() // 'default' // set : mySprite.sequence ( 'walk' ); C.sequence = function(name) { // GET if (name == undefined) return _sequenceName // SET _sequence = C.sequences[name] _sequenceName = name C.frame = _sequence[0] === 1 ? 0 : _sequence[0] C.total = _sequence[1] C.updateFun() } /** ----------------------------------------------------------------------------------------------- */ // PUBLIC METHODS C.nextFrame = function() { if (_endReached) { C.dispatchEvent(new CustomEvent('canvasSpriteComplete')) _endReached = false } C.updateFun() C.frame += C.speedScale if (C.frame &gt; C.total) { _endReached = true C.frame = _sequence[0] } } C.prevFrame = function() { if (_startReached) { C.dispatchEvent(new CustomEvent('canvasSpriteComplete')) _startReached = false } C.updateFun() C.frame -= C.speedScale if (C.frame &lt;= -1) { _startReached = true C.frame = C.total } } C.gotoFrame = function(frameNum) { // trace('CanvasSprite.gotoFrame()', frameNum); C.frame = frameNum if (C.frame &gt; C.total || C.frame &lt; _sequence[0]) C.frame = _sequence[0] C.updateFun() } /** ----------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function updateAtlas() { var coor = C.data.fs[C.frame] var f = coor.f var off = coor.s C.element._sourceX = f.x C.element._sourceY = f.y C.element._sourceW = f.w C.element._sourceH = f.h C.element.x = ~~((off.x + _offX) * _scale) C.element.y = ~~((off.y + _offY) * _scale) C.element.width = ~~(f.w * _scale) C.element.height = ~~(f.h * _scale) if (C.callback) C.callback() } function updateSprite() { C.element._sourceX = (C.frame % C.cols) * C.width C.element._sourceY = Math.floor(C.frame / C.cols) * C.height if (C.callback) C.callback() // C.element.sourceY = f.y; } /** ----------------------------------------------------------------------------------------------- */ // INIT C.sequences.all = [C.loopTarget, C.total] C.sequence(_sequenceName) return C } export default CanvasSprite × Search results Close "},"ad-canvas_lib_CanvasText.js.html":{"id":"ad-canvas_lib_CanvasText.js.html","title":"Source: ad-canvas/lib/CanvasText.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasText.js /** @npmpackage @class CanvasText @param {object} textObj an object containing the arguments for defining / orienting the text, see Properties for more info: @property {CanvasDrawer} target the CanvasDrawer element in which to draw the text @property {string} id an optional STRING defining the name by which the text will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a {@link CanvasDrawer} @property {string} text the string of text for the canvas textfield. Supports line breaks &lt;span&gt;&lt;&lt;/span&gt;br&gt; @property {object} css standard css object, see properties: @property {number} css.x NUMBER X coordinate for where to draw the image data @property {number} css.y NUMBER Y coordinate for where to draw the image data @property {number|string} css.fontSize NUMBER or STRING (12, '12', '12px', or '12pt') representing the font size @property {string} css.fontFamily STRING defining the font name @property {string|Align} css.alignText STRING or Align constant defining text's horizontal alingment: 'center', 'left', or 'right'. Can also use Align.CENTER, Align.LEFT, or Align.RIGHT. @property {number} css.scale NUMBER for uniform scale of the text, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY @property {number} css.scaleX NUMBER for X scale of the text, scaling from drawing center unless transformOrigin is changed @property {number} css.scaleY NUMBER for Y scale of the text, scaling from drawing center unless transformOrigin is changed @property {number} css.rotation NUMBER IN DEGREES for the start rotation of the text @property {string} css.transformOrigin an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '0% 0%' @property {number} css.alpha NUMBER for alpha of the drawing @property {object} css.dropShadow an optional OBJECT defining properties of the text's drop shadow, see following properties: @property {number} css.dropShadow.angle NUMBER IN DEGREES for the angle to position the shadow @property {number} css.dropShadow.distance NUMBER for how far away from the text the shadow is @property {number} css.dropShadow.blur NUMBER for how blurry the shadow is @property {string|object} css.dropShadow.color optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' @property {number} css.dropShadow.alpha NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color @property {number} offsetX NUMBER representing the X offset of the text @property {number} offsetY NUMBER representing the Y offset of the text @property {number} maxWidth NUMBER which determines the maximum width of the text field, which is used to create MUTLI-LINE text @property {number} lineHeight NUMBER which determines the line height between lines of text with defined maxWidth values @property {string|CanvasBlendMode} blendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over' @property {string|CanvasTexture} fill an optional STRING or gradiant variable defining the color fill of the text. Defaults to none / invisible. @property {object} stroke an optional OBJECT defining properties of the shape's stroke @property {string|CanvasTexture} stroke.fill an optional STRING or gradiant variable defining the color fill of the shape stroke. Defaults to none / invisible @property {number} stroke.width an optional NUMBER value determining stroke width. Defaults to 0 @property {string} stroke.position an optional STRING determining if the stroke will be 'outer' or 'center'. Defaults to 'outer', there is no 'inner' @property {string} stroke.cap an optional STRING value determining a line's cap style: 'butt', 'round', and 'square'. Defaults to 'butt' &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/lineCap.jpg&quot; /&gt; &lt;br&gt; @property {string} stroke.join an optional STRING value determining how two lines/corners connect: 'round', 'bevel', and 'miter'. Defaults to 'round' &lt;br&gt; &lt;img src=&quot;../docs_images/canvasdrawer/lineJoin.jpg&quot; /&gt; &lt;br&gt; @property {number} dashSize an optional NUMBER value determining the length of each segment in a dashed line @property {number} dashGap an optional NUMBER value determining the gap between each segment in a dashed line. Defaults to 0, unless dashSize is defined, then defaults to dashSize @property {boolean} visible an optional BOOLEAN that, when set to false, will not render the element. Defaults to true @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasText } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Add a text field to the drawer based on a given object, and return a reference to that text &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE&lt;/b&gt;&lt;br&gt; &lt;code&gt;transformOrigin&lt;/code&gt; is based on the text alignment. '0% 0%' for text aligned right will be at that text's TOP-RIGHT, '100% 0%' would be its TOP-LEFT. Centered and left-aligned text's '0% 0%' is its TOP-LEFT. &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLE&lt;/b&gt;&lt;br&gt; Adding a red text field with a yellow 4px outer stroke and an overlay blend mode. &lt;codeblock&gt; var _myText = new CanvasText({ target: View.main.myCanvasDrawer, id: 'textItem', text: 'Watch the Trailer', css: { x: 0, y: 0, fontSize: 40, fontFamily: 'FuturaBold', alignText: Align.LEFT, offsetX: -5, offsetY: 5, maxWidth: 50, lineHeight: 100 }, fill: 'red', stroke: { fill: 'yellow', position: 'outer', width: 4 }, blendMode: CanvasBlendMode.OVERLAY }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ /** @memberof CanvasText @const {string} id READ-ONLY: STRING representing the id of the element */ /** @memberof CanvasText @var {number} x NUMBER representing the horizontal position of the element */ /** @memberof CanvasText @var {number} left NUMBER representing a reference to the x property, */ /** @memberof CanvasText @var {number} y NUMBER representing the vertical position of the element, */ /** @memberof CanvasText @var {number} top NUMBER representing a reference to the y property, */ /** @memberof CanvasText @const {number} width READ-ONLY: NUMBER representing the approximate width of the text, */ /** @memberof CanvasText @const {number} height READ-ONLY: NUMBER representing the approximate height of the text, */ /** @memberof CanvasText @var {number} rotation */ /** @memberof CanvasText @var {number} alpha NUMBER representing the opacity of the element, */ /** @memberof CanvasText @var {number} opacity NUMBER representing a reference to the alpha property, */ /** @memberof CanvasText @var {number} scale NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY, */ /** @memberof CanvasText @var {number} scaleX NUMBER representing the horizontal scale of the element, */ /** @memberof CanvasText @var {number} scaleY NUMBER representing the vertical scale of the element, */ /** @memberof CanvasText @var {number} blendMode NUMBER representing the blend or masking style applied to the element, */ /** @memberof CanvasText @var {boolean} visible BOOLEAN representing whether or not the element should be drawn, */ /** @memberof CanvasText @var {string} transformOrigin STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). &lt;b&gt;NOTE::&lt;/b&gt;&lt;br&gt; &lt;ul&gt; &lt;li&gt;&lt;code&gt;50% 50%&lt;/code&gt; is centered, based on percentage.&lt;/li&gt; &lt;li&gt;&lt;code&gt;50px 50px&lt;/code&gt; is 50 px away from &lt;code&gt;0% 0%&lt;/code&gt; vertically and horizontally.&lt;/li&gt; &lt;li&gt;&lt;code&gt;50 50&lt;/code&gt; is the same as &lt;code&gt;50px 50px&lt;/code&gt;.&lt;/li&gt; &lt;li&gt;Values can be mixed: &lt;code&gt;50% 10px&lt;/code&gt;, for instance.&lt;/li&gt; &lt;/ul&gt; &lt;br&gt; &lt;b&gt;EXAMPLES::&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; &lt;/codeblock&gt; &lt;br&gt; */ /** @memberof CanvasText @var {string} fontFamily STRING representing the font name, */ /** @memberof CanvasText @var {number} fontSize NUMBER or STRING (12, '12', '12px', or '12pt') representing the font size, */ /** @memberof CanvasText @var {number} lineHeight NUMBER which determines the line height between lines of text with defined maxWidth values, */ /** @memberof CanvasText @var {number} maxWidth NUMBER which determines the maximum width of the text field, which is used to create MUTLI-LINE text, */ /** @memberof CanvasText @var {string} alignText STRING or Align constant defining text's horizontal alingment: 'center', 'left', or 'right'. Can also use Align.CENTER, Align.LEFT, or Align.RIGHT, */ /** @memberof CanvasText @var {string} fill STRING, gradient, or texture representing the color used to fill the text, */ /** @memberof CanvasText @var {string} strokeFill STRING, gradient, or texture representing the color used to fill the text's stroke, */ /** @memberof CanvasText @var {number} strokeWidth NUMBER representing the width of the text's outline, */ /** @memberof CanvasText @var {string} strokeJoin STRING representing how two lines/corners form: 'round', 'bevel', and 'miter', */ /** @memberof CanvasText @var {string} strokePosition STRING repsenting the position of the text's stroke, 'outer' or 'center'; there is no 'inner', */ /** @memberof CanvasText @var {number} strokeDashSize NUMBER representing the length of each segment in a dashed line, */ /** @memberof CanvasText @var {number} strokeDashGap NUMBER representing the gap between each segment in a dashed line, */ /** @memberof CanvasText @var {number} strokeDashOffset NUMBER representing the offset positioning of the dash segments, */ /** @memberof CanvasText @var {string} shadowColor STRING representing the color of the drop shadow in RGBA format, */ /** @memberof CanvasText @var {number} shadowBlur NUMBER representing the amount of blur on the drop shadow, */ /** @memberof CanvasText @var {number} shadowAngle NUMBER representing the angle, in degrees, of the drop shadow, */ /** @memberof CanvasText @var {number} shadowDistance NUMBER representing the distance of the drop shadow from the element, */ import CanvasElement from './CanvasElement' import { Align } from 'ad-view' class CanvasText extends CanvasElement { constructor(textObj) { var _params = (textObj.params = textObj.css || {}) super(textObj, 'text') let CT = this CT.text = textObj.text CT.maxWidth = _params.maxWidth || null CT.fontFamily = _params.fontFamily || '_serif' CT.fontSize = _params.fontSize &gt;= 0 ? Number( _params.fontSize .toString() .replace(/px/g, '') .replace(/pt/g, '') ) : 12 CT._marginLeft = _params.offsetX || 0 CT._marginTop = _params.offsetY || 0 CT._x = 0 CT._y = 0 CT._width = 0 CT._height = 0 CT._alignText = 'left' // Object.defineProperties(CT, { x: { get: function() { return CT._x - CT._marginLeft }, set: function(value) { CT._x = value + CT._marginLeft } }, y: { get: function() { return CT._y - CT._marginTop }, set: function(value) { CT._y = value + CT._marginTop } }, width: { get: function() { return CT._width + CT._marginLeft } }, height: { get: function() { return CT._height + CT._marginTop } }, alignText: { get: function() { return CT._alignText }, set: function(value) { value = value.replace('align', '').toLowerCase() CT._alignText = value } } }) CT.x = _params.x || _params.left || 0 CT.y = _params.y || _params.top || 0 CT.alignText = _params.alignText || 'left' if (CT.alignText === 'centered') CT.alignText = 'center' CT.fill = textObj.fill CT.strokeFill = textObj.stroke.fill || null CT.strokeWidth = textObj.stroke.width || 0 CT.strokeCap = textObj.stroke.cap || 'butt' CT.strokeJoin = textObj.stroke.join || 'round' CT.strokeDashSize = textObj.stroke.dashSize || 10000 CT.strokeDashGap = textObj.stroke.dashGap || 0 CT.strokeDashOffset = textObj.stroke.dashOffset || 0 CT.strokePosition = textObj.stroke.position || 'outer' if (CT.strokeDashGap === 0 &amp;&amp; CT.strokeDashSize != 10000) CT.strokeDashGap = CT.strokeDashSize CT._transOffsetX = 0 CT._transOffsetY = 0 //CT.letterSpacing = _params.letterSpacing || CT.fontSize / 2; CT.lineHeight = _params.lineHeight || CT.fontSize * 0.75 CT.maxWidth = _params.maxWidth || 100000 // THESE ARE PROPERTIES THAT WOULD NECESITATE RECALCULATING THE TEXT'S WIDTH, HEIGHT, POSITIONING, OR OTHER VALUES TO DRAW CT.deltaProps = { text: 'empty', fontFamily: 'empty', fontSize: 'empty', lineHeight: 'empty', maxWidth: 'empty', // marginLeft: 'empty', // marginTop: 'empty', strokeWidth: 'empty', alignText: 'empty', _transOffsetX: 'empty', _transOffsetY: 'empty' // x: 'empty', // y: 'empty', // scaleX: 'empty', // scaleY: 'empty', // rotation: 'empty' } CT.drawProps = { // THESE VALUES ARE ONES THAT WOULD GET RECALCULATED CONSTANTLY, SO WE'RE STORING THEM drawX: 'empty', drawY: 'empty', offsetX: 'empty', offsetY: 'empty', strokeOffset: 'empty', // the final string to be output text: 'empty' } CT.stage.ctx.font = CT.fontSize + 'px ' + CT.fontFamily // CT._wrapText(false, false); var _originDefault switch (CT.alignText) { case 'left': _originDefault = '0% 0%' break case 'right': _originDefault = '0% 0%' break case 'center': _originDefault = '50% 0%' break } CT.transformOrigin = _params.transformOrigin || textObj.transformOrigin || _originDefault CT.stage.ctx.font = null if (textObj.align) Align.set(CT, textObj.align) } draw(translation) { let CT = this CT._wrapText(translation) } /* ------------------------------------------------ wrap the text to multiline based on its max width CALLED ONLY FROM CanvasText._init() and CanvasDrawer._drawShape() */ _wrapText(translation, draw) { let CT = this var _recalc = draw === false ? true : false var _prop var _basedOn // IF ONE OF THE deltaProps IS NOT EQUAL TO A VALUE OF THE TEXT FIELD, RECALCULATE ITS DIMENSIONS AND OFFSETS if (!_recalc) { for (var item in CT.deltaProps) { if (CT.deltaProps[item] != CT[item]) { _prop = item _recalc = true break } } } if (_recalc) { // MODIFY LINE BREAKS CT.text = CT.text.replace(/&lt;br&gt;/gi, ' &lt;br&gt;') // UPDATE THE STAGE CONTEXT FOR THE FONT DATA CT.stage.ctx.font = CT.fontSize + 'px ' + CT.fontFamily // THIS DOES A SERIES OF CHECKS TO FIND OFFSETS BASED ON strokeWidth, marginTop, and marginLeft CT.deltaProps.strokeOffset = (CT.strokePosition === 'outer' || CT.strokePosition === 'center' ? CT.strokeWidth / 4 : 0) * CT.stage.qualityScale CT.drawProps.offsetX = /*CT._marginLeft +*/ (CT.alignText === 'right' ? -1 : 1) * CT.deltaProps.strokeOffset CT.drawProps.offsetY = /*CT._marginTop +*/ CT.deltaProps.strokeOffset //CT.drawProps.drawX = CT.x; //CT.drawProps.drawY = CT.y; // THIS RESTRICTS THE TEXT TO ITS maxWidth AND ALSO FINDS THE width AND height OF THE TEXT var _words = CT.text.split(' ') var _returnLine = '' var _tempLine var _lineWidth var _finalTextWidth = 0 var _finalText = [] // var _forcedBreak var _naturalBreak var _tempWord // GET THE WIDTH OF THE TEXT FIELD for (var n = 0; n &lt; _words.length; n++) { _tempWord = _words[n] _forcedBreak = _tempWord.toLowerCase().indexOf('&lt;br&gt;') &gt;= 0 _naturalBreak = false _tempLine = _returnLine + (n &gt; 0 ? ' ' : '') + _tempWord // _tempLine = _returnLine + ' ' + _tempWord; _lineWidth = CT.stage.ctx.measureText(_tempLine).width _naturalBreak = _lineWidth &gt; CT.maxWidth if ((_forcedBreak || _naturalBreak) &amp;&amp; n &gt; 0) { _lineWidth = CT.stage.ctx.measureText(_returnLine).width // while (_returnLine.substring(_returnLine.length - 1, _returnLine.length) === ' ') _returnLine = _returnLine.substring(0, _returnLine.length - 1); // while (_returnLine.substring(0, 1) === ' ') _returnLine = _returnLine.substring(1, _returnLine.length); _finalText.push({ text: _returnLine, y: CT.drawProps.offsetY }) _returnLine = _tempWord CT.drawProps.offsetY += CT.lineHeight } else { _returnLine = _tempLine // + (((n + 1) === _words.length || _words[n + 1] === '&lt;br&gt;') ? '' : ' '); } _lineWidth = CT.stage.ctx.measureText(_returnLine).width if (_finalTextWidth &lt; _lineWidth) _finalTextWidth = _lineWidth } // THIS IS THE FINAL LINE OF TEXT _finalText.push({ text: _returnLine, y: CT.drawProps.offsetY }) // REMOVE ONLY THE LAST AND FIRST SPACE ON ANY LINE for (n = 0; n &lt; _finalText.length; n++) { //gif (translation) CT.drawProps.text[n].y -= _drawOffsetY; _finalText[n].text = _finalText[n].text.replace(/&lt;br&gt;/g, '') } // FINAL ARRAY OF EACH LINE OF TEXT CT.drawProps.text = _finalText.slice() // NEWLY DEFINED width AND height VALUES CT._width = _finalTextWidth + CT.deltaProps.strokeOffset // + CT._marginLeft; CT._height = (CT.drawProps.text.length - 1) * CT.lineHeight + CT.fontSize // + CT._marginTop;// &lt; 0 ? CT._marginTop : 0); // - (CT.deltaProps.strokeOffset * 4); //CT.drawProps.offsetY + (CT.deltaProps.strokeOffset * 2); // OFFSETS ADJUSTED BASED ON DIMENSIONS CT._offsetX = CT._width * CT._transOffsetX CT._offsetY = CT._height * CT._transOffsetY // SET THE deltaProps TO THE MOST UPDATED VALUES for (item in CT.deltaProps) CT.deltaProps[item] = CT[item] } if (draw !== false) { var _drawOffsetX = -CT.drawProps.offsetX // - CT._marginLeft; var _drawOffsetY = 0 //CT.drawProps.offsetY; var _drawX = CT._x - CT.strokeWidth / 2 var _drawY = CT._y - CT.strokeWidth / 2 if (translation) { //_drawOffsetX -= CT._offsetX; //_drawOffsetY -= CT._offsetY; _drawOffsetX = CT._offsetX - CT._marginLeft // + (CT.strokeWidth / 2); _drawOffsetY = CT._offsetY - CT._marginTop _drawX = 0 _drawY = -(CT.strokeWidth / 2) } // ACTUALLY DRAW THE VARIOUS LINES OF TEXT var obj for (n = 0; n &lt; CT.drawProps.text.length; n++) { //gif (translation) CT.drawProps.text[n].y -= _drawOffsetY; obj = CT.drawProps.text[n] CT._drawText(obj.text, _drawX - _drawOffsetX, _drawY + obj.y - _drawOffsetY) } } } /* ------------------------------------------------ draw the text onto the stage CALLED ONLY FROM CanvasDrawer._wrapText() */ _drawText(copy, x, y) { let CT = this var _outer = CT.strokePosition === 'outer' var _strokeDepth = CT.strokeWidth &gt; 0 if (CT.strokeDashSize &gt; 0 &amp;&amp; CT.strokeDashGap &gt; 0) CT.stage.ctx.setLineDash([CT.strokeDashSize * CT.stage.qualityScale, CT.strokeDashGap * CT.stage.qualityScale]) CT.stage.ctx.lineDashOffset = CT.strokeDashOffset CT.stage.ctx.lineCap = CT.strokeCap CT.stage.ctx.lineJoin = CT.strokeJoin CT.stage.ctx.font = CT.fontSize * CT.stage.qualityScale + 'px ' + CT.fontFamily CT.stage.ctx.fillStyle = CT.fill CT.stage.ctx.strokeStyle = CT.strokeFill CT.stage.ctx.textAlign = CT.alignText CT.stage.ctx.textBaseline = 'top' CT.stage.ctx.lineWidth = CT.strokeWidth * CT.stage.qualityScale * (_outer ? 2 : 1) if (_outer &amp;&amp; _strokeDepth) CT.stage.ctx.strokeText(copy, x * CT.stage.qualityScale, y * CT.stage.qualityScale) CT.stage.ctx.fillText(copy, x * CT.stage.qualityScale, y * CT.stage.qualityScale) if (!_outer &amp;&amp; _strokeDepth) { // this commented out area was originally used to prevent errors of shadow displays when strokePosition === 'center' // CT.stage.ctx.shadowColor = 'rgba(0, 0, 0, 0)'; // CT.stage.ctx.shadowOffsetX = 0; // CT.stage.ctx.shadowOffsetY = 0; // CT.stage.ctx.shadowBlur = 0; CT.stage.ctx.strokeText(copy, x * CT.stage.qualityScale, y * CT.stage.qualityScale) } } } export default CanvasText × Search results Close "},"ad-canvas_lib_CanvasTexture.js.html":{"id":"ad-canvas_lib_CanvasTexture.js.html","title":"Source: ad-canvas/lib/CanvasTexture.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasTexture.js /** @npmpackage @class CanvasTexture @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasTexture } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Texture generating methods for {@link CanvasDrawer}. */ import { ImageManager } from 'ad-control' /** @memberof CanvasTexture @method makeLinearGradient @param {object} args See properties for more info: @property {CanvasDrawer} target the CanvasDrawer instance in which to create the gradient @property {number} x1 X coordinate of start of gradient @property {number} y1 Y coordinate of start of gradient @property {number} x2 X coordinate of end of gradient @property {number} y2 Y coordinate of end of gradient @property {array} colors ARRAY of objects, see below for color object properites: @property {number} colors.color.stopVal Percentage from 0-1 inclusive for where the color is at its maximum value, @property {string} colors.color.color 'rgb()' or 'rgba()' string of color values @desc Returns a linear gradient between two given points as part of thie {@link CanvasDrawer}'s context element &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLES&lt;/b&gt;&lt;br&gt; adding a 100x100 rectangle at 0, 0 with a linear gradient going from coordinate 0,0 to coordinate 0,100 fading from solid black to transparent black:&lt;br&gt; &lt;codeblock&gt; View.main.myCanvasDrawer = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); var gradient = CanvasTexture.makeLinearGradient({ target: View.main.myCanvasDrawer, xStart: 0, yStart: 0, xEnd: 0, yEnd: 200, colors: [ {stopVal: 0, color: 'rgb(0, 0, 0)'}, {stopVal: 1, color: 'rgba(0, 0, 0, 0)'} ] }); new CanvasRect({ target: View.main.myCanvasDrawer, id: 'myRect', params: { x: 0, y: 0, width: 100, height: 100 }, fill: gradient, }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ export function makeLinearGradient(args) { var grd = args.target.ctx.createLinearGradient( args.xStart * args.target.qualityScale, args.yStart * args.target.qualityScale, args.xEnd * args.target.qualityScale, args.yEnd * args.target.qualityScale ) for (var i = 0; i &lt; args.colors.length; i++) grd.addColorStop(args.colors[i].stopVal, args.colors[i].color) return grd } /** @memberof CanvasTexture @method makeRadialGradient @param {object} args See properties for more info: @property {CanvasDrawer} target the CanvasDrawer instance in which to create the gradient @property {number} x1 X coordinate of start of gradient @property {number} y1 Y coordinate of start of gradient @property {number} rad1 Radius of start color of gradient @property {number} x2 X coordinate of end of gradient @property {number} y2 Y coordinate of end of gradient @property {number} rad2 Radius of end color of gradient @property {array} colors ARRAY of objects, see below for color object properites: @property {number} colors.color.stopVal Percentage from 0-1 inclusive for where the color is at its maximum value, @property {string} colors.color.color 'rgb()' or 'rgba()' string of color values @desc Returns a radial gradient between two given points as part of thie CanvasDrawer's context element. &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLES&lt;/b&gt;&lt;br&gt; adding a circle with a radius of 400 at 0, 0 with a radial gradient starting from a radius of 50 to a radius of 200 and fading from solid red to transparent green: : &lt;codeblock&gt; View.main.myCanvasDrawer = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); var gradient = CanvasTexture.makeRadialGradient({ target: View.main.myCanvasDrawer, xInner: 0, yInner: 0, radiusInner: 50, xOuter: 0, yOuter: 0, radiusOuter: 200, colors: [ {stopVal: 0, color: 'rgb(255, 0, 0)'}, {stopVal: 1, color: 'rgba(0, 255, 0, 0)'} ] }); new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x:0, y:0, radius: 400, startAngle: 0, endAngle: 360 }, fill: gradient }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ export function makeRadialGradient(args) { var grd = args.target.ctx.createRadialGradient( args.xInner * args.target.qualityScale, args.yInner * args.target.qualityScale, args.radiusInner * args.target.qualityScale, args.xOuter * args.target.qualityScale, args.yOuter * args.target.qualityScale, args.radiusOuter * args.target.qualityScale ) for (var i = 0; i &lt; args.colors.length; i++) grd.addColorStop(args.colors[i].stopVal, args.colors[i].color) return grd } /** @memberof CanvasTexture @method makePattern @param {object} args See properties for more info: @property {CanvasDrawer} target the CanvasDrawer instance in which to create the gradient @property {canvas|CanvasDrawerInstance|ImageId} img A canvas element (CanvasDrawerInstance.canvas or CanvasDrawerInstance, NOT the ID of the DOM object), an image ID to be used by ImageManager.get(), or ImageManager.get('id') @property {string} repeat STRING determining repeat style, see {@link CanvasTiling}. @desc Returns a pattern given an image source and repeat style. &lt;br&gt;&lt;br&gt; &lt;b&gt;EXAMPLES:&lt;/b&gt;&lt;br&gt; Adding a circle with a radius of 400 at 0, 0 with a pattern from an image named 'tileJPG' which only repeats horizontally: &lt;codeblock&gt; View.main.myCanvasDrawerPattern = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); var pattern = CanvasTexture.makePattern({ target: View.main.myCanvasDrawerPattern, source: 'tileJPG', repeat: CanvasTiling.X }); new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x: 0, y: 0, radius: 400, startAngle: 0, endAngle: 360 }, fill: pattern }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Adding a circle with a radius of 400 at 0, 0 with a pattern from an the above canvas source which repeats horizontally and vertically: &lt;codeblock&gt; View.main.myCanvasDrawerCanvasTiling = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); var pattern = CanvasTexture.makePattern({ target: View.main.myCanvasDrawer, source: View.main.myCanvasDrawerPattern.canvas, repeat: CanvasTiling.COVER }); new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x: 0, y: 0, radius: 400, startAngle: 0, endAngle: 360 }, fill: pattern }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ export function makePattern(args) { var _img = args.source var _repeat = args.repeat || 'repeat' var _isSourceCanvas = args.target._getIsSourceCanvas(_img) var _imgSrc = _isSourceCanvas ? (_img.tagName === 'CANVAS' ? _img : _img.canvas) : _img.tagName === 'IMG' ? _img : ImageManager.get(_img) var _pattern = args.target.ctx.createPattern(_imgSrc, _repeat) return _pattern } × Search results Close "},"ad-canvas_lib_CanvasTiling.js.html":{"id":"ad-canvas_lib_CanvasTiling.js.html","title":"Source: ad-canvas/lib/CanvasTiling.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasTiling.js /** @npmpackage @class CanvasTiling @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasTiling } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Custom constants to identify how patterns will repeat. */ /** @memberof CanvasTiling @const {string} X Represents 'repeat-x'. Used for fillStyle patterns with only horizontal repetiion (infinite columns, 1 rows). @example CanvasTiling.X */ export const X = 'repeat-x' /** @memberof CanvasTiling @const {string} Y Represents 'repeat-y'. Used for fillStyle patterns with only vertical repetiion (1 column, infinite rows). @example CanvasTiling.Y */ export const Y = 'repeat-y' /** @memberof CanvasTiling @const {string} XY Represents 'repeat'. Used for patterns which repeat infinitely vertically and horizontally. @example CanvasTiling.XY */ export const XY = 'repeat' /** @memberof CanvasTiling @const {string} NONE Represents 'no-repeat'. Used for fillStyle patterns with no repetition. @example CanvasTiling.NONE */ export const NONE = 'no-repeat' × Search results Close "},"ad-canvas_lib_CanvasTweener.js.html":{"id":"ad-canvas_lib_CanvasTweener.js.html","title":"Source: ad-canvas/lib/CanvasTweener.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasTweener.js /** @npmpackage @class CanvasTweener @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasTweener } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Tween engine for {@link CanvasDrawer} */ /** @memberof CanvasTweener @method init @param {CanvasElement|CanvasDrawer} target either a {@link CanvasElement} or a {@link CanvasDrawer} to which to apply and enable tweening @desc Apply tweening capabilities to a given CanvasDrawer @example // directly to a CanvasDrawer CanvasTweener.init(_myCanvasDrawer); // using an element, for some reason CanvasTweener.init(_myCanvasDrawer.elements.rectangle); (end) */ /** @memberof CanvasTweener @var {object} tween @property {function} to @property {function} from @property {function} fromTo @property {function} set @property {function} start {@link CanvasTweener.start} @property {function} kill {@link CanvasTweener.kill} @desc Object containing functions to create a paused TweenLite animation which will re-draw this CanvasDrawer on tween.start(). &lt;br&gt;&lt;br&gt; These animation functions have the same parameters and formatting as Greensock tweens:&lt;br&gt; &lt;ul&gt; &lt;li&gt;tween.to()&lt;/li&gt; &lt;li&gt;tween.from()&lt;/li&gt; &lt;li&gt;tween.fromTo()&lt;/li&gt; &lt;li&gt;tween.set()&lt;/li&gt; &lt;/ul&gt; &lt;br&gt; See greensock docs: {@link http://greensock.com/docs/#/HTML5/GSAP/TweenLite/ } &lt;br&gt;&lt;br&gt; &lt;b&gt;PREFERRED METHOD&lt;/b&gt;&lt;br&gt; First example uses {@link CanvasTwener} to execute the tweens:&lt;br&gt; &lt;codeblock&gt; // referring to an object to tween directly through the elements object View.main.myCanvasDrawer.tween.to(View.main.myCanvasDrawer.elements.circle, 1, {x: 100 }); // referring to an object to tween by its ID, which is a string View.main.myCanvasDrawer.tween.from('arc', 1, { x: 100 }); View.main.myCanvasDrawer.tween.start(); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;DISCOURAGED METHOD&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; TweenLite.to('circle', 3, {x: 100, onUpdate: View.main.myCanvasDrawer.update.bind(View.main.myCanvasDrawer)}); TweenLite.to('arc', 3, {x: 100, onUpdate: View.main.myCanvasDrawer.update.bind(View.main.myCanvasDrawer)}); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;THE REASON WHY:&lt;/b&gt;&lt;br&gt; Notice how directly calling TweenLite requires an &lt;u&gt;onUpdate&lt;/u&gt; function for each tween? &lt;ul&gt; &lt;li&gt;Doing so calls CanvasDrawer.update() simultaneously from two sources (one per tween; in this case, two in total), increasing the work done to clear and re-draw the canvas &lt;/li&gt; &lt;li&gt;Using TweenLite.to() instead of &lt;code&gt;CanvasDrawer.tween.to()&lt;/code&gt; might make sense for single tweens, but not multiple starting at the same time.&lt;/li&gt; &lt;/ul&gt; */ /** @memberof CanvasTweener @method start @param {object} args An object with parameters for overall tween. See properties for more info. @property {number} delay a NUMBER by which to delay the entirety of a CanvasDrawer tween. Defaults to 0 @property {number} timePadding a NUMBER by which to pad the total duration of a CanvasDrawer tween. Useful if a tween appears to be completing early. Defaults to 0 @property {function} onStart a FUNCTION to run at the beginning of the CanvasDrawer tween @property {array} onStartParams an ARRAY of paramters for the onStart function @property {function} onUpdate a FUNCTION to run during the life of the CanvasDrawer tween @property {array} onUpdateParams an ARRAY of paramters for the onUpdate function @property {number} onComplete a FUNCTION to run at the conclussion of the CanvasDrawer tween @property {array} onCompleteParams an ARRAY of paramters for the onComplete function @desc Starts tweening all tweens created by {@link CanvasDrawer.tween} and creates a dummy tween which runs {@link CanvasDrawer.update} so drawings will get cleared and re-drawn &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE!!!&lt;/b&gt; This method is on the {@link CanvasTweener.tween} object! @example View.main.myCanvasDrawer.tween.to(View.main.myCanvasDrawer.elements.circle, 1, {rotation: 360, width: 100, delay: 5 }); View.main.myCanvasDrawer.tween.to(View.main.myCanvasDrawer.elements.arc, 1, {rotation: 360, width: 100, delay: 5 }); View.main.myCanvasDrawer.tween.start( { delay: 2, timePadding: 0.02, onUpdate: trace, onUpdateParams:['look at this tween go!'] } ); */ /** @memberof CanvasTweener @method kill @desc Kills all active tweens of this {@link CanvasDrawer} instance; clears CanvasDrawer._allTweens as well &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE!!!&lt;/b&gt; This method is on the {@link CanvasTweener.tween} object! @example // referring to an object to tween directly through the elements object View.main.myCanvasDrawer.tween.to('circle', 1, {rotation: 360, width: 100, delay: 5 }); View.main.myCanvasDrawer.tween.start(); View.main.myCanvasDrawer.tween.kill(); (end) */ export function init(target) { let _ctBase = new CanvasTweenerBase() _ctBase.init(target.stage || target) } // class CanvasTweenerBase { constructor() {} init(target) { let CTB = this CTB._drawer = target CTB._drawer.tween = { to: function(target, time, args) { CTB._tweenEngine('to', [target, time, args]) }, from: function(target, time, args) { CTB._tweenEngine('from', [target, time, args]) }, fromTo: function(target, time, argsFrom, argsTo) { CTB._tweenEngine('fromTo', [target, time, argsFrom, argsTo]) }, set: function(target, args) { CTB._tweenEngine('set', [target, args]) }, start: function(args) { CTB._tweenStart(args) }, kill: function() { CTB._tweenKill() } } } /* ------------------------------------------------ The primary engine which handles all the tweening CALLED ONLY FROM CanvasDrawer.tween(); */ _tweenEngine(tweenFun, args) { let CTB = this //var _tempStartFun; args[0] = typeof args[0] === 'string' ? CTB._drawer.elements[args[0]] : args[0] // this for loop updates an element's transformOrigin based on the tween argument object // then removes the transformOrigin property from the tween argument object // if we didn't remove the property, we would tween the value of transformOrigin, rather that around that origin var _argIndex = { to: 2, from: 2, fromTo: 3, set: 1 } if (args[_argIndex[tweenFun]].transformOrigin) { args[0].transformOrigin = args[_argIndex[tweenFun]].transformOrigin delete args[_argIndex[tweenFun]].transformOrigin } // changing a tween.from() to a tween.to() to bypass a glitch caused by tween.from with a delay if (tweenFun === 'from') { tweenFun = 'to' var _from = {} var _val // args[2] for tween.fun is all the arguments passed to tween, such as rotation or alpha for (var item in args[2]) { // if args[0][item] is undefined, it means the CanvasElement doesn't have that property // eg CanvasElements don't have 'delay' or 'onUpdate' properties, so we ignore those cases // we only change properties that do exist, like rotation, scale, or alpha if (args[0][item] != undefined) { _from[item] = args[2][item] // this changes the target values to the current values args[2][item] = args[0][item] _val = String(_from[item]).replace(/=/g, '') // this changes the current values to the target values if (_val.indexOf('-') &gt;= 0 || _val.indexOf('+') &gt;= 0) args[0][item] += Number(_val) else args[0][item] = Number(_val) } } } args[args.length - 1].paused = args[args.length - 1].paused === false ? false : true var _newTween = TweenLite[tweenFun].apply(CTB, args) CTB._drawer._allTweens['newTween' + CTB._drawer._allTweensSize++] = _newTween if (args[args.length - 1].paused === false) CTB._tweenStart() } /* ------------------------------------------------ The start function for all of this CanvasDrawer's tweens CALLED ONLY FROM CanvasDrawer.tween.start(); */ _tweenStart(args) { let CTB = this var _duration = 0 var _tweenDuration var _args = args || [] for (var dI in CTB._drawer._allTweens) { CTB._drawer._allTweens[dI].delay(CTB._drawer._allTweens[dI].delay() + (_args.delay || 0)) _tweenDuration = CTB._drawer._allTweens[dI].duration() + CTB._drawer._allTweens[dI].delay() if (_tweenDuration &gt; _duration) _duration = _tweenDuration CTB._drawer._allTweens[dI].play() } // if a _dummyTween already exists from a previous tween.start() then we stop it then add to it if (CTB._drawer._dummyTween) { if (_tweenDuration &lt; _duration) _tweenDuration = _duration CTB._drawer._dummyTween.kill() } var _startFun = null var _updateFun var _completeFun if (_args.onStart) { _startFun = function() { _args.onStart.apply(this, _args.onStartParams ? _args.onStartParams : null) } } if (_args.onUpdate) { _updateFun = function() { _args.onUpdate.apply(this, _args.onUpdateParams ? _args.onUpdateParams : null) CTB._drawer.update() } } else { _updateFun = CTB._drawer.update.bind(CTB._drawer) } if (_args.onComplete) { _completeFun = function() { CTB._tweenKill() _args.onComplete.apply(this, _args.onCompleteParams ? _args.onCompleteParams : null) } } else { _completeFun = CTB._tweenKill.bind(CTB) } _duration += _args.timePadding &amp;&amp; _args.timePadding &gt; 0 ? _args.timePadding : 0 CTB._drawer._dummyTween = TweenLite.to({}, _duration, { onStart: _startFun, onUpdate: _updateFun, onComplete: _completeFun, delay: _args.delay || 0 }) //_updateFun(); } /* ------------------------------------------------ The kill function for all of this CanvasDrawer's tweens CALLED ONLY FROM CanvasDrawer.tween.kill(); */ _tweenKill() { let CTB = this for (var item in CTB._drawer._allTweens) { if (CTB._drawer._allTweens[item]) CTB._drawer._allTweens[item].kill() delete CTB._drawer._allTweens[item] } CTB._drawer._allTweens = {} CTB._drawer._allTweensSize = 0 if (CTB._drawer._dummyTween) CTB._drawer._dummyTween.kill() CTB._drawer._dummyTween = null } } // export default CanvasTweenerBase × Search results Close "},"ad-canvas_lib_CanvasUtils.js.html":{"id":"ad-canvas_lib_CanvasUtils.js.html","title":"Source: ad-canvas/lib/CanvasUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-canvas/lib/CanvasUtils.js /** @npmpackage @class CanvasUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-canvas&quot;&gt;ad-canvas&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CanvasUtils } from 'ad-canvas' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Utilities for Canvas DOM elements */ /** @memberof CanvasUtils @method getImageData @param {canvas|UICanvas|CanvasDrawer} source a CANVAS DOM element or CanvasDrawer from whcih to get image data @desc Gets the image data associated with a canvas @example CanvasUtils.getImageData(_myCanvas); */ export function getImageData(source) { var _canvas = source.canvas || source try { return _canvas.context2d.getImageData(0, 0, _canvas.width, _canvas.height) } catch (err) { _returnError(source, 'get') } } /** @memberof CanvasUtils @method setImageData @param {canvas|UICanvas|CanvasDrawer} target a CANVAS DOM element or CanvasDrawer to apply image data @param {array} data the image data to apply to the canvas @desc Applies image data to a canvas. @example var _imageData = CanvasUtils.getImageData(_sourceCanvas); CanvasUtils.setImageData(_targetCanvas, _imageData); */ export function setImageData(target, data) { var _canvas = target.canvas || target try { _canvas.context2d.putImageData(data, 0, 0) } catch (err) { _returnError(target, 'set') } } // function _returnError(source, getOrSet) { var _output = 'Unable to ' + getOrSet + ' image data, try a Local Server or network connection.\\n- And/or -\\n' if (source.canvas) { _output += &quot;ImageManager failed to load ONE or ALL of the following as 'forCanvas':&quot; for (var dI in source.elements) { if (source.elements[dI]._type === 'image') { var _src = source.elements[dI].src _output += '\\n\\t' + _src.id + ': ' + _src.src } } } _output += '\\nMake sure images used on Canvas elements are loaded using the model: ' _output += &quot;ImageManager.addToLoad ( 'http://some/full/file/path/sample.png', { forCanvas:true });&quot; throw new Error(_output) } × Search results Close "},"ad-view_lib_Clamp.js.html":{"id":"ad-view_lib_Clamp.js.html","title":"Source: ad-view/lib/Clamp.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-view/lib/Clamp.js /** @npmpackage @class Clamp @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-view&quot;&gt;ad-view&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Clamp } from 'ad-view' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Utility for resizing a DOM element to the size of all its content, sort of like shrink wrapping. &lt;br&gt;&lt;br&gt; This will clamp the bounds and potentially move the x and y so that visually the content stays where it is. There is the option to clamp both horizontally and vertically, or you can just do one. Additionally there is a optional object to add some buffer space on any of the sides. @example // clamp both directions Clamp.set( View.main.myDiv, Clamp.XY ); // clamp both directions while adding some buffer padding on each side Clamp.set( View.main.myDiv, Clamp.XY, { top : 5, left : 10, bottom : 5, right : 10 }); // clamp only horizontally and add a buffer padding on the left Clamp.set( View.main.myDiv, Clamp.X, { left : 10 }); */ import * as Styles from './Styles' import * as Markup from './Markup' var _rect = { x: ['offsetWidth', 'width', 'left', 'right'], y: ['offsetHeight', 'height', 'top', 'bottom'] } /** @memberof Clamp @const {string} X Synonymous with &quot;clampX&quot; - clamp on the horizontal direction only */ export const X = 'clampX' /** @memberof Clamp @const {string} Y Synonymous with &quot;clampY&quot; - clamp on the vertical direction only */ export const Y = 'clampY' /** @memberof Clamp @const {string} XY Synonymous with &quot;clampXY&quot; - clamp on all sides */ export const XY = 'clampXY' /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberof Clamp @method set @param {element} source The DOM element to resize and move. @param {string} type A String/Constant representing what directions to clamp on. @param {object} buffer (optional) An Object that has the values to add buffer padding to each side. See properties for more info: @property {number} buffer.left Amount of left padding @property {number} buffer.right Amount of right padding @property {number} buffer.top Amount of top padding @property {number} buffer.bottom Amount of bottom padding @desc Resizes and moves the source element horizontally and/or vertically, relative to all its children. */ export function set(source, type, buffer, move) { var elem = Markup.get(source) move = move !== false var children = elem.childNodes var childCoordinates = [] var direction = {} if (/(x)/gi.exec(type)) direction.x = {} if (/(y)/gi.exec(type)) direction.y = {} for (var i = 0; i &lt; children.length; i++) { var child = children[i] childCoordinates[i] = {} for (var xy in direction) { var xyValue = Styles.getCss(child, xy) var whValue = child[_rect[xy][0]] var add = xyValue + whValue var xyDirection = direction[xy] if (i == 0) { xyDirection.min = xyValue xyDirection.max = add } if (xyValue &lt; xyDirection.min) xyDirection.min = xyValue if (xyDirection.max &lt; add) xyDirection.max = add childCoordinates[i][xy] = xyValue } } // process the optional buffer var _buffer = { top: 0, bottom: 0, left: 0, right: 0 } if (buffer) { for (var prop in _buffer) { _buffer[prop] = isNaN(buffer) ? buffer[prop] || 0 : buffer } } // resize and move the container var css = {} for (var xy in direction) { var d = direction[xy] if (move) css[xy] = d.min + Styles.getCss(elem, xy) - _buffer[_rect[xy][2]] css[_rect[xy][1]] = d.max - d.min + _buffer[_rect[xy][2]] + _buffer[_rect[xy][3]] } Styles.setCss(elem, css) // move all the children for (i = 0; i &lt; children.length; i++) { var child = children[i] var css = {} for (var xy in direction) { css[xy] = childCoordinates[i][xy] - direction[xy].min + _buffer[_rect[xy][2]] } Styles.setCss(child, css) } } /* ------------------------------------------------------------------------------------------------------------------------------- */ × Search results Close "},"ad-utils_lib_ColorUtils.js.html":{"id":"ad-utils_lib_ColorUtils.js.html","title":"Source: ad-utils/lib/ColorUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/ColorUtils.js /** @npmpackage @class ColorUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { ColorUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This class contains methods for manipulating color. */ /** @memberOf ColorUtils @method toRgba @param {string|object} color the color to convert, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. @param {number} alpha the optional alpha value for the return string: overrides the alpha value of an RGBA color. If undefined, will default to the alpha value of the color. @desc Returns an object containing r, g, b, a properties */ export function toRgba(color, alpha) { switch (typeof color) { case 'object': color = color || { r: 0, g: 0, b: 0, a: 1 } break default: // convert from rgb() or rgba() string if (color.indexOf('rgb') &gt;= 0) { color = color.substring(color.indexOf('(') + 1, color.lastIndexOf(')')).split(/,\\s*/) color = { r: color[0], g: color[1], b: color[2], a: Number(color[3]) } } else if (color.indexOf('#') &gt;= 0) { // convert from HEX var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i.exec(color) color = result ? { r: parseInt(result[1], 16), g: parseInt(result[2], 16), b: parseInt(result[3], 16), a: result[4] ? Number(result[4], 16) : 1 } : null } else { // given a color name like 'red' or 'green' console.log('') console.log( &quot;ERROR: ColorUtils.toRgba does not accept color names such as '&quot; + color + &quot;'. Use HEX or an RGB/A string or object per documentation&quot; ) console.log(&quot;Returning the color '&quot; + color + &quot;' without any alpha&quot;) console.log('') return color } break } if (!color.a) color.a = 1 if (alpha &gt;= 0) color.a = alpha return color } /** @memberOf ColorUtils @method toRgbaString @param {string|object} color the color to convert, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. @param {number} alpha the optional alpha value for the return string: overrides the alpha value of an RGBA color. If undefined, will default to the alpha value of the color. @desc Returns the rgba() string representing a given color and optional alpha */ export function toRgbaString(color, alpha) { var color = toRgba(color, alpha) return 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')' } /** @memberOf ColorUtils @method saturation @param {object} obj an object with paramaters for overall saturation, see Properties for more info @property {string|object} from the source color to saturate, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. @property {string|object} color synonymous with the from parameter @property {number} amount the total saturation of the from. 0 = grayscale, 1 = full, original color @property {string} format either 'object' or 'string' - which determines whether to return an 'rgba()' string or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. @desc Change the color saturation of a given color; returns either an 'rgba()' string or an rgba{} object @example // convert to full grayscale ColorUtils.saturation({ from: '#99aa33', amount: 0, format: 'object' }); // returns {r: 86, g: 86, b: 86, a: 1} */ export function saturation(obj) { delete obj.to obj = _convert(obj) var returnColors = {} for (var val in obj.from) if (val === 'a') { returnColors[val] = parseInt(obj.from[val]) } else { if (val === 'r') { var _high = 0 var _low = 255 for (var sub in obj.from) { if (parseInt(obj.from[sub]) &gt; _high) _high = parseInt(obj.from[sub]) if (parseInt(obj.from[sub]) &lt; _low) _low = parseInt(obj.from[sub]) } } returnColors[val] = Math.round(parseInt(obj.from[val]) * obj.amount + (1 - obj.amount) * ((_high + _low) / 2)) } return obj.format === 'object' ? returnColors : toRgbaString(returnColors) } /** @memberOf ColorUtils @method contrast @param {object} obj an object with paramaters for overall saturation, see Properties for more info @property {string|object} from the source color to begin with, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}., @property {string|object} color synonymous with the from parameter @property {number} amount the contrast of the target. 0 = no contrast, 1 = original contrast, &gt;1 = more and more, to infinity and beyond! @property {string|object} format either 'object' or 'string' - which determines whether to return an 'rgba()' string or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. @desc Change the contrast of the target; returns either an 'rgba()' string or an rgba{} object @example // get your whites whiter and brights brighter ColorUtils.contrast({ from: '#aa0011' amount: 1.3, format: 'object' }); // returns {r: 221, g: 0, b: 22, a: 1} */ export function contrast(obj) { delete obj.to obj = _convert(obj) var returnColors = {} for (var val in obj.from) returnColors[val] = val === 'a' ? parseInt(obj.from[val]) : Math.round(parseInt(obj.from[val]) * obj.amount) return obj.format === 'object' ? returnColors : toRgbaString(returnColors) } /** @memberOf ColorUtils @method tint @param {object} obj an object with paramaters for overall saturation, see Properties for more info @property {string|object} from the source color to begin with, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. @property {string|object} color synonymous with the from parameter @property {string|object} to the target color to tint to, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. @property {number} amount the percentage of color to apply to the target. Defaults to 1, which is 100% color tinting @property {string|object} format either 'object' or 'string' - which determines whether to return an 'rgba()' string, or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. @desc Tint a color uniformly to a given color; returns either an 'rgba()' string or an rgba{} object @example // tint to green ColorUtils.tint({ from: '#ffff00', to: '#00ff00', amount: 1, format: 'object' }); // returns {r: 0, g: 255, b: 0, a: 1 }; (end) (start code) // tint 50% to green ColorUtils.tint({ from: '#ffff00', to: '#00ff00', amount: 0.5 }); // returns 'rgba(128, 128, 0, 1)' */ export function tint(obj) { obj = _convert(obj) var returnColors = {} for (var val in obj.from) returnColors[val] = val === 'a' ? parseInt(obj.from[val]) : Math.round(parseInt(obj.from[val]) + (parseInt(obj.to[val]) - parseInt(obj.from[val])) * obj.amount) return obj.format === 'object' ? returnColors : toRgbaString(returnColors) } /** @memberOf ColorUtils @method transform @param {object} obj an object with paramaters for overall saturation, see Properties for more info @property {string|object} from the source color to begin with, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. @property {string|object} color synonymous with the from parameter @property {string|object} to the target color to transform to, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. @property {number} amount the percentage of color to apply to the target. Defaults to 1, which is 100% color transform @property {string} format either 'object' or 'string' - which determines whether to return an 'rgba()' string or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. @returns {string|object} either an 'rgba()' string or an rgba{} object @desc Color Transforms a color to another color by pulling colors out of original source; @example // remove all colors but greens ColorUtils.transform({ from: '#ffff00', to: '#00ff00', amount: 1, format: 'object' }); // returns {r: 0, g: 255, b: 0, a: 1 }; // remove all colors but greens ColorUtils.transform({ from: '#ffff00', to: '#00ff00', amount: 1 }); // returns 'rgba(0, 255, 0, 1)' */ export function transform(obj) { obj = _convert(obj) var returnColors = {} for (var val in obj.from) returnColors[val] = val === 'a' ? parseInt(obj.from[val]) : Math.round(parseInt(obj.from[val]) - (255 - parseInt(obj.to[val])) * obj.amount) return obj.format === 'object' ? returnColors : toRgbaString(returnColors) } /** @memberOf ColorUtils @method invert @param {object} obj an object with parameters for overall inversion, see Properties for more info @property {string|object} from the color to invert, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. @property {string|object} color synonymous with the from parameter @property {string} format either 'object' or 'string' - which determines whether to return an 'rgba()' string or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. @desc Invert the color; returns either an 'rgba()' string or an rgba{} object @example // invert and return result as object ColorUtils.invert({ color: '#ff0000', format: 'object' }); // returns {r: 0, g: 255, b: 255, a: 1 }; // invert and return result as string ColorUtils.invert({ color: '#ff0000' }); // returns 'rgba(0, 255, 255, 1)' */ export function invert(obj) { delete obj.to delete obj.amount obj = _convert(obj) var returnColors = {} for (var val in obj.from) returnColors[val] = val === 'a' ? parseInt(obj.from[val]) : 255 - parseInt(obj.from[val]) return obj.format === 'object' ? returnColors : toRgbaString(returnColors) } // PRIVATE FUNCTIONS // ------------------------------------------------------------------ // function _convert(obj) { // if the provided color information is not already in the {r:, g:, b:, a:} object format, we must convert it to that obj.from = obj.from || obj.color if (obj.from &amp;&amp; typeof obj.from !== 'object') obj.from = toRgba(obj.from) if (obj.to &amp;&amp; typeof obj.to !== 'object') obj.to = toRgba(obj.to) // obj.amount = obj.amount === undefined ? 1 : obj.amount return obj } × Search results Close "},"ad-control_lib_Core.js.html":{"id":"ad-control_lib_Core.js.html","title":"Source: ad-control/lib/Core.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-control/lib/Core.js /** @npmpackage @class Core @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-control&quot;&gt;ad-control&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Core } from 'ad-control' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Boilerplate logic that is attempted for all ad templates happens here. The build of an ad should not need to affect this scope. */ import { Device } from 'ad-external' import CssManager from './CssManager' import * as ImageManager from './ImageManager' /** @memberOf Core @method init @param {Loader} fbaLoader Optionally passed in Loader when compiled @desc This is the first step in the build file. The init() returns a Promise, which allows for chaining of .then() methods. For synchronous actions, such as declaring AdData or FtData, simply wrap it in an anonymous function. For asynchronous actions, such a inititalizing something with a created callback, this will need to be wrapped in a returned callback. This will ensure that the chain will wait for the previous .then() to be fulfilled before moving on. @example Core.init(fbaContent) .then(function() { global.adData = new AdData(); }) .then(function() { return new Promise((resolve, reject) =&gt; { // pass the resolve as the completed callback SomeCustomClass.init(resolve) }) }) .then(Core.loadDynamic) .then(Control.prepareBuild) */ export function init(fbaContent) { console.log('Core.init()') return new Promise((resolve, reject) =&gt; { let promises = [] // device Device.init() // css CssManager.init() // fba payload ImageManager.addFbaImages(fbaContent) // async Promise.all(promises) .then(() =&gt; { resolve() }) .catch(err =&gt; { reject(err) }) }) } /** @memberOf Core @method loadDynamic @desc This is the last step before preparing the build. The loadDynamic() loads all of the images that have been added to the ImageLoader. After this method is called from the .then() promise chain, Control.prepareBuild can be called as the entire prepare process is now complete when its Promise is fulfilled. @example Core.init(fbaContent) .then(function() { global.adData = new AdData(); }) .then(Core.loadDynamic) .then(Control.prepareBuild) */ export function loadDynamic() { console.log('Core.loadDynamic()') return new Promise((resolve, reject) =&gt; { console.log('\\t Core load Image Queue') ImageManager.load(resolve, global.failAd) }) } × Search results Close "},"ad-view_lib_Countdown.js.html":{"id":"ad-view_lib_Countdown.js.html","title":"Source: ad-view/lib/Countdown.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-view/lib/Countdown.js /** @npmpackage @class Countdown @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-view&quot;&gt;ad-view&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Countdown } from 'ad-view' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;span style=&quot;color:#ff0000&quot;&gt;&lt;b&gt;WARN:&lt;/b&gt;&lt;br&gt; This class has been deprecated. See the DateSchedule.getCountdown() &lt;/span&gt; &lt;br&gt;&lt;br&gt; A utility that maintains the remaining days, hours, minutes, and seconds to the target date. @example var countdown = new Countdown(); countdown.init( '2015-08-28 12:00:00', DateUtils.TZ_LOCAL ); var intervalId = setInterval( updateClock, 1000 ); function updateClock() { if( countdown.isComplete()) clearInterval( intervalId ); console.log( 'countdown clock: ' + TextUtils.pad( countdown.getDays(), 2 ) + ':' + TextUtils.pad( countdown.getHours(), 2 ) + ':' + TextUtils.pad( countdown.getMinutes(), 2 ) + ':' + TextUtils.pad( countdown.getSeconds(), 2 ) ); } */ import { DateUtils } from 'ad-legacy' var Countdown = function() { /** @memberof Countdown @method init @param {Date} _targetDate a date in the future @param {object} _tzDesignation {@link DateUtils} constant representing a timezone @desc Starts a timer that will dispatch an update event every second counting down to the specified date */ this.init = function(_targetDate, _tzDesignation) { console.log('Countdown.init(), to: ' + _targetDate + ', tzDesignation: ' + _tzDesignation) this.targetDate = typeof _targetDate == 'Date' ? _targetDate : DateUtils.parseToDate(_targetDate) this.tzDesignation = _tzDesignation || DateUtils.TZ_LOCAL this.complete = false } /** @memberof Countdown @method isComplete @returns {boolean} */ this.isComplete = function() { return this.complete } /** @memberof Countdown @method getDays @returns {number} The number of days left until the target-date. */ this.getDays = function() { var remaining = this.update() return remaining ? Math.floor(remaining.days) : 0 } /** @memberof Countdown @method getHours @returns {number} The number of hours left until the target-date. */ this.getHours = function() { var remaining = this.update() return remaining ? Math.floor(remaining.hours) : 0 } /** @memberof Countdown @method getMinutes @returns {number} The number of minutes left until the target-date. */ this.getMinutes = function() { var remaining = this.update() return remaining ? Math.floor(remaining.minutes) : 0 } /** @memberof Countdown @method getSeconds @returns {number} The number of seconds left until the target-date. */ this.getSeconds = function() { var remaining = this.update() return remaining ? Math.floor(remaining.seconds) : 0 } /* -- INTERNAL ------------------------------------------------ * * */ this.targetDate this.tzDesignation this.complete this.update = function() { var now = DateUtils.getNow(this.tzDesignation) var timeDifference = DateUtils.getTimeDifference(now, this.targetDate) if (!timeDifference) { console.log('Countdown - countdown is over!!') this.complete = true } else return timeDifference } } export default Countdown × Search results Close "},"ad-control_lib_CssManager.js.html":{"id":"ad-control_lib_CssManager.js.html","title":"Source: ad-control/lib/CssManager.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-control/lib/CssManager.js /** @npmpackage @class CssManager @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-control&quot;&gt;ad-control&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { CssManager } from 'ad-control' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a css-interface class, which is intended to proxy all css applications. The goal is to accept css in any format( see below ), standardize the keys, conform the values, and rapidly apply the style to the target, specific to the {@link Device} running the ad.&lt;br&gt;&lt;br&gt; Generally, you should not need to use this class directly. {@link Styles.setCss} will handle it for you.&lt;br&gt;&lt;br&gt; However, if your css is not being correctly managed, the first step in debugging is to use {@link CssManager.setDebugFilter}. Pass the id, as a string, of the misbehaving element to see the exact format of the css being applied to it. You can then locate the problem style, try applying it in the browser inspector. Using this approach you should be able to determine what the correction/exception needs to be.&lt;br&gt;&lt;br&gt; Additional debugging output can be switched on using {@link CssManager.setDebugLevel}. Pass a level( 0 is off, 1 is less, 2 is more ). There will be a lot of output, but it is organized and consistent. You should be able to see exactly what is happening to your declarations. &lt;br&gt;&lt;br&gt; &lt;b&gt;Types:&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt;&lt;td&gt;CssObject&lt;/td&gt; &lt;td&gt;the literal &quot;css&quot; object that is passed to {@link Markup} as containerData.css on the creation of the element&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;CssStyleString&lt;/td&gt; &lt;td&gt;a literal string of any number of css styles, passed to {@link Markup} as containerData.styles on the creation of the element&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;CssDeclaration&lt;/td&gt; &lt;td&gt;either an object like &quot;{ position: 'absolute' }&quot; or a string like &quot;background-color: #ff0000;&quot;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;CssKey&lt;/td&gt; &lt;td&gt;ex: in &quot;position: absolute;&quot; the css-key would be &quot;position&quot;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;CssValue&lt;/td&gt; &lt;td&gt;ex: in &quot;position: absolute;&quot; the css-value would be &quot;absolute&quot;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;CssList&lt;/td&gt; &lt;td&gt;a standardized list of objects with Device-specific keys and corresponding values&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; &lt;br&gt; &lt;b&gt;Formats:&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt;&lt;td&gt;Hyphen&lt;/td&gt; &lt;td&gt;ex: 'border-left', '-webkit-clip-path', '-moz-filter'&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;Camel&lt;/td&gt; &lt;td&gt;ex: 'borderLeft', 'webkitClipPath', 'moxFilter'&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;Alt&lt;/td&gt; &lt;td&gt;this is to handle arbitrary exceptions, like the &quot;bgImage&quot; key on container-data css objects&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; &lt;br&gt; &lt;b&gt;Key Prefixes:&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt;&lt;td&gt;Browser&lt;/td&gt; &lt;td&gt;ex: &quot;-webkit-clip-path&quot; or &quot;webkitClipPath&quot;&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;Standard&lt;/td&gt; &lt;td&gt;ex: &quot;clip-path&quot; or &quot;clipPath&quot;&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; */ import { Device } from 'ad-external' import { Matrix2D } from 'ad-geom' class CssManager { static debug_level1 = false static debug_level2 = false static filter = undefined static debug_element = undefined static debug_css_list = undefined /** @memberOf CssManager @method init @desc Called one time per life-cycle. Creates the browser key-dictionary. */ static init = function() { console.log('CssManager.init()') this.generateBrowserKeyDictionary() } /* -- DEBUGGING ------------------------------------------------- * * */ /** @memberOf CssManager @method setDebugLevel @param {number} level controls debug verbosity for all css processing, default is 0, max is 2 @desc Use this to control the degree of logging that happens in this class. Debugging is off by default, or pass 0 or null to disable. */ static setDebugLevel = function(level) { const C = this switch (parseInt(level)) { case 1: C.debug_level1 = true C.debug_level2 = false break case 2: C.debug_level1 = true C.debug_level2 = true break default: C.debug_level1 = false C.debug_level2 = false break } } /** @memberOf CssManager @method setDebugFilter @param {string} filter the filter string: An element.id, a css-key, or a css-value. For example, if you want to only see css being applied to particular element, pass its id to this function. Conversely, if you only want to see css with a particular key or value, pass that string. @desc Use this control to filter which &lt;CssMananger&gt;.apply() calls get output to the console. */ static setDebugFilter = function(filter) { const C = this console.log('CssManager.setDebugFilter(),', filter) C.filter = filter C.debug_level1 = true } static ifDebug = function(debugLevel) { const C = this if (!C.filter) return C[debugLevel] else if (C.passDebugFilter() &amp;&amp; C[debugLevel]) return true } static passDebugFilter = function() { const C = this if (C.debug_element) if (C.debug_element.id.indexOf(C.filter) &gt; -1) return true if (C.debug_css_list) for (var i in C.debug_css_list) { if (i.indexOf(C.filter) &gt; -1) return true else if (String(C.debug_css_list[i]).indexOf(C.filter) &gt; -1) return true } return false } /* -- KEY DICTIONARY ------------------------------------------------- * * This is called once and prepares a dictionary with standard, * browser-agnostic keys which map to device-specific keys. */ static generateBrowserKeyDictionary = function() { const C = this console.log('CssManager.generateBrowserKeyDictionary()') C.deviceKeyDict = {} var styles = document.createElement('div').style for (var key in styles) { // get prefix var prefix = C.getPrefix(key) // key without prefix var standardKey = C.standardizeKey(key) //console.log( 'Device.element.style:', key ); //console.log( ' - standard key:', standardKey ); // handle exceptions per browser switch (Device.browser) { case 'safari': // use &quot;webkit&quot; prefix, if that's what was returned if (prefix == 'webkit') { C.deviceKeyDict[standardKey] = C.prependPrefix('webkit', standardKey) } else { // standard // exclude keys that have a &quot;webkit&quot;-equivalent if (!(C.prependPrefix('webkit', standardKey) in styles)) { C.deviceKeyDict[standardKey] = standardKey } } break case 'firefox': var mozKey = C.prependPrefix('Moz', standardKey) var webkitKey = C.prependPrefix('Webkit', standardKey) // use the no-prefix version, if it exists if (standardKey in styles) { C.deviceKeyDict[standardKey] = standardKey } else if (prefix == 'moz') { // use &quot;Moz&quot; if a &quot;webkit&quot;-equivalent exists if (C.camelateKey('webkit-' + standardKey) in styles) { C.deviceKeyDict[standardKey] = mozKey } } else if (prefix == 'webkit') { // note: in FF, there seem to be equivalents for all &quot;webkit&quot; vs. &quot;Webkit&quot; properites, so we use &quot;Webkit&quot; to match &quot;Moz&quot; convention....yah, nevermind. // use &quot;webkit&quot; if no &quot;Moz&quot;-equivalent exists if (!(mozKey in styles)) { C.deviceKeyDict[standardKey] = webkitKey } } break case 'chrome': case 'ie': default: // use the no-prefix version, if it exists if (standardKey in styles) { C.deviceKeyDict[standardKey] = standardKey } else if (prefix) { // otherwise it's a &quot;prefix&quot;-only type of property C.deviceKeyDict[standardKey] = C.prependPrefix(prefix, standardKey) } break } } console.log(' KEY DICTIONARY:', C.deviceKeyDict) } /* -- APPLYING CSS ----------------------------------------------- * * */ static apply = function(element, cssList) { const C = this C.debug_element = element C.debug_css_list = cssList if (C.ifDebug('debug_level1')) console.log(' CssManager.apply()', element.id) // creates a collection of only the transforms var transformList = {} for (var key in cssList) { // has a non-destructive transform update, as generated by keyFormatExceptions() if (key.match(/^transform\\(/)) transformList[key] = cssList[key] else { // standard css-key if (C.ifDebug('debug_level1')) console.log(' ' + key + ': ' + cssList[key] + ';') element.style[C.getDeviceKey(key)] = cssList[key] } } // will apply all transforms at once for correct calculation C.applyTransforms(element, transformList) if (C.ifDebug('debug_level1')) console.log('\\n\\n') C.debug_element = null C.debug_css_list = null } /* -- CONFORMING CSS SYNTAX ----------------------------------------------- * * These are protected methods, meant to be called by Styles...although * they could certainly be utilized by other core modules. */ static conformCssObject = function(cssObject, debugElement) { const C = this C.debug_element = debugElement if (C.ifDebug('debug_level1')) console.log('CssManager.conformCssObject()', cssObject) var cssList = {} if (cssObject) { for (var key in cssObject) { if (C.ifDebug('debug_level2')) console.log(' PARSE( key: ' + key + ', value: ' + cssObject[key] + ' )') var declarations = C.conformKeyValue(key, cssObject[key]) for (var i in declarations) { if (C.ifDebug('debug_level2')) console.log(' CONFORMED DECLARATION:', declarations[i]) cssList[declarations[i][0]] = declarations[i][1] } } } C.debug_element = null return cssList } static conformCssString = function(cssString, debugElement) { const C = this C.debug_element = debugElement if (C.ifDebug('debug_level1')) console.log(' CssManager.conformCssString()') var cssList = {} if (cssString) { var declarations = cssString.split(/\\s*;\\s*/) for (var key in declarations) { if (declarations[key]) { var declarationParts = declarations[key].split(/:(.+)?/) if (C.ifDebug('debug_level2')) console.log(' PARSE( key: ' + declarationParts[0] + ', value: ' + declarationParts[1] + ' )') var conformedDeclarations = C.conformKeyValue(declarationParts[0], declarationParts[1]) for (var i in conformedDeclarations) { if (C.ifDebug('debug_level2')) console.log(' CONFORMED DECLARATION:', conformedDeclarations[i]) cssList[conformedDeclarations[i][0]] = conformedDeclarations[i][1] } } } } C.debug_element = null return cssList } static conformCssKeyValue = function(key, value) { const C = this if (C.ifDebug('debug_level1')) console.log(' CssManager.conformCssKeyValue()') var cssObject = {} cssObject[key] = value return C.conformCssObject(cssObject) } /* -- CSS TRANSFORMATIONS ----------------------------------------------- * * * */ static applyTransforms = function(element, value) { const C = this if (C.ifDebug('debug_level1')) console.log(' - CssManager.applyTransforms(), ', value) var matrix2D = new Matrix2D() // existing transform var existingTransform = element.style[C.getDeviceKey('transform')] var matrixMatch = existingTransform.match(/matrix[^\\)]+\\)/) if (matrixMatch) { matrix2D.setFromCss(matrixMatch[0]) if (C.ifDebug('debug_level2')) console.log(' existing matrix:', matrix2D.data) } if ('transforms' in element) var transforms = element.transforms else { var transforms = { tx: 0, ty: 0, rz: 0, sx: 1, sy: 1 } } var changed = {} for (var key in value) { var transformMethod = key.match(/\\(\\s([^\\s]+)/)[1] changed[transformMethod] = value[key] } // Order matters: rotate, scale, translate // first translate the x and y back to zero if (changed.tx != undefined) { matrix2D.data[2] = 0 } if (changed.ty != undefined) { matrix2D.data[5] = 0 } if (changed.rz != undefined) { var reverse = -transforms.rz matrix2D.rotate(reverse * (Math.PI / 180)) matrix2D.rotate(changed.rz * (Math.PI / 180)) transforms.rz = changed.rz } if (changed.sx != undefined) { var reverse = 1 / transforms.sx matrix2D.scale(reverse, 1) matrix2D.scale(changed.sx, 1) transforms.sx = changed.sx } if (changed.sy != undefined) { var reverse = 1 / transforms.sy matrix2D.scale(1, reverse) matrix2D.scale(1, changed.sy) transforms.sy = changed.sy } if (changed.tx != undefined) { matrix2D.translate(changed.tx, 0) transforms.tx = changed.tx } if (changed.ty != undefined) { matrix2D.translate(0, changed.ty) transforms.ty = changed.ty } // store transforms element.transforms = transforms if (C.ifDebug('debug_level2')) console.log(' updated matrix:', matrix2D.data) // apply css matrix element.style[C.getDeviceKey('transform')] = matrix2D.getCss() } /* -- KEY MAPPING ----------------------------------------------- * * */ static conformKeyValue = function(key, value) { const C = this key = String(key).trim() value = String(value).trim() var keyAsStandard = C.standardizeKey(key) return C.conformValue(keyAsStandard, value) } static hasPrefix = function(key) { const C = this return key.search(C.matchPrefixRegex()) &gt; -1 } static getPrefix = function(key) { const C = this var match = key.match(C.matchPrefixRegex()) return match ? match[1].replace(/-/g, '').toLowerCase() : null } static stripPrefix = function(key) { const C = this var keyless = key.replace(C.matchPrefixRegex(), '') return keyless.charAt(0).toLowerCase() + keyless.slice(1) } static getDeviceKey = function(key) { const C = this return key in C.deviceKeyDict ? C.deviceKeyDict[key] : key } static prependPrefix = function(prefix, key) { return ( prefix + key.replace(/^(.)/, function(str) { return str.charAt(0).toUpperCase() }) ) } // converts any syntax of css-key to a consistent camelCase format static standardizeKey = function(key) { const C = this key = C.stripPrefix(key) // check if key is an exception if (key in C.keyFormatExceptions()) key = C.keyFormatExceptions()[key] else // or procedurally convert to camel key = C.camelateKey(key) if (C.ifDebug('debug_level2')) console.log(' - result: &quot;' + key + '&quot;') return key } static camelateKey = function(key) { key = key.replace(/-(.)/g, function(str) { return str.charAt(1).toUpperCase() }) return key } /* This dictionary handles INTERNAL differences between how css-keys are written in the build on the css-objects and how they must be written as valid CSS. Primarily, these exceptions are the arguments of the transform function, translate(), rotate(), and scale(), which need to be further handled during value conformation. The exceptions could also include any semantic differences that might ease production confusion. ** Do not confuse this with browser-key differences!! ex: transform vs. -ms-transform. Browser-keys are handled by &lt;CssManager&gt;.generateBrowserKeyDictionary() */ static keyFormatExceptions = function() { return { x: 'transform( tx )', translateX: 'transform( tx )', y: 'transform( ty )', translateY: 'transform( ty )', rotate: 'transform( rz )', rotation: 'transform( rz )', scaleX: 'transform( sx )', scaleY: 'transform( sy )', scale: 'transform( sx ),transform( sy )' } } /* -- VALUE PARSING ----------------------------------------------- * * */ /* takes a single css param, arg or func, and conforms it to _adlib standard */ static conformValue = function(key, value) { const C = this var conformedValues = [] var conformedValue // look for numeric values var hasMultipleValues = value.match(/\\s/) var numericValue = value.match(C.matchNumberRegex()) if (!hasMultipleValues &amp;&amp; numericValue) { if (C.ifDebug('debug_level2')) console.log(' conform value as number') conformedValue = Number(numericValue[0]) /* get existing unit */ var unitMatch = value.match(/[^0-9\\.]+$/) if (unitMatch) conformedValue += unitMatch[0] else /* assume default unit */ switch (key) { case 'top': case 'right': case 'bottom': case 'left': case 'width': case 'height': case 'fontSize': case 'lineHeight': case 'padding': case 'margin': case 'marginRight': case 'marginLeft': case 'marginTop': case 'marginBottom': case 'borderRadius': case 'borderWidth': case 'letterSpacing': conformedValue += 'px' break } } else if (key == 'backgroundImage') { // background images - allows for either a stand-alone URL, or proper css like 'url( &quot;http://example.com/image.jpg&quot; );' if (C.ifDebug('debug_level2')) console.log(' conform value as background image') value = value.replace(/^url\\(\\s*['&quot;]*/, '').replace(/['&quot;]*\\s*\\)$/, '') conformedValue = 'url( &quot;' + value + '&quot; )' } else if (key == 'transform') { // transform-functions - should be split apart so a single matrix function can be written // faster to just specify the transform exactly via css-object keys: x, y, rotate, scaleX, scaleY // &amp;&amp; Device.browser == 'ie') { if (C.ifDebug('debug_level2')) console.log(' convert &quot;transform&quot; functions to individual transforms') var functionRegex = /([a-z0-9]+)\\(([^\\)]+)\\)/gi while ((params = functionRegex.exec(value))) { var args = params[2] .replace(/\\s/g, '') .split(',') .map(function(value, index, array) { return Number(value.match(C.matchNumberRegex())[0]) }) switch (params[1]) { case 'translate': conformedValues.push(['transform( tx )', args[0]]) conformedValues.push(['transform( ty )', args[1]]) break case 'translateX': conformedValues.push(['transform( tx )', args[0]]) break case 'translateY': conformedValues.push(['transform( ty )', args[0]]) break case 'rotate': conformedValues.push(['transform( rz )', args[0]]) break case 'scale': conformedValues.push(['transform( sx )', args[0]]) conformedValues.push(['transform( sy )', args[1]]) break case 'scaleX': conformedValues.push(['transform( sx )', args[0]]) break case 'scaleY': conformedValues.push(['transform( sy )', args[0]]) break } } } else { // pass through if (C.ifDebug('debug_level2')) console.log(' conform value as string') conformedValue = value } // create style pair if (conformedValue != undefined) { if (C.ifDebug('debug_level2')) console.log(' - result: &quot;' + conformedValue + '&quot;') // split the key will alyways have 1 value, except for scale which has to split to scaleX and scaleY var splitKeys = key.split(/\\,/) for (var i = 0; i &lt; splitKeys.length; i++) { conformedValues.push([splitKeys[i], conformedValue]) } } return conformedValues } static matchNumberRegex = function() { return /^[+-]?[0-9]*\\.?[0-9]+/ } static matchPrefixRegex = function() { return /^-*(moz-*|webkit-*|ms-*|o-)/i } } export default CssManager × Search results Close "},"ad-dates_lib_DateFormatter.js.html":{"id":"ad-dates_lib_DateFormatter.js.html","title":"Source: ad-dates/lib/DateFormatter.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-dates/lib/DateFormatter.js /** @npmpackage @class DateFormatter @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-dates&quot;&gt;ad-dates&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { DateFormatter } from 'ad-dates' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This class provides a collection of year, month, date labels along with a utility for mananipulating a TzDate/Date object. */ import { TextUtils } from 'ad-utils' import TzDate from './TzDate.js' import english from './languages/labelEnglish.js' let _language = 'english' let _languageLabels = {} /** @memberOf DateFormatter @method setLanguage @property {String} value The label associated with an added language object, such as 'english' or 'spanish' @desc Changes teh language used for date formatting &lt;codeblock&gt; DateFormatter.setLanguage(spanish) &lt;/codeblock&gt; */ export function setLanguage(value) { _language = value || _language } /** @memberOf DateFormatter @method addLanguage @property {Object} value A language object, such as labelSpanish.js @desc Adds a langauge option. &lt;codeblock&gt; import { spanish } from 'ad-dates' DateFormatter.addLanguage(spanish) &lt;/codeblock&gt; */ export function addLanguage(value) { for (let key in value) { _languageLabels[key] = value[key] } } addLanguage(english) /** @memberOf DateFormatter @method getLabels @property {String} language The language that will be used. Currently only &quot;english&quot;. Otheres such as &quot;spanish&quot; must be imported and use addLanguage(). Defaults to the value set on the class level Dateformatter.langauge @returns {TzDate|Date} @desc Returns an objects that defines labels that date-messaging will use in the ad, used directly by DateSchedule and RecurringSchedule */ export function getLabels(language) { return _languageLabels[language || _language] } /** @memberOf DateFormatter @method getNumericSuffixFor @property {Number} value The date that will be the starting point for adjustment @property {Boolean} includeDate An Object of time keys to adjust the date with. Positive numbers will increase the time, while negative numbers will decrement it. The accepted keys are: week, day, hour, minute, second @returns {TzDate|Date} @desc Returns the same type of Object provided: TzDate returns TzDate, Date returns Date &lt;codeblock&gt; // adjust the time of a TzDate var myTzDate = new TzDate({ datetime: [ '2017-12-31 12:00:00', 'utc' ] }) var adjustedTzDate = DateFormatter.adjust( myTzDate, { day:-1.5, hour:4.2, minute:90 }); // Sat Dec 30 2017 05:42:00 UTC // adjust the time of a regualar Date object var myDate = new Date(2017,0,1) var adjustedDate = DateFormatter.adjust( myDate, { day:-1.5, hour:4.2, minute:90 }); // Fri Dec 30 2016 17:42:00 GMT-0800 (PST) &lt;/codeblock&gt; */ export function getNumericSuffixFor(value, includeDate) { var value = value.toString() var lastNumber = value.slice(value.length - 1) var labels = getLabels() var output = labels.TH switch (lastNumber) { case '1': if (value != '11') output = labels.ST break case '2': if (value != '12') output = labels.ND break case '3': if (value != '13') output = labels.RD break } return (includeDate ? value : '') + output } /** @memberOf DateFormatter @method format @property {TzDate} tzDate The date to format @property {String} format Pass in a mark up output of the date, including html, inline styling and spacing. In place of key data, use tokens from chart wrapped in ${} @property {Object} args Optional Object to change the outputTimezone, langouage of formatting @returns {String} @desc Formats a TzDate in any possible mutation by accepting tokens and strings&lt;br&gt; &lt;b&gt;List of possible tokens to use:&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt;&lt;td&gt;YYYY&lt;/td&gt; &lt;td&gt;Year as full Number&lt;/td&gt;&lt;td&gt;2018&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;YY&lt;/td&gt; &lt;td&gt;Year as abbreviated Number&lt;/td&gt; &lt;td&gt;18&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;MMMM&lt;/td&gt; &lt;td&gt;Month as full String&lt;/td&gt; &lt;td&gt;September&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;MMM&lt;/td&gt; &lt;td&gt;Month as abbreviated String&lt;/td&gt; &lt;td&gt;sept&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;MM&lt;/td&gt; &lt;td&gt;Month as full Number&lt;/td&gt; &lt;td&gt;08, 09, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;M&lt;/td&gt; &lt;td&gt;Month as shortest Number&lt;/td&gt; &lt;td&gt;8, 9, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;DDDD&lt;/td&gt; &lt;td&gt;Day of the week as full String&lt;/td&gt; &lt;td&gt;Monday&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;DDD&lt;/td&gt; &lt;td&gt;Day of the week as abbreviated String&lt;/td&gt; &lt;td&gt;mon&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;DD&lt;/td&gt; &lt;td&gt;Date as full Number&lt;/td&gt; &lt;td&gt;08, 09, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;D&lt;/td&gt; &lt;td&gt;Date as shortest Number&lt;/td&gt; &lt;td&gt;8, 9, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;o&lt;/td&gt; &lt;td&gt;Date Suffix String&lt;/td&gt; &lt;td&gt;st, nd, rd, th&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;Do&lt;/td&gt; &lt;td&gt;Date AND Suffix as Number/String&lt;/td&gt; &lt;td&gt;1st, 2nd, 3rd, 4th&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;TT&lt;/td&gt; &lt;td&gt;Time (Hour:Minute) in full military time as String&lt;/td&gt; &lt;td&gt;19:00, 20:15&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;T&lt;/td&gt; &lt;td&gt;Time (Hour:Minute) in shortest military time as String&lt;/td&gt; &lt;td&gt;19, 20:15&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;tt&lt;/td&gt; &lt;td&gt;Time (Hour:Minute) in full standard time as String&lt;/td&gt; &lt;td&gt;7:00, 8:15&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;t&lt;/td&gt; &lt;td&gt;Time (Hour:Minute) in shortest standard time as String&lt;/td&gt; &lt;td&gt;7, 8:15&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;HH&lt;/td&gt; &lt;td&gt;Hour in full military time as Number&lt;/td&gt; &lt;td&gt;0...23 &gt; 08, 09, 10, 20, 21&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;H&lt;/td&gt; &lt;td&gt;Hour in shortest military time as Number&lt;/td&gt; &lt;td&gt;0...23 &gt; 8, 9, 10, 20, 21&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;hh&lt;/td&gt; &lt;td&gt;Hour in full standard time as Number&lt;/td&gt; &lt;td&gt;1...12 &gt; 08, 09, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;h&lt;/td&gt; &lt;td&gt;Hour in shortest standard time as Number&lt;/td&gt; &lt;td&gt;1...12 &gt; 8, 9, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;mm&lt;/td&gt; &lt;td&gt;Minute in full standard time as Number&lt;/td&gt; &lt;td&gt;0...59 &gt; 08, 09, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;m&lt;/td&gt; &lt;td&gt;Minute in shortest standard time as Number&lt;/td&gt; &lt;td&gt;0...59 &gt; 8, 9, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;ss&lt;/td&gt; &lt;td&gt;Second in full standard time as Number&lt;/td&gt; &lt;td&gt;0...59 &gt; 08, 09, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;s&lt;/td&gt; &lt;td&gt;Second in shortest standard time as Number&lt;/td&gt; &lt;td&gt;0...59 &gt; 8, 9, 10, 11&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;a&lt;/td&gt; &lt;td&gt;Meridiem as String&lt;/td&gt; &lt;td&gt;am, pm&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;z&lt;/td&gt; &lt;td&gt;Timezone abbreviation as String&lt;/td&gt; &lt;td&gt;pt, mt, ct, et&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;^&lt;/td&gt; &lt;td&gt;Special Character - add to the end of any token will run toUpperCase() the return as String&lt;/td&gt; &lt;td&gt;${Do} = 1st, ${Do^} = 1ST&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; &lt;codeblock&gt; const targetDate = new TzDate({ datetime: ['2015-08-01 14:00:07', 'US/Eastern'] }) const asDateSlashed = targetDate.format('${M}/${D}/${YYYY}') // 8/1/2015 const asDayOfMonth = targetDate.format('Watch this ${DDDD} the ${Do} of ${MMMM}') // Watch this Saturday the 1st of August const asTuneIn = targetDate.format('${M}/${D} &lt;span style=&quot;color: red;&quot;&gt;${t}${a^}&lt;/span&gt;') // 8/1 &lt;span style=&quot;color: red;&quot;&gt;2PM&lt;/span&gt; &lt;/codeblock&gt; */ export function format(tzDate, format, args) { // args - language, weekday exceptions, month exceptions args = args || {} let tz = args.inTimezone || tzDate.outputTimezone let language = args.language let dateIn = tzDate.getIn(tz) // console.log(&quot;.format('&quot; + format + &quot;')&quot;) let labels = getLabels(language) let month = dateIn.getMonth() let hours = dateIn.getHours() let minutes = dateIn.getMinutes() // ${YYYY} let result = format.replace(/\\$\\{(.*?)\\}/g, (match, token) =&gt; { // console.log('match:', match, '| token:', token) let output = token let trim = 0 // only used for year let padding let needsLabel let upper = false let keep = true let suffix = true // searches for ^ char for toUpperCase() token.replace(/(.+)(\\^)/, (match3, token3) =&gt; { token = token3 upper = true // console.log('\\t\\t\\t', match3, token3) }) // check for a set of 2, except Y. flags padding then converts to single character MM &gt; M if (token.length == 2) { token.replace(/(?![Yo])([a-zA-Z]).*?\\1/, (match2, token2) =&gt; { token = token2.substr(0, 1) // console.log('\\t\\t', match2, token2, token) padding = 2 }) } switch (token) { case 'YY': trim = -2 case 'YYYY': output = ('' + dateIn.getFullYear()).slice(trim) break case 'M': output = month + 1 break case 'MMM': output = labels.MONTHS_ABRV[month] break case 'MMMM': output = labels.MONTHS_FULL[month] break case 'D': output = dateIn.getDate() break case 'o': suffix = false case 'Do': output = getNumericSuffixFor(dateIn.getDate(), suffix) break case 'DDD': output = labels.WEEKDAYS_ABRV[dateIn.getDay()] break case 'DDDD': output = labels.WEEKDAYS_FULL[dateIn.getDay()] break // padding decides if keep minutes case 't': // t - 7, 8:15 | tt - 7:00, 8:15 keep = false case 'T': // T - 19, 20:15 | TT - 19:00, 20:15 output = hours if (!keep) { output %= 12 if (output == 0) output = 12 } if (padding) output += ':' + TextUtils.pad(minutes, 2) break case 'H': output = hours break case 'h': output = hours % 12 if (output == 0) { output = 12 } break case 'm': output = minutes break case 's': output = dateIn.getSeconds() break case 'a': output = hours &gt;= 12 ? 'pm' : 'am' break case 'z': output = tz.abbr[0] // some kind of flag for which one to use? break } if (padding) { output = TextUtils.pad(output, padding) } if (upper &amp;&amp; typeof output == 'string') { output = output.toUpperCase() } // console.log('\\t', match, token, output) return output }) return result } × Search results Close "},"ad-dates_lib_DateManager.js.html":{"id":"ad-dates_lib_DateManager.js.html","title":"Source: ad-dates/lib/DateManager.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-dates/lib/DateManager.js /** @npmpackage @class DateManager @classdesc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-dates&quot;&gt;ad-dates&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { DateManager } from 'ad-dates' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This class initailizes the ads understanding of &quot;now&quot; for use with all other Date oriented classes. */ import { NetUtils, TextUtils } from 'ad-utils' import TzDate from './TzDate.js' import * as Timezone from './Timezone.js' import * as DateFormatter from './DateFormatter.js' let _currentDate // --------------------------------------------------------------------------------------------------------------- // PUBLIC METHODS /** @memberOf DateManager @method init @desc This function is meant to be called at the very beginning of the ad's lifespan. Automatically, it sets initial time which is used to keep an internal clock that can is used to reference the lifespan of the ad, show countdowns, changes in live states, etc. Additional settings on args include:&lt;br&gt; &lt;ul&gt; &lt;li&gt;dateOverride - optionally overrides the system date with a hard-coded one&lt;/li&gt; &lt;li&gt;language - optionally sets the default language to be used for date-messaging&lt;/li&gt; &lt;/ul&gt; */ export function init(args = {}) { console.log('DateManager.init()', args) // should this use global.getQueryParams() instead? let externalDate = NetUtils.getQueryParameterBy('date') let dateMode = 'SYSTEM-DATE' if (externalDate) { _currentDate = externalDate dateMode = 'EXTERNAL-DATE' } else if (args.dateOverride &amp;&amp; (adParams.environmentId == 'staging' || adParams.environmentId == 'debug')) { _currentDate = args.dateOverride dateMode = 'INTERNAL-DATE' } let tz if (_currentDate) { // grab now, extract output timezone let now = new TzDate({ datetime: _currentDate }) console.log('\\t_currentDate set |', now.outputTimezone, '|', now, '|', now.toFullDateTime(), '|', now.outputTimezone) tz = now.outputTimezone console.log('DateManager tz:', tz) //look for a timezone label, only changes the LABEL not the actual timezone value let externalTzLabel = NetUtils.getQueryParameterBy('tz') if (externalTzLabel) { tz = externalTzLabel } } Timezone.setLocal(tz) // check for default timezone, used in Velvet preview since segment not loaded var externalDefaultTimezone = NetUtils.getQueryParameterBy('ltz') if (externalDefaultTimezone) { adParams.defaultTimezone = externalDefaultTimezone } console.log('-- CURRENT DATE ' + Array(104).join('-')) console.log('') console.log(' DATE-MODE: ' + dateMode) console.log('') console.log(' Time for this unit is now assumed to be: ') console.log(' ', getNow().toFullDateTime()) console.log('') if (externalDefaultTimezone) { console.log(' External default timezone is: ') console.log(' ', externalDefaultTimezone) console.log('') } console.log(Array(120).join('-')) if (args.language) { DateFormatter.setLanguage(args.language) } } /** @memberOf DateManager @method getNow @returns {TzDate} @desc Returns a TzDate representing the exact time it is called. You can override system time in the following ways: &lt;br&gt; &lt;codeblock&gt; // in the index var adParams = { dateSettings: { dateOverride : function() { return [ '2016-09-16 14:07:00', 'US/Eastern' ]; } } } // with a query string: // add this to your index file's url: ?date=2017-05-17T17:45:00+00:00 // NOTE: the browser address bar will automatically &quot;url encode&quot; some of the characters // so full url would look like: http:/ /10.0.86.13:4200/build/300x250/index.html?date=2017-05-17T17%3A45%3A00%2B00%3A00 &lt;/codeblock&gt; &lt;b&gt;NOTE::&lt;/b&gt; &lt;i&gt;Ads built before v2.8.0 (June 2017) use {@link DateUtils} whose query-string format is different.&lt;/i&gt; &lt;br&gt; */ export function getNow() { let date = _currentDate if (date == undefined) { date = new Date().toISOString().split('.')[0] + '+00:00' } // console.log('getNow()', date) return new TzDate({ datetime: date, outputTimezone: Timezone.get('local') }) } × Search results Close "},"ad-dates_lib_DateSchedule.js.html":{"id":"ad-dates_lib_DateSchedule.js.html","title":"Source: ad-dates/lib/DateSchedule.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-dates/lib/DateSchedule.js /** @npmpackage @class DateSchedule @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-dates&quot;&gt;ad-dates&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { DateSchedule } from 'ad-dates' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This class creates a schedule of dates that will be compared agains the currentdate/time. There are 2 ways to use this class: standard and custom. &lt;br&gt;&lt;br&gt; &lt;b&gt;AdData.js:&lt;/b&gt;&lt;br&gt; It is recommended that you centralize your schedule in AdData. This way, changes to the schedule can easily be achieved with one common update.&lt;br&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Standard&lt;/b&gt;&lt;br&gt; This will create a schedule of dates leading up to the target date, which was formerly achieved by using the selectMessageForDate() method. This standard way will produce a schedule pre-populated with: &lt;table&gt; &lt;tr&gt;&lt;td&gt;DATE&lt;/td&gt;&lt;td&gt;returns the target date, using the toSimpleDateTime() for anything further than a week out from the target&lt;/tr&gt;&lt;/td&gt; &lt;tr&gt;&lt;td&gt;WEEK&lt;/td&gt;&lt;td&gt;returns the day of the week the target date is, ie Wednesday&lt;/tr&gt;&lt;/td&gt; &lt;tr&gt;&lt;td&gt;TOMORROW&lt;/td&gt;&lt;td&gt;returns the word &quot;Tomorrow&quot;, beginning at midnight the day before the target date&lt;/tr&gt;&lt;/td&gt; &lt;tr&gt;&lt;td&gt;TODAY&lt;/td&gt;&lt;td&gt;returns the string &quot;Today&quot;, beginning at midnight on the target date&lt;/tr&gt;&lt;/td&gt; &lt;tr&gt;&lt;td&gt;TONIGHT&lt;/td&gt;&lt;td&gt;returns the string &quot;Tonight&quot;, beginning at the time set with tonightStartsAt&lt;/tr&gt;&lt;/td&gt; &lt;tr&gt;&lt;td&gt;NOW&lt;/td&gt;&lt;td&gt;returns the string &quot;Live Now&quot;&lt;/tr&gt;&lt;/td&gt; &lt;tr&gt;&lt;td&gt;PAST&lt;/td&gt;&lt;td&gt;returns the string &quot;Past&quot;, called after NOW plus the eventDuration value&lt;/tr&gt;&lt;/td&gt; &lt;/table&gt; &lt;codeblock&gt; // Standard Schedule this.schedule = new DateSchedule({ target: new TzDate({ datetime: ['2015-08-01 20:00:00', 'US/Eastern'], outputTimezone: 'local' }), isStandard: true }) this.schedule.print() this.dateMessage = this.schedule.currentLabel this.dateHour = this.schedule.target.toDateTime() // &lt;/codeblock&gt; // Each standard label can be overridded by either assigning a different string or by passing in a callback function // that will return a differently formatted message. Note each callback gets fired at runtime, creating each label. // &lt;codeblock&gt; this.schedule = new DateSchedule({ target: new TzDate({ datetime: ['2015-08-01 20:00:00', 'US/Eastern'], outputTimezone: 'local' }), eventDuration: 120, isStandard: true, standardOverrides: { DATE: date =&gt; date.format('${M}/${D} ${t} ${a^}'), // 8/01 8 PM TOMORROW: (date, label) =&gt; label + date.format(' ${t} ${a^}'), // Tomorrow 8 PM NOW: 'Watch Live Now' } }) this.schedule.print() this.dateMessage = this.schedule.currentLabel &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Custom&lt;/b&gt;&lt;br&gt; This is used to set a specific list of dates to check now against, returning the latest. &lt;codeblock&gt; this.schedule = new DateSchedule() this.schedule.addDate( new TzDate({ datetime: ['2015-08-01 12:00:00', 'US/Eastern'], outputTimezone: 'local' }), &quot;Hey I'm the first date&quot; ) this.schedule.addDate( new TzDate({ datetime: ['2015-08-05 14:00:00', 'utc'], outputTimezone: 'US/Pacific' }), &quot;I'm the last date&quot; ) this.schedule.print() &lt;/codeblock&gt; The schedule can also be used to call different markup builds. Use the third param of addDates() to pass in a callback, then simply call it from Control.preMarkup() or where ever makes sense. &lt;codeblock&gt; this.schedule = new DateSchedule() this.schedule.addDate( new TzDate({ datetime: ['2015-08-01 12:00:00', 'US/Eastern'], outputTimezone: 'local' }), &quot;Hey I'm the first date&quot;, View.buildFromDate0 ) this.schedule.addDate( new TzDate({ datetime: ['2015-08-05 14:00:00', 'utc'], outputTimezone: 'US/Pacific' }), &quot;I'm the last date&quot;, View.buildFromDate1 ) this.schedule.print() &lt;/codeblock&gt; &lt;b&gt;build.js:&lt;/b&gt;&lt;br&gt; In &lt;u&gt;build.View&lt;/u&gt;, you can write functions that build out the DOM for each of your states. &lt;codeblock&gt; this.buildFromDate0 = function() { console.log('View.buildFromDate0()') // Markup... } this.buildFromDate1 = function() { console.log('View.buildFromDate1()') // Markup... } &lt;/codeblock&gt; In &lt;u&gt;build.Control&lt;/u&gt; or &lt;u&gt;build.buildMarkup&lt;/u&gt;, you simply call the callback of the current date on the schedule. This will find the current added date object and fire that callback &lt;codeblock&gt; const message = adData.schedule.current.callback() console.log(message) const myTextField = new UITextField({ target: T, id: 'my-textfield', css: { width: 300, height: 90 }, fontSize: 30, fontFamily: 'template_font', format: TextFormat.INLINE, alignText: Align.CENTER, text: message.label }) &lt;/codeblock&gt; @param {object} arg Settings are passed in via this object, see Properties for more info: @property {TzDate} target The date that the schedule will count down to @property {boolean} isStandard If true, will create a standard schedule with default messaging @property {number} eventDuration In a standard schedule, the amount of minutes after the target time the PAST messaging shows. Defaults to 120 which is 2 hours @property {string} tonightStartsAt In a standard schedule, when the today message changes to tonight. If the target time is before this value, tonight will never show. Defaults to '17:50' which is 5:30PM @property {boolean} hasOneDayOf In a standard schedule, will determine if only 'tonight' OR 'today' will show, or if it is possible to have both. For example, in ESPN units, the need is that only one of the options will show at midnight day of the event. So if the event is before the tonightStartsAt value, it will only show 'today', while if it is after it will only show 'tonight'. If this is set to false, it will allow for both following the logic of tonightStartsAt. Defaults to true. @property {object} standardOverrides An object to overwrite any of the standard labels. Using the standard keys, apply a new label string or callback function passing in the target date */ import * as DateManager from './DateManager.js' import * as DateFormatter from './DateFormatter.js' import * as DateUtils from './DateUtils.js' import TzDate from './TzDate.js' import * as Timezone from './Timezone.js' import { MathUtils, TextUtils } from 'ad-utils' export default function(arg) { arg = arg || {} const D = this let _dates = [] let _labelOverrides = {} let _targetDate let _skipToday = false // used by a recurring schedule to pass the callback to the standard schedule it creates let _callback = arg.callback || function() {} let _tonightStartsAt = arg.tonightStartsAt || '17:30' let _hasOneDayOf = arg.hasOneDayOf != false let _eventDuration = arg.eventDuration || 120 // --------------------------------------------------------------------------------------------------------------- // GETTERS Object.defineProperties(D, { /** @memberOf DateSchedule @var {TzDate} target Getter : The target date of a standard schedule @example mySchedule.target.print() */ target: { get: () =&gt; { return _targetDate } }, /** @memberOf DateSchedule @var {object} current Getter : An object of the current date, label and optional callback @example mySchedule.current.date mySchedule.current.label mySchedule.current.callback() */ current: { get: () =&gt; { return _dates[D.currentIndex] } }, /** @memberOf DateSchedule @var {TzDate} currentDate Getter : Is direct access to the current date, same as mySchedule.current.date @example mySchedule.currentDate */ currentDate: { get: () =&gt; { return D.current.date } }, /** @memberOf DateSchedule @var {String} currentLabel Getter : Is direct access to the current label, same as mySchedule.current.label @example mySchedule.currentLabel */ currentLabel: { get: () =&gt; { return D.current.label } }, /** @memberOf DateSchedule @var {Number} currentIndex Getter : The index, zero based, of the current date @example mySchedule.currentIndex */ currentIndex: { get: () =&gt; { let currentIndex = -1 for (let i = 0, l = _dates.length; i &lt; l; i++) { if (!DateUtils.isPast(_dates[i].date)) { break } currentIndex = i } return currentIndex } }, /** @memberOf DateSchedule @var {object} next Getter : An object of the next date, label and optional callback @example mySchedule.next.date mySchedule.next.label mySchedule.next.callback() */ next: { get: () =&gt; { return _dates[D.nextIndex] } }, /** @memberOf DateSchedule @var {TzDate} nextDate Getter : Is direct access to the next date, same as mySchedule.next.date @example mySchedule.nextDate */ nextDate: { get: () =&gt; { return D.next.date } }, /** @memberOf DateSchedule @var {String} nextLabel Getter : Is direct access to the next label, same as mySchedule.next.label @example mySchedule.nextLabel */ nextLabel: { get: () =&gt; { return D.next.label } }, /** @memberOf DateSchedule @var {Number} nextIndex Getter : The index, zero based, of the next date @example mySchedule.nextIndex */ nextIndex: { get: () =&gt; { return MathUtils.restrict(D.currentIndex + 1, 0, _dates.length - 1) } }, /** @memberOf DateSchedule @var {Boolean} isLive Getter : When using a standard schedule, whether or not the target date has been passed, but not passed the eventDuration @example mySchedule.isLive */ isLive: { get: () =&gt; { let latest = D.current return latest.standardKey == 'NOW' } }, /** @memberOf DateSchedule @var {Boolean} isComplete Getter : When using a standard schedule, whether or not the target date and eventDuration has been passed @example mySchedule.isComplete */ isComplete: { get: () =&gt; { let latest = D.current return latest.standardKey == 'PAST' } } }) // --------------------------------------------------------------------------------------------------------------- // PUBLIC METHODS /** @memberof DateSchedule @method addDate @param {TzDate|Date|Object} tzDate Expected to be either a Date object, a TzDate or an Object for creating a date from the target using DateFormatter.adjust() @param {String|function} label Optionally specify a label as a String or creeate a function to format the date using the TxDate methods @param {function} callback Optionally a function that can be called when this date is the current. Does NOT auto fire, must me called. @desc Add a date to the schedule, which can be either a TzDate or an object to create a date from the target @example // start with a target date const schedule = new DateSchedule({ target: new TzDate({ datetime: ['2017-08-01 08:00:00', 'US/Eastern'], outputTimezone: 'local' }) }) // add TzDate schedule.addDate( new TzDate({ datetime: '2017-04-01T14:00:00+00:00', outputTimezone: 'US/Eastern' }) ) // creates a date 1 day before and 4 hours ahead of the target date schedule.addDate({ day: -1, hour: 4 }) // uses a callback to get a custom date message schedule.addDate( new TzDate({ datetime: '2017-06-01T22:00:00+00:00', outputTimezone: 'local' }), function(date) { return date.toSimpleTime() + ' ' + date.toMeridiem() + '!!' } ) // add a message and a callback schedule.addDate( new TzDate({ datetime: '2017-05-01T17:00:00+00:00', outputTimezone: 'US/Pacific' }), 'Custom Message', function() { console.log('i am the callback') } ) schedule.print() // DateSchedule.print(), length: 7 // - 0 Sat Jan 01 2000 00:00:00 UTC label: 1/1 12:00 am // - 1 Sat Apr 01 2017 10:00:00 US/Eastern label: undefined // - 2 Mon May 01 2017 10:00:00 US/Pacific label: Custom Message // - 3 Thu Jun 01 2017 15:00:00 Local label: 3:00 pm!! // - 4 Mon Jul 31 2017 09:00:00 Local label: undefined // - 5 Tue Aug 01 2017 05:00:00 Local label: Live Now // - 6 Tue Aug 01 2017 07:00:00 Local label: Past */ D.addDate = function(tzDate, label, callback) { let standardKey = arguments[3] let dateUTC = tzDate let skipDate = false let makeClone = true if (!tzDate._isTzDate) { // is an Object of adjusting values // take targetDate and add or subtract from there to create the date let clonedDate = _targetDate switch (standardKey) { case 'PAST': makeClone = false break case 'TONIGHT': // construct a date with the tonightStartsAt value let reconstructedDate = _targetDate.toDateTimeISO().split('T')[0] + 'T' let timeSplit = _tonightStartsAt.split(':') for (let i = 0; i &lt; 3; i++) { reconstructedDate += TextUtils.pad(timeSplit[i] || 0, 2) + ':' } reconstructedDate = reconstructedDate.slice(0, -1) clonedDate = new TzDate({ datetime: [reconstructedDate, _targetDate.outputTimezone] }) // check if the time is before the tonight starts at, if so, skip this label skipDate = clonedDate.getTime() &gt; _targetDate.getTime() // skip today if you do NOT skip tonight _skipToday = !skipDate // override date with a zeroed out one if you skip today and want only one day of message makeClone = _hasOneDayOf &amp;&amp; _skipToday break case 'TODAY': // check if tonight exists &amp; if hasOneDayOf skipDate = _hasOneDayOf &amp;&amp; _skipToday break } if (makeClone) { // copies the target date to display in the local time clonedDate = _targetDate.clone(Timezone.get('local')) // zeros out the dates based on timezone difference clonedDate.setHours.apply(clonedDate, Timezone.getTzDiff()) } dateUTC = DateUtils.adjust(clonedDate, tzDate) //console.log( '\\t &gt;', dateUTC, clonedDate, tzDate ) } if (standardKey) { const override = _labelOverrides[standardKey] if (override != undefined) { label = override } else { if (typeof label === 'string') { label = DateFormatter.getLabels()[standardKey] } } } if (typeof label === 'function') { const dateToPass = standardKey &amp;&amp; _targetDate ? _targetDate : dateUTC const labelToPass = standardKey ? DateFormatter.getLabels()[standardKey] : null label = label.call(D, dateToPass, labelToPass) //label = label.call ( D, dateUTC ); } if (!skipDate) { _dates.push({ date: dateUTC, label: label, standardKey: standardKey, callback: callback || function() {} }) _dates.sort((a, b) =&gt; { const at = a.date.getTime() const bt = b.date.getTime() if (at &lt; bt) return -1 if (at &gt; bt) return 1 return 0 }) } return dateUTC } /** @memberOf DateSchedule @method print @desc Traces out all dates in order @example // standard schedule const schedule = new DateSchedule({ target: new TzDate({ datetime: ['2017-08-01 20:00:00', 'US/Eastern'], outputTimezone: 'local' }), isStandard: true }) schedule.print() // DateSchedule.print(), length: 7 // - 0 Sat Jan 01 2000 00:00:00 UTC label: 8/1 5:00 pm // - 1 Tue Jul 25 2017 17:00:00 Local label: Tuesday // - 2 Mon Jul 31 2017 00:00:00 Local label: Tomorrow // - 3 Tue Aug 01 2017 00:00:00 Local label: Today // - 4 Tue Aug 01 2017 10:30:00 Local label: Tonight // - 5 Tue Aug 01 2017 17:00:00 Local label: Live Now // - 6 Tue Aug 01 2017 19:00:00 Local label: Past */ D.print = function() { const l = _dates.length console.log('DateSchedule.print(), length:', l) for (let i = 0; i &lt; l; i++) { console.log(' -', i, _dates[i].date.toFullDateTime(), 'label:', _dates[i].label) } } /** @memberOf DateSchedule @method getDates @desc Returns an Array copy of the dates, leaving the original untouched. @returns {Array} @example schedule.getDates() */ D.getDates = function(includeData) { includeData = !!includeData let dates = [] for (let i = 0, l = _dates.length; i &lt; l; i++) { dates.push(includeData ? _dates[i] : _dates[i].date) } // console.log('DateSchedule.getDates(), includeData:', includeData, '|', dates) return dates } // --------------------------------------------------------------------------------------------------------------- // INIT const sl = arg.standardOverrides if (sl) { for (let key in sl) { _labelOverrides[key] = sl[key] } } if (arg.target) { _targetDate = D.addDate(arg.target, '', _callback, 'NOW') D.addDate({ minute: _eventDuration }, '', _callback, 'PAST') } // upcoming, starting point D.addDate( new TzDate({ datetime: '2000-01-01T00:00:00+00:00', outputTimezone: 'UTC' }), function(date) { return date.toSimpleDateTime() }, _callback, 'DATE' ) if (_targetDate &amp;&amp; arg.isStandard == true) { D.addDate({}, '', _callback, 'TONIGHT') D.addDate({}, '', _callback, 'TODAY') D.addDate({ hour: -24 }, '', _callback, 'TOMORROW') D.addDate( { hour: -24 * 6 }, function(date) { const dayNum = date.getIn(_targetDate.outputTimezone).getDay() return DateFormatter.getLabels().WEEKDAYS_FULL[dayNum] }, _callback, 'WEEK' ) } } × Search results Close "},"ad-dates_lib_DateUtils.js.html":{"id":"ad-dates_lib_DateUtils.js.html","title":"Source: ad-dates/lib/DateUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-dates/lib/DateUtils.js import * as DateManager from './DateManager.js' // export const MS_PER_SECOND = 1000 // export const MS_PER_MINUTE = 6e4 // 1000 * 60; // export const MS_PER_HOUR = 36e5 // D.MS_PER_MINUTE * 60; // export const MS_PER_DAY = 864e5 // D.MS_PER_HOUR * 24; // export const MS_PER_WEEK = 6048e5 // D.MS_PER_DAY * 7; const MS_PER = { SECOND: 1000, MINUTE: 6e4, // 1000 * 60; HOUR: 36e5, // D.MS_PER_MINUTE * 60; DAY: 864e5, // D.MS_PER_HOUR * 24; WEEK: 6048e5 // D.MS_PER_DAY * 7; } /** @memberOf DateUtils @method getTimeDifference @desc Returns an Object of the time remaining until the target date, with the day, hour, minute, second as numbers and output as a string '##:##:##:##' &lt;br&gt; Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-dates&quot;&gt;ad-dates&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { DateUtils } from 'ad-dates' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; @returns {Object} @example // to use as a countdown var targetDate = new TzDate({ datetime : ['2017-06-06 11:37:00', 'US/Pacific'] }) // use FrameRate to set a ticker of once a second. FrameRate.register ( this, handleCountdown, 1 ); function handleCountdown(){ const countdownStr = DateUtils.getTimeDifference(DateManager.getNow(), targetDate) if (DateUtils.isPast(targetDate)) { FrameRate.unregister(this, handleCountdown, 1); } } */ export function getTimeDifference(startTime, endTime) { var diff = endTime.getTime() / 1000 - startTime.getTime() / 1000 if (diff &lt; 0) { diff = 0 } // use the const obj instead var obj = { day: diff / (24 * 60 * 60), hour: (diff / (60 * 60)) % 24, minute: (diff / 60) % 60, second: diff % 60, output: '' } var label = ['day', 'hour', 'minute', 'second'] for (var i = 0; i &lt; 4; i++) { obj.output += TextUtils.pad(Math.floor(obj[label[i]]), 2) if (i &lt; 3) obj.output += ':' } return obj } /** @memberOf DateUtils @method adjust @property {TzDate|Date} date The date that will be the starting point for adjustment @property {Object} times An Object of time keys to adjust the date with. Positive numbers will increase the time, while negative numbers will decrement it. The accepted keys are: week, day, hour, minute, second @returns {TzDate|Date} @desc Returns the same type of Object provided: TzDate returns TzDate, Date returns Date &lt;codeblock&gt; // adjust the time of a TzDate var myTzDate = new TzDate({ datetime: ['2017-12-31 12:00:00', 'utc'] }) var adjustedTzDate = DateUtils.adjust(myTzDate, { day:-1.5, hour:4.2, minute:90 }); // Sat Dec 30 2017 05:42:00 UTC // adjust the time of a regualar Date object var myDate = new Date(2017,0,1) var adjustedDate = DateUtils.adjust(myDate, { day:-1.5, hour:4.2, minute:90 }); // Fri Dec 30 2016 17:42:00 GMT-0800 (PST) &lt;/codeblock&gt; */ export function adjust(date, times) { let dateAdj if (date._isTzDate) { dateAdj = date.clone() } else { dateAdj = new Date(date) } for (var key in times) { //var cons = 'MS_PER_' + key.toUpperCase() let val = MS_PER[key.toUpperCase()] let add = times[key] * val // console.log( 'key:', key, times[key] ) // console.log( '\\tcons:', cons ) // console.log( '\\tval:', val ) // console.log( '\\tadd:', add ) dateAdj.setTime(dateAdj.getTime() + add) } // console.log( 'date:', date ) // console.log( 'dateAdj:', dateAdj ) return dateAdj } /** @memberOf DateUtils @method isPast @param {Date} date date to be compared @param {Date} context date to compare against, generally {@link DateUtils} @returns {boolean} @desc Returns true for a date that has passed the context. */ export function isPast(date, context) { if (context == undefined) { context = DateManager.getNow() } // console.log( 'isPast()\\n\\t', date, '|', date.toFullDateTime(), '\\n\\t', context, '|', context.toFullDateTime() ) // make it &gt; and = to account for schedules a time such as 8:00pm vs 8:00pm should comes as true, not needing to set it as 8:00:01pm return context.getTime() &gt;= date.getTime() } × Search results Close "},"ad-utils_lib_DcsUtils.js.html":{"id":"ad-utils_lib_DcsUtils.js.html","title":"Source: ad-utils/lib/DcsUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/DcsUtils.js import { VideoPlayer, MediaEvent } from 'ad-video' /** @npmpackage @class DcsUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { DscUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Doubleclick Studio utilities. */ export function counterWithVars(str, impression) { if (impression) Enabler.reportCustomVariableCount1(str) else Enabler.reportCustomVariableCount2(str) } /** @memberOf DcsUtils @method addVideoMetrics @param {VideoPlayer} player The video player instance to track @param {string} message The message passed as the metric, defaults to 'Video Report 1' @desc Adds DoubleClick Tracking metrics to a video player. @example DcsUtils.addVideoMetrics( View.main.videoPlayer, 'Intro Video' ); */ export function addVideoMetrics(player, message) { Enabler.loadModule(studio.module.ModuleId.VIDEO, function() { studio.video.Reporter.attach(message || 'Video Report 1', player instanceof VideoPlayer ? player.screen : player) }) } /** @memberOf DcsUtils @method addYouTubeVideoMetrics @param {VideoPlayer} player - The YouTubePlayer instance to track @desc Adds DoubleClick Tracking metrics to a YouTube video player. The Enabler counter calls are added to the index when a YouTubePlayer is added through Ad App. &lt;br&gt;&lt;br&gt; If manually adding a YouTubePlayer/tracking, the required global vars are:&lt;br&gt; &lt;codeblock&gt; var trackVideoPlay = function() { Enabler.counter( 'YTP Video Play', true ) } var trackVideoReplay = function() { Enabler.counter( 'YTP Video Replay', true ) } var trackVideoPause = function() { Enabler.counter( 'YTP Video Pause', true ) } var trackVideoComplete = function() { Enabler.counter( 'YTP Video Complete', true ) } &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; @example DcsUtils.addYouTubeVideoMetrics( View.main.mainYouTubePlayer ); */ export function addYouTubeVideoMetrics(player) { var p = player.screen p.addEventListener(MediaEvent.PLAY, function() { player.isReplay ? trackVideoReplay.call() : trackVideoPlay.call() }) p.addEventListener(MediaEvent.PAUSE, function() { if (!player.complete) { trackVideoPause.call() } }) p.addEventListener(MediaEvent.COMPLETE, function() { trackVideoComplete.call() }) } × Search results Close "},"ad-external_lib_Device.js.html":{"id":"ad-external_lib_Device.js.html","title":"Source: ad-external/lib/Device.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-external/lib/Device.js /** @npmpackage @class Device @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-external&quot;&gt;ad-external&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Device } from 'ad-external' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Global constant that provide information about the Device on which the code is currently executing */ class Device { static pixelRatio = window.devicePixelRatio || 'unknown' /** @memberOf Device @var {string} agentString @desc Current user agent of browser. */ /** @memberOf Device @var {string} brand @desc Brand of device, possible values are: &lt;code&gt;microsoft&lt;/code&gt;, &lt;code&gt;apple&lt;/code&gt;, &lt;code&gt;android&lt;/code&gt;, &lt;code&gt;rim&lt;/code&gt;, &lt;code&gt;unknown&lt;/code&gt;. */ /** @memberOf Device @var {string} product @desc Brand subtype, possible values are: &lt;code&gt;windows phone&lt;/code&gt;, &lt;code&gt;windows&lt;/code&gt;, &lt;code&gt;iphone&lt;/code&gt;, &lt;code&gt;ipad&lt;/code&gt;, &lt;code&gt;ipod&lt;/code&gt;, &lt;code&gt;mac&lt;/code&gt;, &lt;code&gt;android&lt;/code&gt;, &lt;code&gt;pixel 2&lt;/code&gt;, &lt;code&gt;blackberry&lt;/code&gt;. */ /** @memberOf Device @var {string} type @desc Device type, possible values are: &lt;code&gt;mobile&lt;/code&gt;, &lt;code&gt;tablet&lt;/code&gt;, &lt;code&gt;desktop&lt;/code&gt;. &lt;br&gt;&lt;br&gt; Windows &gt; 8 currently returns tablet, currently no way to differentiate from desktop. */ /** @memberOf Device @var {string} os @desc Operating system of device. */ /** @memberOf Device @var {string} osVersion @desc Version of operating system of device. */ /** @memberOf Device @var {string} browser @desc Brand of browser. */ /** @memberOf Device @var {string} browserVersion @desc Version of browser. */ /** @memberOf Device @var {string} pixelRatio @desc Pixel ratio of device viewport. */ /** ------------------------------------------------------------------------------------------------------------- */ // GETTERS /** @memberOf Device @var {string} orientation @desc Orientaion of device viewport: landscape or portrait. */ static get orientation() { return window.innerWidth &gt; window.innerHeight ? 'landscape' : 'portrait' } /** @memberOf Device @var {object} dimensions @property {number} width window inner-width @property {number} height window inner-height @desc The current dimensions of the device's viewport, returns an object with a width and height value that are direct returns of windowWidth and windowHeight. */ static get dimensions() { return { width: window.innerWidth, height: window.innerHeight } } /** ------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf Device @method init @desc Initializes the module, which is called from within the pipeline. */ static init = function() { console.log('Device.init()') const D = this D.agentString = navigator.userAgent D._getType() D._getBrandAndOS() D._getBrowser() if (D.type !== 'desktop' &amp;&amp; D.os === 'windows' &amp;&amp; D.osVersion &lt;= 8 &amp;&amp; D.browser === 'ie' &amp;&amp; D.browserVersion &lt; 12) { console.log( &quot;You appear to be on Windows 7 or 8 using Internet Explorer 11 or under. You also appear to be on a touchscreen device. We will assume you're actually on a desktop, since it's extremely unlikely you're on a tablet or mobile device using this specific operating system and browser.&quot; ) D.type = 'desktop' } var line = Array(70).join('-') var str = '\\n' + line // str += '\\n AGENT:\\n\\n\\t' + D.agentString + '\\n' // str += '\\n Brand:\\t\\t\\t' + D.brand // str += '\\n Product:\\t\\t\\t' + D.product // str += '\\n Type:\\t\\t\\t\\t' + D.type // str += '\\n Os:\\t\\t\\t\\t' + D.os + ' - ' + D.osVersion // str += '\\n Browser:\\t\\t\\t' + D.browser + ' - ' + D.browserVersion // str += '\\n Dimensions: \\t\\t' + D.dimensions.width + 'x' + D.dimensions.height // str += '\\n Orientation:\\t\\t' + D.orientation // str += '\\n Pixel Ratio:\\t\\t' + D.pixelRatio for (var property in D) { if (D.hasOwnProperty(property) &amp;&amp; typeof D[property] !== 'function') { str += '\\n' + property + ': ' + D[property] } } str += '\\n' + line console.log(str) } /** ------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS static _getType = function() { const D = this var hasMobile = /(android|mobile)/gi.exec(D.agentString) var hasTablet = /(tablet|touch)/gi.exec(D.agentString) var hasIPad = /(ipad)/gi.exec(D.agentString) D.type = 'desktop' if (hasMobile) D.type = 'mobile' if (hasTablet) D.type = 'tablet' if (hasIPad) D.type = 'tablet' } static _getBrandAndOS = function() { var D = this var apple = D.agentString.match(/ip(hone|od|ad)|mac/gi) if (apple) { D.brand = 'apple' D.product = apple[0].toLowerCase() var appleOS = /(OS\\s)(\\X\\s|)([\\d\\.\\_]+)/gi.exec(D.agentString) D.os = appleOS[2] == '' ? 'ios' : 'osx' D.osVersion = appleOS[3].replace(/\\_/g, '.') return } var android = /(android)\\/?\\s*([0-9\\.]+)/gi.exec(D.agentString) if (android) { D.brand = D.product = D.os = android[1].toLowerCase() D._checkForSpecial('product', ['pixel 2'], D.agentString.split('(')[1].split(')')[0]) D.osVersion = android[2] return } var microsoft = /(windows\\snt\\s|windows\\sphone)\\/?\\s*([0-9\\.]+)/gi.exec(D.agentString) if (microsoft) { D.brand = 'microsoft' D.os = 'windows' switch (microsoft[2]) { case '5.2': D.osVersion = 'xp' break case '6.0': D.osVersion = 'vista' break case '6.1': D.osVersion = '7' break case '6.2': D.osVersion = '8' break case '6.3': D.osVersion = '8.1' break case '10.0': D.osVersion = '10' break default: D.osVersion = microsoft[2] } D.product = microsoft[1].toLowerCase() if (D.product.match(/\\snt/i)) { D.product = 'pc' } return } // blackberry var blackberry = D.agentString.match(/(blackberry|bb10|playbook)/i) if (blackberry) { D.brand = D.product = D.os = 'blackberry' D.osVersion = /(version)\\/?\\s*([0-9\\.]+)/gi.exec(D.agentString)[2] } } static _getBrowser = function() { const D = this var browserMatches = /(edge(?=\\/))\\/?\\s*([0-9\\.]+)/i.exec(D.agentString) // check for edge first // if it's not edge, check for other common browsers if (!browserMatches) { browserMatches = D.agentString.match(/(fban|fbav|opera|chrome|crios|safari|firefox|msie|trident(?=\\/))\\/?\\s*([0-9\\.]+)/i) } // if we checked for common browsers and got NOTHING in return, let's just use the device's default browser if (!browserMatches || browserMatches.length &lt; 3) { console.log('we received no browser data, so we are setting it to the default of the device') switch (D.os) { case 'ios': D.browser = 'safari' break case 'windows': D.browser = 'trident' break default: D.browser = 'chrome' break } D.browserVersion = 'os-default' return } console.log('we received browser data') D.browser = browserMatches[1].toLowerCase() D.browserVersion = browserMatches[2] switch (D.browser) { case 'trident': // Check for desktop IE 10 var versionMatch = /\\brv:+(\\d+)/g.exec(D.agentString) if (versionMatch) D.browserVersion = versionMatch[1] case 'msie': D.browser = 'ie' break case 'crios': D.browser = 'chrome' break case 'safari': var versionMatch = D.agentString.match(/\\sversion\\/([0-9\\.]+)\\s/i) if (versionMatch) D.browserVersion = versionMatch[1] break case 'chrome': // check for Opera var versionMatch = D.agentString.match(/\\b(OPR)\\/([0-9\\.]+)/i) if (versionMatch) { D.browser = 'opera' D.browserVersion = versionMatch[2] } break } } static _checkForSpecial = function(targetParam, array, focus) { const D = this var param for (var i = 0; i &lt; array.length; i++) { param = array[i].toLowerCase() if (focus.match(new RegExp(param, 'i'))) { D[targetParam] = param break } } } } export default Device × Search results Close "},"ad-view_lib_Effects.js.html":{"id":"ad-view_lib_Effects.js.html","title":"Source: ad-view/lib/Effects.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-view/lib/Effects.js /** @npmpackage @class Effects @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-view&quot;&gt;ad-view&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Effects } from 'ad-view' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Utilities for adding effects to elements */ import { MathUtils, ColorUtils } from 'ad-utils' import * as Styles from './Styles' /* --------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberof Effects @method blur @param {object} obj object containing blur arguments, see Properties for more info: @property {element} obj.target dom element @property {number} obj.amount the level of blurriness @desc Blurs a dom element. @example // Effects.blur({ target: _myDiv, amount: 10 }); */ export function blur(obj) { if (obj.amount &gt;= 0) Styles.setCss(obj.target, { filter: 'blur(' + obj.amount + 'px)' }) } /** @memberof Effects @method dropShadow @param {object} obj object containing drop shadow arguments, see Properties for more info: @property {element} obj.target dom element @property {number} obj.angle optional NUMBER IN DEGREES for the angle at which the shadow will project. Defaults to 0. @property {number} obj.distance optional NUMBER for how far away the shadow will offset. Defaults to 0. @property {number} obj.size optional NUMBER for shadow radius. Defaults to 0. @property {number} obj.spread optional NUMBER for how much extra the shadow will increase before it begins its gradient fade. Defaults to 0. @property {string|object} obj.color optional color of shadow as a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to &quot;#000000&quot;. @property {number} obj.alpha optional NUMBER of shadow opacity, if set will overwrite color.a. Defaults to 1. @property {boolean} obj.inner optional BOOLEAN to set the shadow as inset. Defaults to false. @desc Adds a drop shadow to a dom element. Follows the same use specs as Photoshop. @example // Effects.dropShadow({ target:_myDiv, angle: 135, distance: 50, size: 20, spread: 10, color: 'rgb(90, 0, 0)', alpha: 0.1, inner: true }); */ export function dropShadow(obj) { Styles.setCss(obj.target, { boxShadow: createShadow(obj.angle || 0, obj.distance || 0, obj.size || 0, obj.spread || 0, obj.color || '#000000', obj.alpha, obj.inner) }) } /** @memberof Effects @method textDropShadow @param {object} obj object containing drop shadow arguments, see Properties for more info: @property {element} obj.target dom element @property {number} obj.angle optional NUMBER IN DEGREES for the angle at which the shadow will project. Defaults to 0. @property {number} obj.distance optional NUMBER for how far away the shadow will offset. Defaults to 0. @property {number} obj.size optional NUMBER for shadow radius. Defaults to 0. @property {string|object} obj.color optional color of shadow as a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to &quot;#000000&quot;. @property {number} obj.alpha optional NUMBER of shadow opacity, if set will overwrite color.a. Defaults to 1. @desc Adds a drop shadow to text within a dom element. Follows the same use specs as Photoshop. @example // Effects.textDropShadow({ target:_myText, angle: 45, distance: 15, size: 1, color: '#ff0000', alpha: 0.5 }); */ export function textDropShadow(obj) { Styles.setCss(obj.target, { textShadow: createShadow(obj.angle || 0, obj.distance || 0, obj.size || 0, null, obj.color || '#000000', obj.alpha) }) } /** @memberof Effects @method glow @param {object} obj object containing glow arguments, see Properties for more info: @property {element} obj.target dom element @property {number} obj.size optional NUMBER for glow radius. Defaults to 0. @property {number} obj.spread optional NUMBER for how much extra the glow will increase before it begins its gradient fade. Defaults to 0. @property {string|object} obj.color optional color of glow as a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to &quot;#000000&quot;. @property {number} obj.alpha optional NUMBER of glow opacity, if set will overwrite color.a. Defaults to 1. @property {boolean} obj.inner optional BOOLEAN to set the glow as inset. Defaults to false. @desc Adds a glow to a dom element. Follows the same use specs as Photoshop. @example // Effects.glow({ target: _myDiv, size: 20, spread: 0, color: 'rgb(90, 0, 0)', alpha: 0.5, inner: true }); */ export function glow(obj) { obj.angle = 0 obj.distance = 0 dropShadow(obj) } /** @memberof Effects @method linearGradient @param {object} obj object containing gradient arguments, see Properties for more info: @property {element} obj.target dom element @property {array} obj.colors ARRAY of colors as either a HEX STRING :&quot;#ff0000&quot; or an RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;. @property {number} obj.angle NUMBER IN DEGREES of angle to draw linear-gradient at. Defaults to 0. @desc Changes the background of a given dom element to be a linear gradient. &lt;br&gt;&lt;br&gt; &lt;b&gt;Example&lt;/b&gt;&lt;br&gt; Adding a horizontal gradient from red, to blue, fading to a transparent yellow. &lt;codeblock&gt; Effects.linearGradient({ target: _myDiv, colors: ['red', 'blue', 'rgba(255, 255, 0, 0.5)'], angle: 90 }); &lt;/codeblock&gt; */ export function linearGradient(obj) { Styles.setCss(obj.target, { background: 'linear-gradient(' + (obj.angle || 0) + 'deg, ' + obj.colors.toString() + ')' }) } /** @memberof Effects @method radialGradient @param {object} obj object containing gradient arguments, see Properties for more info: @property {element} obj.target dom element @property {array} obj.colors ARRAY of colors as either a HEX STRING :&quot;#ff0000&quot; or an RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;. &lt;br&gt;&lt;br&gt; To add stops, append a % value to the color string: [&quot;#ff0000 50%, &quot;#00ff00 90%&quot;]. @property {number} obj.angle NUMBER IN DEGREES of angle to draw linear-gradient at. Defaults to 0. @desc Changes the background of a given dom element to be a radial gradient. &lt;br&gt;&lt;br&gt; &lt;b&gt;Example&lt;/b&gt;&lt;br&gt; Adding a gradient from red to blue, with a very large choke on the blue. &lt;codeblock&gt; Effects.radialGradient({ target: _myDiv, colors: ['#ff0000', '#0000ff 10%'] }); &lt;/codeblock&gt; */ export function radialGradient(obj) { Styles.setCss(obj.target, { background: 'radial-gradient(' + obj.colors.toString() + ')' }) } /* --------------------------------------------------------------------------------- */ // PRIVATE METHODS function createShadow(angle, distance, size, spread, color, alpha, inner) { var val = '' var deg = angle * -1 + 180 var rad = MathUtils.toRadians(deg) val += (Math.cos(rad) * distance).toFixed(8) + 'px ' val += (Math.sin(rad) * distance).toFixed(8) + 'px ' val += size + 'px' if (spread) val += ' ' + spread + 'px' val += ' ' + ColorUtils.toRgbaString(color, alpha) inner = !!inner if (inner) val += ' inset' return val } × Search results Close "},"ad-particles_lib_Emitter.js.html":{"id":"ad-particles_lib_Emitter.js.html","title":"Source: ad-particles/lib/Emitter.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-particles/lib/Emitter.js /** @npmpackage @class Emitter @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-particles&quot;&gt;ad-particles&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Emitter } from 'ad-particles' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; ( v1.1 ) &lt;br&gt;&lt;br&gt; Emitter is a particle system that emits and controls particles and renders on a canvas element. It comes with some basic physic features such as gravity, force, bounce and world boundary. &lt;br&gt;&lt;br&gt; The default setting is in &lt;code&gt;js/EmitterData.js&lt;/code&gt; that comes with standard-particles template. To tweak the default data, launch particle simulator in AdApp and work with the interface. When you have reached your desired effect, copy the genrated code back to &lt;code&gt;js/EmitterData.js&lt;/code&gt;. &lt;br&gt;&lt;br&gt; For more info about the simulator, visit {@link https://confluence.ff0000.com/display/AT/PARTICLES } @example //create a canvas element View.main.particleCanvas = new UICanvas({ id: 'particle-canvas', target: View.main, css: { width: adParams.adWidth, height: adParams.adHeight } }); //create an instance of Emitter adData.particleSystem = new Emitter(); //initiate the emitter with the target canvas element adData.particleSystem.init( View.main.particleCanvas ); //start emitting adData.particleSystem.emit(); //stop emitting adData.particleSystem.stopEmitting(); */ import { Vector2D } from 'ad-geom' import { FrameRate } from 'ad-events' import { ObjectUtils, MathUtils } from 'ad-utils' import { ImageManager } from 'ad-control' import Particle from './Particle' import ParticleModel from './ParticleModel' import Graphic from './Graphic' // EmitterData comes from global scope w/ ad that has Particles option var Emitter = function() { var self = this self.G = new Vector2D(0, 0.1) self.customBehaiver = { emitter: [], particle: [] } /** @memberof Emitter @method init @param {CanvasElement} canvasElement a canvas element @param {object} setting optional, contains fps and emitterData as properties to overide the frame rate and EmitterData, see Properties for more info: @property {EmitterData} emitterData @property {number} fps default fps(60) @desc Initiates the Emitter. @example var myEmitter = new Emitter(); //init emitter with default setting myEmitter.init( canvasElement ); //init emitter with custom setting var customSetting = { fps: 30, emitterData: myCustomEmitterData }; myEmitter.init( canvasElement, customSetting ); */ self.init = function(canvasElement, setting) { setting = setting || {} var data = setting.emitterData self.fps = setting.fps || 60 //canvas self.canvas = canvasElement self.ctx = canvasElement.getContext('2d') self.ctxWidth = canvasElement.width self.ctxHeight = canvasElement.height self.active = false self.frameCount = 0 self.startEmitFrame = 0 self.frameEmittedCount = 0 self.liveParticles = [] self.particles = [] self.models = [] self.properties = {} self.setProperties(data) self._drawBackground() FrameRate.register(self, self._run, self.fps) } /** @memberof Emitter @method set @param {string} key the name of the property (supports nested object key) @param {number|string|object|array} val the value of the property @param {boolean} triggerChange optional, it is for internal use @desc Sets a sinlge property of emitter properties. To set multiple properties at once, please use setProperties. @example myEmitter.set( 'emitRate', 0.1 ); myEmitter.set( 'origin.value.x', 0 ); */ self.set = function(key, val, triggerChange) { triggerChange = triggerChange === undefined ? true : triggerChange ObjectUtils.objectifier.set(key, val, self.properties) if (triggerChange) { self._afterPropertyChanged([key.split('.')[0]]) } } /** @memberof Emitter @method get @param {string} key the name of the property (supports nested object key) @returns {number|string|object|array} The value of the property @desc Gets a sinlge property of emitter properties. @example var rate = myEmitter.get( 'emitRate' ); var lifeSpanValue = myEmitter.get( 'lifeSpan.value' ); */ self.get = function(key) { return ObjectUtils.objectifier.get(key, self.properties) // return ParticlesUtils.objectifier( key.split( '.' ), false, self.properties ); } /** @memberof Emitter @method setProperties @param {object} obj an object containing properties and values @desc Sets a group of properties of emitter properties (supports nested object key) @example myEmitter.setProperties({ 'emitRate': 0.1, 'background.type': 'none', 'origin.value.x': 100 }); */ self.setProperties = function(obj) { var keyArr = [] for (var key in obj) { self.set(key, obj[key], false) keyArr.push(key.split('.')[0]) } self._afterPropertyChanged(keyArr) } /** @memberof Emitter @method addCustomBehavier @param {string} type 'particle' or 'emitter' @param {function} func function to add @desc Adds on custom behavier in the run loop. If the type is 'particle' function, it will be called in each particle iteration in the run loop with the iterated particle as the first parameter and an array of all particles as the second. If the type is 'emitter', it will be called in each run loop with the emitter as a parameter. @example function customParticleBehavier1 ( particle, particleGroup ) { var particleLocation = particle.properties.location; var i; //if there is another particle in the range of 60, set the color to red //otherwise set it to yellow for( i=0; i&lt;particleGroup.length; i++ ) { var particle2 = particleGroup[ i ]; var dist = particleLocation.dist( particle2.properties.location ); if( dist &lt; 60 ) { particle.properties.style.color = [ 255, 0, 0 ]; } else { particle.properties.style.color = [ 255, 255, 0 ]; } } } function customParticleBehavier2 ( particle, particleGroup ) { particle.properties.style.scale = particle.properties.location.y * 0.1; } function customEmitterBehavier ( emitter ) { //animate the gravityAmount using frameCount emitter.set( 'gravityAmount', Math.sin( emitter.frameCount * 0.1 )); }; myEmitter.addCustomBehavier( 'particle', customParticleBehavier1 ); myEmitter.addCustomBehavier( 'particle', customParticleBehavier2 ); myEmitter.addCustomBehavier( 'emitter', customEmitterBehavier ); */ self.addCustomBehavier = function(type, func) { this.customBehaiver[type].push(func) } /** @memberof Emitter @method removeCustomBehavier @param {string} type 'particle' or 'emitter' @param {function} func function to remove @desc Removes the custom behavier added. @example myEmitter.removeCustomBehavier( 'particle', customParticleBehavier1 ); myEmitter.removeCustomBehavier( 'emitter', customEmitterBehavier ); */ this.removeCustomBehavier = function(type, func) { var arr = this.customBehaiver[type] var i for (i = 0; i &lt; arr.length; i++) { if (arr[i] === func) { this.customBehaiver[type].splice(i, 1) } } } /** @memberof Emitter @method emit @desc Starts emitting particles. @example myEmitter.emit(); */ self.emit = function() { self.active = true self.startEmitFrame = self.frameCount if (self.properties.emitRate === 0) { //emit once self.createParticles(self.properties.emitAmount) } } /** @memberof Emitter @method stopEmitting @desc Stops emitting particles. @example myEmitter.stopEmitting(); */ self.stopEmitting = function() { self.active = false } /** @memberof Emitter @method empty @desc Emptys all particles. @example myEmitter.empty(); */ self.empty = function() { self.particles.forEach(function(a) { a = null }) self.particles = [] } /** @memberof Emitter @method pause @desc Pause the run loop ( freeze it! ). @example myEmitter.pause(); */ self.pause = function() { FrameRate.unregister(self, self._run) } /** @memberof Emitter @method resume @desc Resume the run loop after pause. @example myEmitter.resume(); */ self.resume = function() { FrameRate.register(self, self._run, self.fps) } /** @memberof Emitter @name tween @property {function} tween.to {@link Emitter.to} @desc Creates a object to hold tween functions: */ self.tween = {} /** @memberof Emitter @method to @param {number} duration duration of the tween in seconds @param {object} props properties to use @desc It creates a TweenLite animation for tweening emitter properties. ( The purpose of this is to tween multiple nested keys in property object, since TweenLite doesn't support nested keys. ) &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE!!!&lt;/b&gt; This method is on the {@link Emitter.tween} object! @example myEmitter.tween.to( 0.3, { 'emitRate': 1, 'velocity.value.angle': 45, 'origin.value.x': 100, 'origin.value.y': 350, delay: 1, onComplete: function () { console.log( 'Done!' ); } }); */ self.tween.to = function(duration, props) { props = props || {} // var self = self; var onUpdate = props.onUpdate || null var delay = props.delay || 0 delete props.delay return TweenLite.delayedCall(delay, function() { //strip out emitter properties var emitterProps = {} for (var k in props) { if (self.get(k) !== undefined) { emitterProps[k] = self.get(k) } } props.onUpdate = function() { if (onUpdate) { onUpdate() } self.setProperties(emitterProps) } TweenLite.to(emitterProps, duration, props) }) } /** @memberof Emitter @method createParticles @param {number} amount the amount of particles to create @desc Creates particles from the particle models of the emitter. */ self.createParticles = function(amount) { self.frameEmittedCount++ if (self.models.length &lt;= 0) { return } var p = self.properties var map = self.probabilityMap var i for (i = 0; i &lt; amount; i++) { var ms = self.models var index if (self.particles.length &gt;= p.maxParticleAmount) { return } if (p.pickRandomModel) { //select model base on probability var num = MathUtils.random(0, self.totalProbability, 0.01) var j for (j = 0; j &lt; map.length - 1; j++) { if (MathUtils.inRange(num, map[j], map[j + 1])) { index = j break } } } else { index = (self.frameEmittedCount - 1) % ms.length } self.particles.push(new Particle(self.ctx, ms[index], self.fps)) } } /** @memberof Emitter @method addModel @param {object} modelObj the object of the particle model to be added @desc Add a particle model @example var modelObj = { type: &quot;Circle&quot;, width: 12, properties: {}, id: 'model5' }; myEmitter.addModel( modelObj ); */ self.addModel = function(modelObj) { self.properties.particleModels.push(modelObj) self._afterPropertyChanged(['particleModels']) } /** @memberof Emitter @method removeModel @param {string} id the id of the particle model to be removed @desc Remove a particle model by its id @example myEmitter.removeModel( 'model5' ); */ self.removeModel = function(id) { var i var index = null var pm = self.properties.particleModels for (i = 0; i &lt; pm.length; i++) { if (id === pm[i].id) { index = i break } } if (index !== null) { pm.splice(index, 1) self._afterPropertyChanged(['particleModels']) } } self._drawBackground = function() { var p = self.properties var bg = p.background if (p.clearCanvas) { if (self.frameCount &gt; 0) { self.ctx.globalAlpha = bg.alpha } switch (bg.type) { case 'color': self.ctx.beginPath() self.ctx.rect(0, 0, self.ctxWidth, self.ctxHeight) self.ctx.fillStyle = bg.color self.ctx.fill() self.ctx.closePath() break case 'image': self.ctx.drawImage(ImageManager.get(bg.image), 0, 0, self.ctxWidth, self.ctxHeight) break default: self.ctx.clearRect(0, 0, self.ctxWidth, self.ctxHeight) } self.ctx.globalAlpha = 1 } } self._afterPropertyChanged = function(keys = []) { //convert globalForce to vector if (keys.indexOf('globalForce') &gt; -1) { var force = self.properties.globalForce self._globalForce = Vector2D.degreeToVector(force.angle).mult(force.amount) } //create models if it's changed if (keys.indexOf('particleModels') &gt; -1) { self.models = [] self.totalProbability = 0 var map = [] var pm = self.properties.particleModels for (let i = 0; i &lt; pm.length; i++) { var pmi = pm[i] var g var m switch (pmi.type) { case 'Image': g = new Graphic[pmi.type](ImageManager.get(pmi.image), pmi.width, pmi.style) break case 'Sprite': g = new Graphic[pmi.type](ImageManager.get(pmi.image), pmi.width, pmi.style, pmi.spriteSetting) break case 'Circle': g = new Graphic[pmi.type](pmi.width, pmi.style) break case 'Rect': g = new Graphic[pmi.type](pmi.width, pmi.height, pmi.style) break } m = new ParticleModel(g, pmi.properties) m.setDefaultProperties(self.properties) self.models.push(m) map.push(self.totalProbability) var p = pmi.probability === undefined ? 1 : pmi.probability self.totalProbability += p } map.push(self.totalProbability) self.probabilityMap = map } else { var prop = self.properties self.models.forEach(function(a) { a.setDefaultProperties(prop) }) } }.bind(self) self._run = function() { var p = self.properties self._drawBackground() var i for (i = 0; i &lt; self.particles.length; i++) { var a = this.particles[i] if (!a.isDead(self.ctxWidth, self.ctxHeight, p.killIfOutOfCanvas)) { self.liveParticles.push(a) a.update() a.applyForce(self._globalForce) if (p.gravityAmount !== 0) { var gravity = self.G.clone() gravity.mult(p.gravityAmount) a.applyForce(gravity) } if (p.world.active) { a.checkWorld(p.world.value) } if (self.customBehaiver.particle !== 0) { var m for (m = 0; m &lt; self.customBehaiver.particle.length; m++) { var func = self.customBehaiver.particle[m].call(func, a, self.particles) } } a.render() } else { a = null } } //discard dead particles self.particles = self.liveParticles self.liveParticles = [] if (self.customBehaiver.emitter !== 0) { var m for (m = 0; m &lt; self.customBehaiver.emitter.length; m++) { var func = self.customBehaiver.emitter[m].call(func, self) } } //emit if active if (self.active) { //emit if on frame var f = self.frameCount - self.startEmitFrame if (f % ~~(1 / p.emitRate) === 0) { self.createParticles(p.emitAmount) } } self.frameCount++ } } export default Emitter × Search results Close "},"ad-control_lib_Expandable.js.html":{"id":"ad-control_lib_Expandable.js.html","title":"Source: ad-control/lib/Expandable.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-control/lib/Expandable.js /** @npmpackage @class Expandable @description Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-control&quot;&gt;ad-control&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Expandable } from 'ad-control' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This class controls the expanding and collapsing of expandable units. The animation relys on the properties set in the index. Therefore, the animation has be removed from the build file and handled internally. This class can be extended with {@link ExpandableDcs} when units are used in DoubleClick. */ import { GestureEvent } from 'ad-events' let _arg let _afterInitExpanded = true let _hasUserInteracted = false let extend = { init: () =&gt; {}, collapse: gestureEvent =&gt; { handle.collapseStart() }, expand: gestureEvent =&gt; { handle.expandStart() }, collapseComplete: () =&gt; { handle.collapseComplete() }, expandComplete: () =&gt; { handle.expandComplete() } } const handle = { expandStart: event =&gt; { fireCallback('expandStart') animateExpand() }, expandComplete: event =&gt; { fireCallback('expandComplete') _hasUserInteracted = _afterInitExpanded _afterInitExpanded = true }, collapseStart: event =&gt; { animateCollapse() fireCallback('collapseStart') _hasUserInteracted = true }, collapseComplete: event =&gt; { fireCallback('collapseComplete') _hasUserInteracted = true } } /** @memberOf Expandable @method init @desc This method initializes the class, linking all callbacks and the target being set. This should be called Control.postMarkup @example Expandable.init ({ // required target: View.expanded, // optional methods called when that event happens expandStart: Control.handleExpandStart, expandComplete: Control.handleExpandComplete, collapseStart: Control.handleCollapseStart, collapseComplete: Control.handleCollapseFinish, // optionally you can add time values for expanding/collapsing expandTime: 0.3, collapseTime: 0.3 }); */ export function init(arg) { _arg = arg || {} _arg.expandTime = _arg.expandTime || 0.5 _arg.collapseTime = _arg.collapseTime || 0.5 if (_arg.extend) { extend = _arg.extend extend.init(handle) } if (adParams.expandable.expanded) { _afterInitExpanded = false expand() } else { animateCollapse(true) } } /** @memberOf Expandable @method collapse @desc Collapses the View.expand container. @example Expandable.collapse(); */ export function collapse(gestureEvent) { GestureEvent.stop(gestureEvent) extend.collapse(gestureEvent) } /** @memberOf Expandable @method expand @desc Expands the View.expand container. @example Expandable.expand(); */ export function expand(gestureEvent) { GestureEvent.stop(gestureEvent) console.log('extend:', extend) extend.expand(gestureEvent) } /** @memberOf Expandable @method {boolean} hasUserInteracted Indicates if the ad has been interacted by the user @example console.log( Expandable.hasUserInteracted() ) */ export function hasUserInteracted() { return _hasUserInteracted; } function animateExpand() { const param = adParams.expandable TweenLite.to(_arg.target, _arg.expandTime, { x: param.expandedX, y: param.expandedY, width: adParams.adWidth, height: adParams.adHeight, onComplete: extend.expandComplete }) } function animateCollapse(isInit) { const time = isInit ? 0 : _arg.collapseTime const param = adParams.expandable TweenLite.to(_arg.target, time, { x: param.collapsedX, y: param.collapsedY, width: param.collapsedWidth, height: param.collapsedHeight, onComplete: isInit ? undefined : extend.collapseComplete }) } function fireCallback(name) { ;(_arg[name] || function() {}).call() } × Search results Close "},"ad-control_lib_ExpandableDcs.js.html":{"id":"ad-control_lib_ExpandableDcs.js.html","title":"Source: ad-control/lib/ExpandableDcs.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-control/lib/ExpandableDcs.js /** @npmpackage @class ExpandableDcs @description Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-control&quot;&gt;ad-control&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { ExpandableDcs } from 'ad-control' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is and extension of {@link Expandable} when units are used in DoubleClick. The only difference in the init() method is to pass in this class to the Expandable.init() &lt;codeblock&gt; Expandable.init ({ target : View.expanded, expandStart: Control.handleExpandStart, expandComplete: Control.handleExpandComplete, collapseStart: Control.handleCollapseStart, collapseComplete: Control.handleCollapseFinish, extend: ExpandableDcs }); &lt;/codeblock&gt; */ export default { init: handle =&gt; { Enabler.addEventListener(studio.events.StudioEvent.EXPAND_START, handle.expandStart) Enabler.addEventListener(studio.events.StudioEvent.EXPAND_FINISH, handle.expandComplete) Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_START, handle.collapseStart) Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_FINISH, handle.collapseComplete) if (adParams.expandable.expanded) { Enabler.setStartExpanded(true) } }, collapse: gestureEvent =&gt; { console.log('DCS &gt; collapse()') Enabler.requestCollapse() if (gestureEvent) Enabler.reportManualClose() }, expand: gestureEvent =&gt; { console.log('DCS &gt; expand()') Enabler.requestExpand() }, collapseComplete: () =&gt; { console.log('DCS &gt; collapseComplete()') Enabler.finishCollapse() }, expandComplete: () =&gt; { console.log('DCS &gt; expandComplete()') Enabler.finishExpand() } } × Search results Close "},"ad-events_lib_FrameRate.js.html":{"id":"ad-events_lib_FrameRate.js.html","title":"Source: ad-events/lib/FrameRate.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-events/lib/FrameRate.js /** @npmpackage @class FrameRate @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-events&quot;&gt;ad-events&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { FrameRate } from 'ad-events' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This module is used for constant consistent updates, akin to ENTER_FRAME in AS3, utilizing requestAnimationFrame at its core. Register a function and it will be called on every tick. Optionally, you can register a function with a frame rate value for specific frequency calls. This is useful when working with multiple animation sequences at once. @example // have any methods function myFunctionA () { console.log( 'myFunctionA' ); } function myFunctionB() { console.log( 'myFunctionB' ); } function myFunctionC() { console.log( 'myFunctionC' ); } // Register any method, anywhere FrameRate.register ( this, myFunctionA ); FrameRate.register ( this, myFunctionB ); // Register with custom time, say only 7 calls per second FrameRate.register ( this, myFunctionC, 7 ); // Pause the whole engine so no methods are called FrameRate.pause(); // Then start is back up FrameRate.resume(); // or remove a method later FrameRate.unregister ( this, myFunctionA ); // or pause all methods at a specific frame rate FrameRate.pause ( 7 ) // this pauses only myFunctionC, but myFunctionB will continue to be called */ import FrameRateBase from './FrameRateBase' import 'ad-polyfills/lib/request-animation-frame' class FrameRate { static _isPaused = true static _isActive = true static _sets = {} static _RAF = undefined /** ----------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf FrameRate @method register @param {string} from Where the handler method exists; the class/module where it is declared @param {function} handler A method to be called on every tick of the engine @param {number} fps Optional, set the number of times to be called per second @desc Registers a method to be called, by adding it to collection. @example // Uses the default fps, being called 30 times per second FrameRate.register ( this, myFunctionA ); // Set the fps to only be called 12 times per second FrameRate.register ( this, myFunctionB, 12 ); */ static register = (from, handler, fps) =&gt; { const F = FrameRate fps = fps || 30 if (!F._sets[fps]) { F._sets[fps] = new FrameRateBase(fps) } var pool = F._sets[fps].pool for (var i = 0; i &lt; pool.length; i++) { if (pool[i].from === from &amp;&amp; pool[i].handler === handler) { return } } pool.push({ handler: handler, from: from }) console.log('pool is now:', pool) if (F._isActive) F.resume() } /** @memberOf FrameRate @method unregister @param {string} from Where the handler method exists; the class/module where it is declared @param {function} handler A method previously called on every tick of the engine @param {number} fps Optional, specifies where the handler was called from @desc Unregisters a method from being called, by removing it from collection. @example // searches all interal pools to unregister the callback FrameRate.unregister ( this, myFunctionA ); // if the fps when registered is known, will only look in that pool to unregister FrameRate.unregister ( this, myFunctionB, 12 ); */ static unregister = (from, handler, fps) =&gt; { const F = FrameRate //var handlerString = handler.toString(); for (var key in F._sets) { // if fps is provided, only look in that FrameRateBase for handlers if (fps &amp;&amp; key != fps) { continue } // otherwise, remove all references to that handler var pool = F._sets[key].pool for (var i = 0; i &lt; pool.length; i++) { //if ( h[i].toString() === handlerString ){ if (pool[i].from === from &amp;&amp; pool[i].handler === handler) { pool.splice(i, 1) break } } // removes the FrameRateBase object with no handlers if (pool.length == 0) { delete F._sets[key] } } if (Object.keys(F._sets).length === 0) { F.pause() F._isActive = true } } /** @memberOf FrameRate @method pause @param {} arguments Target Frames Per Seconds times to pause, can be infinite @desc Pauses the engine's ticker, deactivating ALL methods listening to FrameRate. FrameRate will stay paused when more listeners are added, only activating again when calling resume() However, by passing in a target Frames Per Second, it will only pause those methods. @example // Pauses the whole engine FrameRate.pause(); // Pauses only methods registered at 12 Frames Per Second FrameRate.pause(12); // Pauses all methods registerd at provided Frames Per Seconds FrameRate.pause(18,24,30); */ static pause = (...args) =&gt; { const F = FrameRate if (args.length &gt; 0) { for (var i = 0; i &lt; args.length; i++) { var fpsTarget = args[i] if (F._sets[fpsTarget]) { F._sets[fpsTarget]._paused = true F._isPaused = true } } for (var d in F._sets) { if (!F._sets[d]._paused) { F._isPaused = false break } } } else { for (var d in F._sets) F._sets[d]._paused = true F._isPaused = true } if (F._isPaused) { F._isActive = false window.cancelAnimationFrame(F._RAF) } } /** @memberOf FrameRate @method resume @param {} arguments Target Frames Per Secons times to resume, can be infinite @desc Resumes the engine's ticker, activating ALL methods listening to FrameRate. However, by passing in a target Frames Per Second, it will only resume those methods. @example // Resumes the whole engine FrameRate.resume(); // Resumes only methods registered at 12 Frames Per Second FrameRate.resume(12); // Resumes all methods registerd at provided Frames Per Seconds FrameRate.resume(18,24,30); */ static resume = (...args) =&gt; { const F = FrameRate var _currentlyRunning = !F._isPaused if (args.length &gt; 0) { for (var i = 0; i &lt; args.length; i++) { var fpsTarget = args[i] if (F._sets[fpsTarget]) { F._sets[fpsTarget]._paused = false F._isPaused = false } } } else { for (var d in F._sets) F._sets[d]._paused = false F._isPaused = false } if (!_currentlyRunning) { F._isActive = true F._RAF = window.requestAnimationFrame(F.tick) } } /** @memberOf FrameRate @method secondsAsFrames @param {number} sec A time in seconds @desc Converts a time in seconds to a Frames Per Second decimal value. For use when an interval longer than once per soecond is needed, similar to setInterval, however, this uses the single internal ticker to combat perfoormance hits. @example // You want a callback to happen every 3.2 seconds var time = 3.2; function myFunction(){ console.log( &quot;I get called every 3.2 seconds&quot; ); } // Get the time as an Frames Per Second var fps = FrameRate.secondsAsFrames(time); // Use it to register FrameRate.register(myFunction, fps); */ static secondsAsFrames = (sec) =&gt; { return 1 / sec } /** ----------------------------------------------------------------------------------------------- */ // PRIVATE METHODS static tick = () =&gt; { const F = FrameRate //console.log( 'tick' ) if (!F._isPaused) { for (var h in F._sets) { F._sets[h].tick() } // call tick again window.requestAnimationFrame(F.tick) } } } export default FrameRate × Search results Close "},"ad-events_lib_Gesture.js.html":{"id":"ad-events_lib_Gesture.js.html","title":"Source: ad-events/lib/Gesture.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-events/lib/Gesture.js // TODO - ? remove gestureBase if no events added // - ? total distance /** @npmpackage @class Gesture @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-events&quot;&gt;ad-events&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Gesture } from 'ad-events' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This module is used for seamless use of Mouse / Touch Events, such as click vs tap, mousedown vs touch down, etc. This class figures which to use and reports custom events.&lt;br&gt;&lt;br&gt; See {@link GestureEvent} for available events. */ import GestureBase from './GestureBase' import { Styles } from 'ad-view' var Gesture = new function() { var G = this var _targets = [] var _disableList = [] var _eventPass = document.createEventObject != undefined var _eventLooping = false G._kills = {} /* ------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf Gesture @method add | addEventListener @param {element} target The DOM element @param {string} name The event's name as a String or GestureEvent constant @param {function} handler The function to be called on event trigger @desc Registers an event so that the listener receives notification of an event. @example Gesture.addEventListener( myDiv, GestureEvent.CLICK, handleClick ); function handleClick( event ) { console.log( 'Click heard' ); } */ G.add = G.addEventListener = function(target, name, handler) { var _gestureBase = getGestureBase(target) _gestureBase.register(name, handler) Styles.setCss(target, 'cursor', 'pointer') // OVERWRITES mouseChildren(false) of parent Styles.setCss(target, 'pointer-events', 'auto') } /** @memberOf Gesture @method remove | removeEventListener @param {element} target The DOM element @param {string} name The event's name as a String or GestureEvent constant @param {function} handler The function registered for call on event trigger @desc Unregisters an event of notifications. @example Gesture.removeEventListener ( myDiv, GestureEvent.CLICK, handleClick ); */ G.remove = G.removeEventListener = function(target, name, handler) { var _gestureBase = getGestureBase(target) if (_gestureBase) { _gestureBase.unregister(name, handler) if (_gestureBase.eventList.length &lt;= 0) { Styles.setCss(target, 'cursor', 'auto') } } } /** @memberOf Gesture @method disable @param {element} target The DOM element @desc Disables a DOM element from responding the mouse/touch/gesture events. For bubbling events, such as click, this will disable its children as well. @example Gesture.disable( myDiv ); */ G.disable = function(target) { var gestureBase = getGestureBase(target) _disableList.push(gestureBase) if (_eventPass) { gestureBase.register(GestureEvent.CLICK, handlePassThroughClick) Styles.setCss(target, 'cursor', 'auto') } else { Styles.setCss(target, 'pointer-events', 'none') } } /** @memberOf Gesture @method disableChildren @param {element} target The DOM element @desc Disables all child DOM elements from responding the mouse/touch/gesture events. For bubbling events, such as click, this is unnecessary @example Gesture.disableChildren ( myDiv ); */ G.disableChildren = function(target) { setActiveChildren(target, false) } /** @memberOf Gesture @method enable @param {element} target The DOM element @desc Enables all a DOM element to responding the mouse/touch/gesture events. For bubbling events, such as click, this will enable its children as well. @example Gesture.disable ( myDiv ); */ G.enable = function(target) { var gestureBase = getGestureBase(target) for (var i = 0; i &lt; _disableList.length; i++) { if (gestureBase == _disableList[i]) { if (_eventPass) { gestureBase.unregister(GestureEvent.CLICK, handlePassThroughClick) } else { Styles.setCss(target, 'pointer-events', 'auto') Styles.setCss(target, 'cursor', 'pointer') } break } } } /** @memberOf Gesture @method enableChildren @param {element} target The DOM element @desc Enables all child DOM elements to responding the mouse/touch/gesture events. For bubbling events, such as click, this is unnecessary @example Gesture.enableChildren ( myDiv ); */ G.enableChildren = function(target) { setActiveChildren(target, true) } /* ------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function getGestureBase(target) { var _gestureBase = null for (var i = 0; i &lt; _targets.length; i++) { if (_targets[i].elem === target) { _gestureBase = _targets[i] break } } if (!_gestureBase) { _gestureBase = createGestureBase(target) } return _gestureBase } function createGestureBase(target) { var _gestureBase = new GestureBase(target) _targets.push(_gestureBase) return _gestureBase } function setActiveChildren(target, active) { var gestureBase = getGestureBase(target) if (gestureBase.hasActiveChildren != active) { gestureBase.hasActiveChildren = active var children = gestureBase.elem.getElementsByTagName('*') for (var i = 0; i &lt; children.length; i++) { //console.log( typeof children[i], ' ; ', children[i].id ) // gets only the children, not grand-children if (children[i].parentNode == target) { active ? G.enable(children[i]) : G.disable(children[i]) } } } } function getNextLayerElement(target, x, y, list) { target.style.visibility = 'hidden' list.push(target) var elem = document.elementFromPoint(x, y) //console.log( 'elementFromPoint() : ', elem.id ); for (var i = 0; i &lt; _disableList.length; i++) { //console.log( ' =&gt; disable list: ', i, ' : ', _disableList[i].elem.id ) if (_disableList[i].elem == elem) { //console.log( ' -^ match so go again') return getNextLayerElement(elem, x, y, list) } } return elem } function getForwardedTarget(event) { var hiddenList = [] var el = getNextLayerElement(event.target, event.clientX, event.clientY, hiddenList) //console.log( ' returned element: (', event.clientX, ', ', event.clientY, ') ', el.id ) //console.log( 'hidden list:') for (var i = 0; i &lt; hiddenList.length; i++) { //console.log( ' -&gt; ', i, ' ', hiddenList[i].id ) hiddenList[i].style.visibility = 'visible' } hiddenList = [] event.stopImmediatePropagation() //console.log( ' - STOP - ') return el } /* ------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS // IE 9 &amp; 10 needs to have events captured and passed to the next layer dom element function handlePassThroughClick(event) { //console.log( 'pass through:', event ) var el = getForwardedTarget(event) // IE 9+ var evt = document.createEvent('HTMLEvents') evt.initEvent(event.type, true, false) //console.log( ' # ', el.id, ' is dispatching ' ) el.dispatchEvent(evt) } }() export default Gesture × Search results Close "},"ad-events_lib_GestureBase.js.html":{"id":"ad-events_lib_GestureBase.js.html","title":"Source: ad-events/lib/GestureBase.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-events/lib/GestureBase.js /** @npmpackage @class GestureBase @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-events&quot;&gt;ad-events&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { GestureBase } from 'ad-events' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; -- INTERNAL MODULE -- This module is used exclusively by Gesture. When a dom element has an event listener registered, it creates an instance of this module to hold all the event handlers for the dom element. Every dom element gets a new GestureBase instance. {@link Gesture} */ import { Device } from 'ad-external' import { Styles } from 'ad-view' import * as GestureEvent from './GestureEvent' class GestureBase { constructor(elem) { var G = this G.elem = elem G.hasActiveChildren = true G.debug = false G.eventList = [] G._isDragEnabled = false // isDragging also used for swipe event check G._isDragging = false G._give = 2 // offset coordinate for element G._oX = 0 G._oY = 0 // previous coordinates for drag/swipe G._p1X = 0 G._p1Y = 0 G._p2X = 0 G._p2Y = 0 // start coordinate G._sX = 0 G._sY = 0 // velocity G._vX = 0 G._vY = 0 G._cursor = 'mouse' G._start = 'down' G._end = 'up' G.init() } init() { var G = this if (G.debug) console.log('GestureBase.init()') G._handleTouchStart = G._handleTouchStart.bind(G) G._handleDown = G._handleDown.bind(G) G._handleDrag = G._handleDrag.bind(G) G._handleUp = G._handleUp.bind(G) G._elemAdd = G.elem.addEventListener.bind(G.elem) G._elemRemove = G.elem.removeEventListener.bind(G.elem) G._reset() } // replace addEventListener so can flag the event type register(name, handler) { var G = this if (G.debug) console.log('GestureBase.register(', name, ')') G.eventList.push(name) G._checkDragEnabled() // then actually add the listener G._elemAdd(name, handler) } unregister(name, handler) { var G = this if (G.debug) console.log('GestureBase.unregister(', name, ')') var index = G.eventList.indexOf(name) if (index &gt;= 0) { G.eventList.splice(index, 1) } G._checkDragEnabled() G._elemRemove(name, handler) } /* ------------------------------------------------------------------------------------------------------------- */ // UTILITY _reset() { var G = this G._cursor = 'mouse' G._start = 'down' G._end = 'up' G.elem.addEventListener('touchstart', G._handleTouchStart) // listen for both touch and mouse, except on iOS devices if (Device.os != 'ios') G.elem.addEventListener('mousedown', G._handleDown) } _checkDragEnabled() { var G = this var hasDragEventIndex = G.eventList.join('').indexOf('onDrag') // check if it is a drag, therefore enabling dragability G._isDragEnabled = hasDragEventIndex &gt; -1 } // Android stores things like pageX in an array. This scopes the internally used event properly _getEventScope(event) { //if( this.debug ) console.log( 'GestureBase._getEventScope(), event:', event ); // check for existence of changedTouches instead //return ( Device.os == 'android' &amp;&amp; event instanceof TouchEvent ) ? event.changedTouches[0] : event ; return event.changedTouches ? event.changedTouches[0] : event } /* ------------------------------------------------------------------------------------------------------------- */ // WINDOW EVENT ENABLE _add(type, handler) { window.addEventListener(this._cursor + type, handler) } _remove(type, handler) { window.removeEventListener(this._cursor + type, handler) } /* ------------------------------------------------------------------------------------------------------------- */ // HANLDERS _handleDown(event) { var G = this if (G.debug) console.log('GestureBase._handleDown()') GestureEvent.startPoint() G.elem.removeEventListener('touchstart', G._handleTouchStart) if (Device.os != 'ios') G.elem.removeEventListener('mousedown', G._handleDown) G._isDragging = false G._add(G._end, G._handleUp) G._add('move', G._handleDrag) var touch = G._getEventScope(event) var mouseX = touch.pageX var mouseY = touch.pageY var elemRect = G.elem.getBoundingClientRect() var localOffsetX = mouseX - elemRect.left var localOffsetY = mouseY - elemRect.top var localX = G.elem.x || Styles.getCss(G.elem, 'x') var localY = G.elem.y || Styles.getCss(G.elem, 'y') var globalOffsetX = elemRect.left - localX var globalOffsetY = elemRect.top - localY G._oX = globalOffsetX + localOffsetX G._oY = globalOffsetY + localOffsetY var elemPositionX = mouseX - G._oX var elemPositionY = mouseY - G._oY // reset the dragging vars G._sX = G._p1X = G._p2X = mouseX G._sY = G._p1Y = G._p2Y = mouseY /*console.log( '\\n\\t_handleDown()', '| mouse:', mouseX, mouseY, '| localOffset:', localOffsetX, localOffsetY, '| local:', localX, localY, '| globalOffset:', globalOffsetX, globalOffsetY, '| totalOffset:', G._oX, G._oY, '| elemPosition:', elemPositionX, elemPositionY, '\\n\\n' )*/ localCreateEvent('onPress') function localCreateEvent(name) { if (GestureEvent.stopped(name)) return var newEvent = new GestureEvent.Event(name, mouseX, mouseY, localOffsetX, localOffsetY, elemPositionX, elemPositionY) if (G.debug) console.log(' -&gt; dispatch', name) G.elem.dispatchEvent(newEvent) } } _handleUp(event, bypass) { var G = this if (G.debug) console.log('GestureBase._handleUp()') G._remove(G._end, G._handleUp) G._remove('move', G._handleDrag) var touch = G._getEventScope(event) var mouseX = touch.pageX var mouseY = touch.pageY var elemRect = G.elem.getBoundingClientRect() var localOffsetX = mouseX - elemRect.left var localOffsetY = mouseY - elemRect.top var elemPositionX = mouseX - G._oX var elemPositionY = mouseY - G._oY var eventName if (bypass !== true) { localCreateEvent('onRelease') } var offsetTop = elemRect.top + window.pageYOffset var offsetBottom = offsetTop + elemRect.height var offsetLeft = elemRect.left + window.pageXOffset var offsetRight = offsetLeft + elemRect.width if (G._isDragging) { if (G._isDragEnabled) { G._dragEndOrSwipe('onDragStop') } console.log(' -&gt; No CLICK Fired, was dragging') } else { if (mouseX &gt; offsetLeft &amp;&amp; mouseX &lt; offsetRight &amp;&amp; mouseY &gt; offsetTop &amp;&amp; mouseY &lt; offsetBottom) { localCreateEvent('onSelect') } } function localCreateEvent(name) { if (GestureEvent.stopped(name)) return var newEvent = new GestureEvent.Event( name, mouseX, mouseY, localOffsetX, localOffsetY, elemPositionX, elemPositionY, 0, 0, G._vX, G._vY ) if (G.debug) console.log(' -&gt; dispatch', name) G.elem.dispatchEvent(newEvent) } if (G._isDragging) { G._dragEndOrSwipe('onSwipe') } G._reset() // this prevents the second mouse down on Android event.preventDefault() GestureEvent.endPoint() } /* ------------------------------------------------------------------------------------------------------------- */ // TOUCH BYPASSING // This will stop from both touch and mouse events firing, thus doubling every Gesture Event fired. _handleTouchStart(event) { var G = this if (G.debug) console.log('GestureBase._handleTouchStart()') // Change the native events to listen for the rest of the system G._cursor = 'touch' G._start = 'start' G._end = 'end' G._handleDown(event) } /* ------------------------------------------------------------------------------------------------------------- */ // DRAG _handleDrag(event) { var G = this if (G.debug) console.log('GestureBase._handleDrag()') var touch = G._getEventScope(event) var mouseX = touch.pageX var mouseY = touch.pageY var diffx1 = mouseX - G._p1X var diffx2 = mouseX - G._p2X G._vX = (diffx2 - diffx1) / 2 + diffx1 var diffy1 = mouseY - G._p1Y var diffy2 = mouseY - G._p2Y G._vY = (diffy2 - diffy1) / 2 + diffy1 var elemPositionX = mouseX - G._oX var elemPositionY = mouseY - G._oY var elemRect = G.elem.getBoundingClientRect() var localOffsetX = mouseX - elemRect.left var localOffsetY = mouseY - elemRect.top /*console.log( '\\t_handleDrag()', '| mouse:', mouseX, mouseY, '| totalOffset:', G._oX, G._oY, '| elemPosition:', elemPositionX, elemPositionY, '| velocity:', G._vX, G._vY, '| distance:', G._p1X - G._sX, G._p1Y - G._sY )*/ var eventName if (G._isDragging) { if (G._isDragEnabled) { localCreateEvent('onDrag') } } else { // check the inital movement to register as dragging or just a click if (Math.abs(G._sX - mouseX) &gt; G._give || Math.abs(G._sY - mouseY) &gt; G._give) { G._isDragging = true if (G._isDragEnabled) { // dispatch when offset distance is exceeded localCreateEvent('onDragStart') } } } function localCreateEvent(name) { if (GestureEvent.stopped(name)) return var newEvent = new GestureEvent.Event( name, mouseX, mouseY, localOffsetX, localOffsetY, elemPositionX, elemPositionY, G._p1X - G._sX, G._p1Y - G._sY, G._vX, G._vY ) if (G.debug) console.log(' -&gt; dispatch', name) G.elem.dispatchEvent(newEvent) } G._p2X = G._p1X G._p1X = mouseX G._p2Y = G._p1Y G._p1Y = mouseY } /* ------------------------------------------------------------------------------------------------------------- */ // DRAG END | SWIPE _dragEndOrSwipe(type) { var G = this if (G.debug) console.log('GestureBase._dragEndOrSwipe()', type) if (GestureEvent.stopped(name)) return var elemRect = G.elem.getBoundingClientRect() var evt = new GestureEvent.Event( type, G._p1X, G._p1Y, G._p1X - elemRect.left, G._p1Y - elemRect.top, G._p1X - G._oX, G._p1Y - G._oY, // since _xp is assigned after moving, must use _p2X G._p2X - G._sX, G._p2Y - G._sY, G._vX, G._vY ) if (G.debug) console.log(' -&gt; dispatch', type) G.elem.dispatchEvent(evt) } } export default GestureBase × Search results Close "},"ad-events_lib_GestureEvent.js.html":{"id":"ad-events_lib_GestureEvent.js.html","title":"Source: ad-events/lib/GestureEvent.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-events/lib/GestureEvent.js /** @npmpackage @class GestureEvent @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-events&quot;&gt;ad-events&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { GestureEvent } from 'ad-events' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This module has custom events to be used with the Gesture module. {@link Gesture} */ var _kills = {} var _eventLooping = false /** @memberOf GestureEvent @class GestureEvent.Event @param {string} name The event type name @param {number} mouseGlobalX The mouse x on the page @param {number} mouseGlobalY The mouse y on the page @param {number} mouseLocalX The mouse x relative to the element position @param {number} mouseLocalY The mouse y relative to the element position @param {number} elementX The element x position @param {number} elementY The element y position @param {number} distanceX The distance moved on the x, only used for drags and swipes @param {number} distanceY The distance moved on the y, only used for drags and swipes @param {number} velocityX The distance moved on the x since previous event fired, essentially the speed @param {number} velocityY The distance moved on the y since previous event fired, essentially the speed @desc Creates a new CustomEvent with properties assigned to it, accessible fomr the passed through event to the handler @example Gesture.add ( myDiv, GestureEvent.CLICK, handleClick ); function handleClick( event ) { console.log( event ) console.log( 'global mouse:', event.mouse.global.x, event.mouse.global.y ) console.log( 'local mouse:', event.mouse.local.x, event.mouse.local.y ) console.log( 'element:', event.element.x, event.element.y ) } Gesture.add ( dragDiv, GestureEvent.DRAG, handleDrag ); function handleDrag( event ) { console.log( event ) console.log( 'element:', event.element.x, event.element.y ) console.log( 'distance:', event.distance.x, event.distance.y ) console.log( 'velocity:', event.velocity.x, event.velocity.y ) } */ function createEvent( name, mouseGlobalX, mouseGlobalY, mouseLocalX, mouseLocalY, elementX, elementY, distanceX, distanceY, velocityX, velocityY ) { var E = new CustomEvent(name) E.mouse = { global: { x: mouseGlobalX, y: mouseGlobalY }, local: { x: mouseLocalX, y: mouseLocalY } } E.element = { x: elementX || 0, y: elementY || 0 } E.distance = { x: distanceX || 0, y: distanceY || 0 } E.velocity = { x: velocityX || 0, y: velocityY || 0 } E.direction = { x: velocityX &gt; 0 ? 'right' : velocityX &lt; 0 ? 'left' : null, y: velocityY &gt; 0 ? 'down' : velocityY &lt; 0 ? 'up' : null } return E } export const Event = createEvent function stopBubble(event) { if (event) { // For IE, it bubbles custom events event.stopImmediatePropagation() // for all other browsers that do not do that _kills[event.type] = true //console.log( '\\n\\tGestureEvent.stop() of type:', event.type ) } } /** @memberOf GestureEvent @method stop @param {event} event The event parameter from the event handler @desc Stops all future events of the type during the event loop, is a native equivilent to event.stopImmediatePropogation(). It does NOT remove any listeners, simply stops the event from bubbling up through the chain. @example Gesture.add ( parentDiv, GestureEvent.CLICK, handleParentClick ); function handleParentClick( event ) { // This will not be heard console.log( 'parent click heard' ) } Gesture.add ( childDiv, GestureEvent.CLICK, handleChildClick ); function handleChildClick( event ) { GestureEvent.stop ( event ) console.log( 'child click heard' ) } */ export const stop = stopBubble function isStopped(type) { return _kills[type] != undefined } export const stopped = isStopped // A flag for the start of the event loop through all bases export function startPoint() { if (!_eventLooping) { // the end of event loop has been reached, so reset things _eventLooping = true _kills = {} } } // A flag to reset any bubble killing export function endPoint() { _eventLooping = false } /** @memberOf GestureEvent @const {string} OVER @desc Represents a 'mouseover', fired on desktop cursor roll over @example GestureEvent.OVER */ export const OVER = 'mouseover' /** @memberOf GestureEvent @const {string} OUT @desc Represents a 'mouseout', fired on desktop cursor roll out @example GestureEvent.OUT */ export const OUT = 'mouseout' /** @memberOf GestureEvent @const {string} MOVE @desc Represents a 'mousemove', fired on desktop cursor move @example GestureEvent.MOVE */ export const MOVE = 'mousemove' /** @memberOf GestureEvent @const {string} PRESS @desc Represents an 'onPress', fired on mousedown / touch start @example GestureEvent.PRESS */ export const PRESS = 'onPress' /** @memberOf GestureEvent @const {string} RELEASE @desc Represents an 'onRelease', fired on mouseup / touch end @example GestureEvent.RELEASE */ export const RELEASE = 'onRelease' /** @memberOf GestureEvent @const {string} CLICK @desc Represents a 'click', fired on click / touch end @example GestureEvent.CLICK */ export const CLICK = 'onSelect' /** @memberOf GestureEvent @const {string} DRAG @desc Represents an 'onDrag', fired after an element is selected and before released. &lt;br&gt; Element data objects included: selection position, element position, velocity of move @example GestureEvent.DRAG */ export const DRAG = 'onDrag' /** @memberOf GestureEvent @const {string} DRAG_START @desc Represents an 'onDragStart', fired after an element is selected, when first moved and before released. &lt;br&gt; Element data objects included: selection position, element position @example Gesture.addEventListener ( myDiv, GestureEvent.DRAG_START, handleDragStart ); // function handleDragStart ( event ){ // coordinate position of mouse/touch console.log( event.position ); // coordinate position of target element console.log( event.element ); } */ export const DRAG_START = 'onDragStart' /** @memberOf GestureEvent @const {string} DRAG_STOP @desc Represents an 'onDragStop', fired after an element is selected, moved, then released. &lt;br&gt; Element data objects included: selection position, velocity of last move @example Gesture.addEventListener ( myDiv, GestureEvent.DRAG_STOP, handleDragStop ); // function handleDragStop ( event ){ // coordinate position of mouse/touch console.log( event.position ); // velocity, ie change in distance, of target element console.log( event.velocity ); } */ export const DRAG_STOP = 'onDragStop' /** @memberOf GestureEvent @const {string} SWIPE @desc Represents an 'onSwipe', fired just after a DRAG_STOP, but different event properties available. &lt;br&gt; Element data objects included: direction, distance, velocity @example Gesture.addEventListener ( myDiv, GestureEvent.SWIPE, handleSwipe ); // function handleSwipe ( event ){ // direction of swipe, as strings console.log( event.direction ); // distance covered from down to release console.log( event.distance ); // velocity, aka speed of swipe console.log( event.velocity ); } */ export const SWIPE = 'onSwipe' × Search results Close "},"ad-particles_lib_Graphic.js.html":{"id":"ad-particles_lib_Graphic.js.html","title":"Source: ad-particles/lib/Graphic.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-particles/lib/Graphic.js /** @npmpackage @module Graphic @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-particles&quot;&gt;ad-particles&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Graphic } from 'ad-particles' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; A simple, light weight class for rendering shapes and images on canvas element with assigned style to work with the particle system. Graphic.Shape is the parent class that remains netural to keep the flexiblity to create more classes based on needs in different projects. &lt;br&gt;&lt;br&gt; To keep it practical while maintaining it as light as possible, there are four classes currently available:&lt;br&gt; &lt;ul&gt; &lt;li&gt;Graphic.Image&lt;/li&gt; &lt;li&gt;Graphic.Sprite&lt;/li&gt; &lt;li&gt;Graphic.Circle&lt;/li&gt; &lt;li&gt;Graphic.Rect&lt;/li&gt; &lt;/ul&gt; */ import { MathUtils, ObjectUtils } from 'ad-utils' const Graphic = { DEFAULTSIZE: 10, DEFAULTSTYLE: { x: 0, y: 0, alpha: 1, scale: 1, rotation: 0, transformOrigin: { x: 0.5, y: 0.5 }, color: [255, 0, 0], strokeWidth: 0, strokeColor: 'rgba(0, 0, 0, 1)' } } /** @npmpackage @class Graphic.Shape @desc The parent class of other Graphic classes. It handles color, alpha, translation, rotation and scaling. */ Graphic.Shape = class { static getRGBA = function getRGBA(rgb, alpha) { const r = ~~MathUtils.restrict(rgb[0], 0, 255) const g = ~~MathUtils.restrict(rgb[1], 0, 255) const b = ~~MathUtils.restrict(rgb[2], 0, 255) const a = MathUtils.restrict(alpha, 0, 1) return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')' } constructor() { this.hasPath = true } render(ctx, style = {}, frameCount = 0) { style = ObjectUtils.defaults(style, this.style) style.scale = MathUtils.restrict(style.scale, 0, Infinity) style.alpha = MathUtils.restrict(style.alpha, 0, 1) const w = this.width * style.scale const h = this.height * style.scale style.color = Graphic.Shape.getRGBA(style.color, style.alpha) ctx.save() if (style.alpha &lt; 1 &amp;&amp; !this.hasPath) { ctx.globalAlpha = style.alpha } ctx.translate(w * -style.transformOrigin.x, h * -style.transformOrigin.y) if (style.rotation !== 0) { const tw = style.x + w * style.transformOrigin.x const th = style.y + h * style.transformOrigin.y ctx.translate(tw, th) ctx.rotate(MathUtils.toRadians(style.rotation)) ctx.translate(-tw, -th) } if (this.hasPath) { ctx.beginPath() } this.draw(ctx, style, w, h, frameCount) if (this.hasPath) { ctx.closePath() ctx.fillStyle = style.color ctx.fill() if (style.strokeWidth &gt; 0) { ctx.lineWidth = style.strokeWidth ctx.strokeStyle = style.strokeColor ctx.stroke() } } ctx.restore() } } /** @npmpackage @class Graphic.Image @desc A class for rendering images on canvas. The size parameter applys to width. The height is calculated base the the image width and height ratio and call draw method of the child class. */ Graphic.Image = class extends Graphic.Shape { constructor(image, size = image.width, style = {}) { super() this.hasPath = false this.image = image this.width = size this.height = this.width * (image.height / image.width) this.style = ObjectUtils.defaults(style, Graphic.DEFAULTSTYLE) } draw(ctx, style, w, h) { ctx.drawImage(this.image, style.x, style.y, w, h) } } /** @npmpackage @class Graphic.Circle @param {number} size diameter of the circle @param {object} style Default to {@link Graphic.DEFAULTSTYLE} @desc A class for rendering circles on canvas */ Graphic.Circle = class extends Graphic.Shape { constructor(size = Graphic.DEFAULTSIZE, style = {}) { super() this.width = size * 0.5 this.height = this.width this.style = ObjectUtils.defaults(style, Graphic.DEFAULTSTYLE) } draw(ctx, style, w) { ctx.arc(style.x + w * 0.5, style.y + w * 0.5, w, 0, Math.PI * 2) } } /** @npmpackage @class Graphic.Rect @param {number} width width of the rectangle @param {number} height height of the rectangle @param {object} style Default to {@link Graphic.DEFAULTSTYLE} @desc A class for rendering rectangles on canvas. */ Graphic.Rect = class extends Graphic.Shape { constructor(width = Graphic.DEFAULTSIZ, height = Graphic.DEFAULTSIZ, style = {}) { super() this.width = width this.height = height this.style = ObjectUtils.defaults(style, Graphic.DEFAULTSTYLE) } draw(ctx, style, w, h) { ctx.rect(style.x, style.y, w, h) } } /** @npmpackage @class Graphic.Sprite @param {Image} image image of the sprite sheet @param {number} size display width of per frame @param {object} style Default to {@link Graphic.DEFAULTSTYLE} @param {object} spriteSetting Object with the following properties: @property {number} frameWidth width of per frame @property {number} frameHeight height of per frame @property {number} frameNumber number of total frames @property {number} speed the speed of the animation @property {boolean} loop @desc A class for rendering spritesheet animation on canvas. */ Graphic.Sprite = class extends Graphic.Shape { constructor(image, size, style = {}, spriteSetting) { super() this.hasPath = false this.setting = spriteSetting this.image = image this.oriWidth = image.width this.oriHeight = image.height this.width = size || this.oriWidth this.height = this.width * (this.setting.frameWidth / this.setting.frameHeight) this.style = ObjectUtils.defaults(style, Graphic.DEFAULTSTYLE) this.frameLen = ~~(1 / this.setting.speed) this.colNumber = this.oriWidth / this.setting.frameWidth } draw(ctx, style, w, h, frameCount) { let frameIndex = ~~(frameCount / this.frameLen) if (this.setting.loop) { frameIndex = frameIndex % this.setting.frameNumber } else { const fn = this.setting.frameNumber - 1 frameIndex = frameIndex &gt; fn ? fn : frameIndex } const fw = this.setting.frameWidth const fh = this.setting.frameHeight const ratio = w / fw const sx = (frameIndex * this.setting.frameWidth) % this.oriWidth const sy = ~~(frameIndex / this.colNumber) * this.setting.frameHeight ctx.drawImage(this.image, sx, sy, fw, fh, style.x, style.y, fw * ratio, fh * ratio) } } export default Graphic × Search results Close "},"ad-control_lib_ImageManager.js.html":{"id":"ad-control_lib_ImageManager.js.html","title":"Source: ad-control/lib/ImageManager.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-control/lib/ImageManager.js /** @npmpackage @class ImageManager @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-control&quot;&gt;ad-control&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { ImageManager } from 'ad-control' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This module is used to add/load/manage all Images. */ import Loader, { LoaderUtils } from 'ad-load' let _pendingImages = [] let _pendingCanvasImages = [] let _pendingLoaders = [] let _nextLoadCallback = [] let _imageManagerLoader let _dict = {} let _isLoading = false let _loaderCount = 0 let _onComplete = function() {} let _onFail = function() {} /* ------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf ImageManager @method addToLoad @param {string} file A filename or path @param {object} arg Optional. Determines if the image should be loaded with a crossOrigin:'anonymous' for images used in a canvas. An object with one boolean key: forCanvas @desc Add an image file-path to be loaded. @example // Add an image from the &quot;images/&quot; folder ImageManager.addToLoad( adParams.imagesPath + 'sample.png' ); // Add an image full path, and get the result key back var sampleImageId = ImageManager.addToLoad( 'http://some/full/file/path/sample.png' ); // Add an image for use with CanvasDrawer, and get the result key back // NOTE: The object must be there or images will error when used in Canvas var sampleImageId = ImageManager.addToLoad( 'http://some/full/file/path/sample.png', { forCanvas:true }); @returns An &quot;imageId&quot; which can be used to get an image by its id, see: {@link ImageManager.get} */ export function addToLoad(file, arg) { var id = LoaderUtils.getFileName(file) if (!available(id, true)) { var forCanvas = arg &amp;&amp; arg.forCanvas == true //console.log( 'ImageManager.addToLoad(', id, ') forCanvas:', forCanvas ) forCanvas ? _pendingCanvasImages.push(file) : _pendingImages.push(file) } return id } /** @memberOf ImageManager @method addLoader @param {Loader} loader A {@link Loader}. @desc Add a Loader to loaded along with any other queued image requests. @example ImageManager.addLoader( new Loader( assets.images, { name: 'imageLocalLoader', prepend: adParams.imagesPath })); */ export function addLoader(loader) { _pendingLoaders.push(loader) } /** @memberOf ImageManager @method get @param {string} imageId A String id of an Image @desc Returns the &lt;&lt;b&gt;&lt;/b&gt;img&gt; that was created when the requested image was loaded in. @example ImageManager.get( 'sample' ); */ export function get(imageId) { if (_dict[imageId]) return _dict[imageId] else throw new Error(&quot;ImageManager : No image named '&quot; + imageId + &quot;' has been loaded&quot;) } /** @memberOf ImageManager @method available @param {string} imageId A String id of an Image @desc Returns a boolean stating if an image by the given imageID has been loaded @example ImageManager.available( 'sample' ); */ export function available(imageId, internal) { var exists = _dict[imageId] != undefined // if the image we are trying to load already exists if (exists) { // if this is an internal use - as in, called from I.addToLoad() or addToDictionary() if (internal) console.log( 'ImageManager.available() --&gt;', true, ': Duplicate Image Id &quot;' + imageId + '&quot;. One or more images loading in have the same name. Each Image needs a unique file name.' ) } else { // if the image doesn't already exist, we only want to know that if it is not from an internal ImageManager method // for example: checking to see if an image exists from build.js if (!internal) console.log('ImageManager.available() --&gt;', false, &quot;: No image named '&quot; + imageId + &quot;' has been loaded&quot;) } return exists } /** @memberOf ImageManager @method load @param {function} callback Callback to execute when all images are loaded. @param {function} onFail Optional onFail callback - if not specified a failed load will cause the ad to failover. @desc Executes load queue, which, on success, will yield all of the requested images available with {@link ImageManager.get} */ export function load(callback, onFail) { _onFail = onFail || global.failAd if (_isLoading) { // set up a wait for the first one to finish _nextLoadCallback.push(callback) } else { _imageManagerLoader = new Loader({ name: 'imageManagerLoader', onComplete: function(event) { _isLoading = false _addToDictionary(event.getAllContentRaw()) }, onFail: function(event) { _isLoading = false _onFail.call() } }) _onComplete = [].concat(callback) _nextLoadCallback = [] // extract out the images getting loaded, leaving I._pendingImages able to take more while loading var currentPendingImages = _pendingImages.slice() _pendingImages = [] _imageManagerLoader.add( new Loader(currentPendingImages, { name: 'dynamicImages-' + _loaderCount++, fileType: 'jpg' }) ) var currentPendingCanvasImages = _pendingCanvasImages.slice() _pendingCanvasImages = [] _imageManagerLoader.add( new Loader(currentPendingCanvasImages, { name: 'dynamicCanvasImages-' + _loaderCount++, fileType: 'jpg', crossOrigin: 'anonymous' }) ) var currentPendingLoaders = _pendingLoaders.slice() _pendingLoaders = [] for (var i = 0; i &lt; currentPendingLoaders.length; i++) { _imageManagerLoader.add(currentPendingLoaders[i]) } _isLoading = true _imageManagerLoader.load() } } export function addFbaImages(target) { if (target) _addToDictionary(target.getAllContentRaw()) } /* ------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function _addToDictionary(content) { for (var i = 0; i &lt; content.length; i++) { if (content[i] instanceof Image || content[i] instanceof SVGElement) { var img = content[i] if (!available(content[i].id, true)) _dict[img.id] = img } } console.log('ImageManager:', _dict) for (var i = 0; i &lt; _onComplete.length; i++) { _onComplete[i].call() } if (_nextLoadCallback.length &gt; 0) { load(_nextLoadCallback) } } × Search results Close "},"ad-utils_lib_ImageUtils.js.html":{"id":"ad-utils_lib_ImageUtils.js.html","title":"Source: ad-utils/lib/ImageUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/ImageUtils.js /** @npmpackage @class ImageUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { ImageUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object contains methods necessary for manipulating images. */ /** @memberOf ImageUtils @method fitImageAtCoordinate @param {element} source The div with a background image @param {number} originX The x position to center on @param {number} originY The y position to center on @desc Positions a background image to fit the div size while centering around a point. If the point is beyond the size bounds, it will align to that side. */ export function fitImageAtCoordinate(source, originX, originY) { var child = new Image() if (originX === undefined &amp;&amp; originY === undefined) { source.style.backgroundPosition = '50% 50%' } else { // make sure the image is loaded first child.onload = function() { var coord = { width: originX || 0, height: originY || 0 } var parent = { width: source.offsetWidth, height: source.offsetHeight } var parentAspectRatio = parent.width / parent.height var childAspectRatio = child.width / child.height if (parentAspectRatio &gt; childAspectRatio) { // child max fits in horizontal, move y fit('width', 'height') } else if (parentAspectRatio &lt; childAspectRatio) { // child max fits in vertical, move x fit('height', 'width') } function fit(a, b) { // child width is parent height times ratio of child width over child height // child height is parent width times ratio of child height over child width var childSize = parent[a] * (child[b] / child[a]) // parent to child scale ratio var scalePercent = parent[a] / child[a] // parent size, halfed then subtract the scaled coordinate point var childMove = parent[b] / 2 - coord[b] * scalePercent // make sure the image doesn't exceed the bounds var maxMove = parent[b] - childSize if (childMove &gt; 0) childMove = 0 else if (childMove &lt; maxMove) childMove = maxMove source.style.backgroundPosition = a === 'height' ? childMove + 'px 0px' : '0px ' + childMove + 'px' } } } child.src = source.style.backgroundImage.replace(/url\\((['&quot;])?(.*?)\\1\\)/gi, '$2').split(',')[0] source.style.backgroundSize = 'cover' source.style.backgroundRepeat = 'no-repeat' } × Search results Close "},"ad-load_index.js.html":{"id":"ad-load_index.js.html","title":"Source: ad-load/index.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-load/index.js /** @npmpackage @class Loader @param {string|array|Loader} arg load target @param {object} arg Object with any of the following optional parameters for customizing the load routine. @property {string} query @property {string} name @property {boolean} prioritize @property {boolean} cacheBuster @property {string} method &quot;POST&quot; or &quot;GET&quot; @property {object} scope @property {function} onComplete @property {function} onProgress @property {function} onFail @property {string} prepend A file path to be added to all loader targets. @property {function} platformGetUrl A callback method to wrap the url, such as DoubleClick's &lt;code&gt;Enabler.getUrl&lt;/code&gt;. @property {string} fileType Manually assign the file type, eg: &lt;code&gt;jpg&lt;/code&gt;, &lt;code&gt;svg&lt;/code&gt;. @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-load&quot;&gt;ad-load&lt;/a&gt; &lt;br&gt;&lt;br&gt; This class is designed to handle all load processes: images, fonts and data, even other Loaders! Below are multiple use case scenarios. &lt;br&gt;&lt;br&gt; &lt;b&gt;Single Load:&lt;/b&gt; &lt;codeblock&gt; var singleLoader = new Loader('images/img0.jpg', { onComplete:handleLoadComplete, scope:this }); singleLoader.load(); function handleLoadComplete( target ) { console.log( target.content[0].dataRaw ); } &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Array of loads from one Constructor:&lt;/b&gt; &lt;codeblock&gt; // Array load - you can pass in multiple files on creation of a Loader var arrayLoader = new Loader(['font1.ttf', 'font2.ttf'], { name:'fontLoader', onComplete:handleLoadComplete, prepend:adParams.commonPath + 'fonts/' }); arrayLoader.load(); function handleLoadComplete( target ) { console.log( target.content[0].dataRaw ); } &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Complex Load:&lt;/b&gt; &lt;codeblock&gt; var myLoader = new Loader('images/img0.jpg', { onComplete:handleLoadComplete, scope:this }); // append to that loader myLoader.add('images/img1.jpg'); // append multiple myLoader.add(['images/img2.jpg', 'images/img3.jpg']); myLoader.load(); function handleLoadComplete( target ) { console.log( target.content[0].dataRaw ); } &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Nested Loads:&lt;/b&gt; &lt;codeblock&gt; // Nested loads - best practice is to make a loader for one file type var masterLoader = new Loader({ name:'master', onComplete:handleAllComplete, onProgress:handleAllProgress, onFail:handleLoadFail, scope:this }); // declare a var to reference later, then add it to main loader var _imgLoader = new Loader( [ 'images/img2.jpg', 'images/img3.jpg' ], { name:'load_images', prepend:'images/' }); masterLoader.add( _imgLoader ); // or just add a new loader instance masterLoader.add( new Loader( [ 'font1.ttf', 'font2.ttf' ], { name:'load_fonts', prepend:adParams.commonPath + 'fonts/' }) ); masterLoader.add( new Loader( ['Ad_Data.js', 'NetUtils.js', 'Align.js', 'Analytics.js'], { name:'load_js', prepend:adParams.corePath + 'utils/' }) ); masterLoader.load(); function handleLoadComplete( target ) { console.log( target.content[0].dataRaw ); } function handleLoadProgress( target ) { console.log( target.progress, target.rawProgress ) } function handleLoadFail( target ) { console.log( target ); } function handleAllComplete( target ) { var a = target.getLoader( _imgLoader ) console.log( &quot;Loader found by var:&quot;, a ) var b = target.getContent( 'font1.ttf' ); console.log( &quot;Content found by name:&quot;, b ); var c = target.getLoader( 'load_fonts' ); console.log( &quot;Loader found by url:&quot;, c ); } &lt;/codeblock&gt; */ /* TODO - change getAllContent() to take secret boolean so can call getAllContentRaw(true) for no extra loop - ? comment out progress calculations */ import { mix } from './lib/mixin/MixinBuilder.js' import { LoaderBase } from './lib/mixin/LoaderBase.js' import * as Utils from './lib/mixin/LoaderUtils.js' import ImageLoader from './lib/single/ImageLoader.js' import InlineLoader from './lib/single/InlineLoader.js' import DataLoader from './lib/single/DataLoader.js' import FontLoader from './lib/single/FontLoader.js' class Blank {} export { Utils as LoaderUtils, ImageLoader, InlineLoader, DataLoader, FontLoader } export default class Loader extends mix(Blank).with(LoaderBase) { constructor(...args) { super(...args) let arg = arguments &amp;&amp; arguments.length &gt; 1 ? arguments[1] : arguments[0] || {} const L = this L._queue = {} L._total = 0 L._active = false L._startedCount = 0 L.prepend = arg.prepend || '' L.platformGetUrl = arg.platformGetUrl L.fileType = arg.fileType || null L.content = [] L.crossOrigin = arg.crossOrigin || undefined L.add(arguments[0]) } /* ---------------------------------------------------------------------------------------------------------------- */ // PUBLIC /** @memberOf Loader @method add @param {string|array|Loader} arg a file, array of files, or Loader instance @desc Add to the load queue: a single or array of files or even another Loader. @example // Single load var imgLoader = new Loader({ name:'img_loader' }); // add to that loader imgLoader.add('images/img1.jpg'); // add multiple imgLoader.add(['images/img2.jpg', 'images/img3.jpg']); // Nested loads - best practice is to make a loader for one file type var mainLoader = new Loader({ name:'main', onComplete:handleComplete }); mainLoader.add( imgLoader ); // or just add a new loader instance mainLoader.add( new Loader(['font1.ttf', 'font2.ttf'], { name:'load_fonts' }) ); */ add(arg) { const L = this if (typeof arg === 'string') { // single load as first parameter L._addSingleLoad(arg) } else if (arg instanceof Array) { // first parameter is an Array of urls for (var i = 0; i &lt; arg.length; i++) { L._addSingleLoad(arg[i]) } } else if (arg instanceof Loader) { if (arg.content &amp;&amp; arg.content[0] &amp;&amp; arg.content[0].fileType == 'fba') { L._addFbaSubLoads(arg.content[0]) } else { L._addSubLoad(arg) } } } /** @memberOf Loader @method load @desc Starts the load process. @example // Single load var imgLoader = new Loader({ onComplete:handleComplete }); imgLoader.load(); */ load() { const L = this L._active = true if (L._total &lt;= 0) { console.log('Loader &quot;' + L.name + '&quot; has NO assets to be loaded.') } else { let _has = false let _output = '' for (let l in L._queue) { if (!(L._queue[l] instanceof Loader)) { if (!_has) { _has = true _output += 'Loader &quot;' + L.name + '&quot; requesting:' } const fileName = L._queue[l].fileName const extension = L._queue[l].fileType const extensionIndex = fileName.indexOf('.' + extension) const fileAndExtension = extensionIndex &gt; -1 ? fileName : fileName + '.' + extension _output += '\\n\\t -&gt; ' + (L._queue[l].prepend || '') + fileAndExtension } } if (_has) console.log(_output) } L._startSingleLoad(0) } /** @memberOf Loader @method getAllContent @returns {array} An array of LoaderData Objects with relevant loading information (like an Event Object). Access the loaded content via the property 'dataRaw': an image, raw Json, raw XML, or font name @desc Get all loaded content from the Loader and all nested Loaders @example var myLoader = new Loader(['img1.jpg', 'img2.jpg', 'img3.jpg'], { onComplete:handleComplete }); myLoader.load(); function handleComplete( target ) { var myContent = target.getAllContent(); console.log( &quot;Content found:&quot;, myContent ); } */ getAllContent() { let _found = [] function searchSubLoader(content) { for (let i = 0; i &lt; content.length; i++) { //console.log( &quot; -&gt; sub:&quot;, content[i] ) if (content[i] instanceof Loader) { searchSubLoader(content[i].content) } else { _found.push(content[i]) } } } searchSubLoader(this.content) if (_found.length &lt; 1) console.log('No Content found') return _found } /** @memberOf Loader @method getAllContentRaw @returns {array} An array of only the raw data: an image, raw Json, raw XML, or font name @desc Get all raw loaded content from the Loader and all nested Loaders, no LoaderData Objects @example var myLoader = new Loader(['img1.jpg', 'img2.jpg', 'img3.jpg'], { onComplete:handleComplete }); myLoader.load(); function handleComplete( target ) { var myContent = target.getAllContentRaw(); console.log( &quot;Content found:&quot;, myContent ); } */ getAllContentRaw() { let _content = this.getAllContent() for (let i = 0; i &lt; _content.length; i++) { _content[i] = _content[i].dataRaw } return _content } /** @memberOf Loader @method getLoader @param {string} id the string optionally assigned to the 'name' property or the variable assigned to the Loader instance @returns {Loader} @desc Get the Loader instance from the Loader or any nested Loader @example var mainLoader = new Loader({ name:'main', onComplete:handleLoadComplete }); mainLoader.add( new Loader( [ 'font1.ttf', 'font2.ttf' ], { name:'load_fonts', prepend:adParams.commonPath + 'fonts/' }) ); mainLoader.add( new Loader( ['Ad_Data.js', 'NetUtils.js'], { name:'load_js', prepend:adParams.corePath + 'utils/' }) ); mainLoader.load(); function handleLoadComplete( target ) { var fontLoader = target.getLoader('load_fonts'); } */ getLoader(id) { let _found = null function searchSubLoader(content) { for (let i = 0; i &lt; content.length; i++) { //console.log( &quot; -&gt; sub:&quot;, content[i] ) if (content[i] instanceof Loader) { if (content[i] &amp;&amp; (content[i].name === id || content[i] === id)) { _found = content[i] } else { searchSubLoader(content[i].content) } } } } searchSubLoader(this.content) if (!_found) console.log('No Loader found of that name') return _found } /* ------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS _addSingleLoad(url, fbaOverwrite) { // console.log('_addSingleLoad()', url, fbaOverwrite) const L = this // fbaOverwrite is an array [ file name, file extension ] const fileType = fbaOverwrite ? fbaOverwrite[1] : L.fileType || Utils.getFileType(url) let loaderType // console.log('\\t fileType:', fileType) switch (fileType) { case 'jpg': case 'jpeg': case 'gif': case 'png': case 'svg': loaderType = ImageLoader break case 'ttf': case 'woff': loaderType = FontLoader break case 'json': case 'fba': case 'bin': case 'binary': case 'svg+xml': loaderType = DataLoader break default: loaderType = InlineLoader } // either the data as binary OR the file path and name const urlChoice = fbaOverwrite ? url : L.prepend + url // console.log('\\t url:', url, '| loaderType:', loaderType) var singleLoader = new loaderType(urlChoice, { scope: L, platformGetUrl: L.platformGetUrl, onComplete: L._handleSingleLoadComplete, onFail: L._handleFail, fileType: fileType, cacheBuster: L.cacheBuster, crossOrigin: L.crossOrigin }) // console.log('\\t singleLoader:', singleLoader) // from fba, the files are binary, so there is // no file name to reference so set it here if (fbaOverwrite) { singleLoader.fileName = fbaOverwrite[0] } singleLoader.queueIndex = L._total L._queue[L._total] = singleLoader L._total++ // console.log(L._total, L._queue) } _addSubLoad(loader) { const L = this //console.log(L.name, '_addSubLoad()') loader.onComplete = L._handleSingleLoadComplete.bind(L) loader.onProgress = L._handleProgress.bind(L) loader.onFail = L._handleFail //loader.platformGetUrl = L.platformGetUrl; loader.queueIndex = L._total L._queue[L._total] = loader L._total++ } _addFbaSubLoads(loader) { // console.log(&quot;_addFbaSubLoads()&quot;, loader) // Conversion between uint8s and uint32s. let uint8 = new Uint8Array(4) let uint32 = new Uint32Array(uint8.buffer) // start after = signature(8 bytes) + IHDR(25 bytes) + fbAc(16 bytes total, but only 11: size,type,content-1 ) let idx = 44 const chunkTotal = new Uint8Array(loader.dataRaw, idx, 1)[0] //console.log( 'number of images as chunks:', chunkTotal ) // skip over rest of fbAc chunk: count value byte + CRC 4 bytes idx += 5 for (let i = 0; i &lt; chunkTotal; i++) { // size, type, content, crc // get the size of next chunk as on UintArray let sizeOfChunk = new Uint8Array(loader.dataRaw, idx, 4) // Read the length of the current chunk, which is stored as a Uint32. // this one has to be a loop, as values get assigned to uint8, that changes buffer of uint32 // also, the values must be set reversed, henced the count down loop let up = 4 for (var k = 0; k &lt; 4; k++) { //console.log( k, up, sizeOfChunk[k] ) uint8[--up] = sizeOfChunk[k] } // all chunk data NOT including the type let length = uint32[0] idx += 7 // Get the chunk type in ASCII, only last character really matters let type = String.fromCharCode(new Uint8Array(loader.dataRaw, idx++, 1)) //console.log( '\\ttype:', type, '\\tlength:', length ) let fileNameLengthArray = new Uint8Array(loader.dataRaw, idx + 3, 1) let fileNameLength = fileNameLengthArray[0] || 0 // default to zero incase array fails? maybe unnecessary let nameBuffer = new Uint8Array(loader.dataRaw, idx + 4, fileNameLength) let fileName = String.fromCharCode.apply(String, nameBuffer) // first add to the file name length 4 bytes: file name length byte count fileNameLength += 4 // offset the array start and length by the file name length let chunkData = new Uint8Array(loader.dataRaw, idx + fileNameLength, length - fileNameLength) // NOTE: ArrayBuffer.slice() does not exist in IE10, so have to do it manually inline //var chunkData = new Uint8Array(chunk.buffer.slice(4)) // skip over the content AND skip over the CRC value by incrementing by 4 bytes idx += length + 4 let fileNameSplit = fileName.split('.') //var blobFileType = '';// 'application/octet-stream'; let blobFileType = type == 'f' ? 'application/x-font-ttf' : 'image/' + (fileNameSplit[1] == 'svg' ? 'svg+xml' : fileNameSplit[1]) let blob = new Blob([chunkData], { type: blobFileType }) let url = URL.createObjectURL(blob) // url will be ~ blob:32c3c7af-ef04-414f-a073-685602fe8a28 //console.log( fileNameSplit, blobFileType, url ) this._addSingleLoad(url, fileNameSplit) } } _startSingleLoad(i) { const L = this const _inst = L._queue[i] // console.log(L.name, '_startSingleLoad()', 'index:', i, 'total:', L._total) if (L._total == 0) { // fire a complete because there are no requests L._handleComplete() } else { if (i &lt; L._total) { // console.log( L.name, '_startSingleLoad() -&gt;', _inst ) if (!(_inst instanceof Loader)) { //console.log( _inst.name, 'is a subloader' ) //} else { if (i &lt; L._total - 1) { L._startLoadTimeOut(++i) } } _inst.load() } } } _startLoadTimeOut(i) { const L = this setTimeout(() =&gt; { L._startSingleLoad(i) }, 10) } /* ------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS _handleSingleLoadComplete(target) { const L = this // console.log(&quot;_handleSingleLoadComplete(), target:&quot;, target) L.content[target.queueIndex] = target delete L._queue[target.queueIndex] L._handleProgress() // is a nested Loader if (target.url == undefined) { //console.log( '&quot;' + L.name + '&quot; nested Loader &quot;' + target.name + '&quot; Complete' ); if (target.queueIndex &lt; L._total - 1) { L._startLoadTimeOut(target.queueIndex + 1) } } } _handleProgress() { const L = this const _length = L.content.length let _count = 0 for (let i = 0; i &lt; _length; i++) { if (L.content[i]) _count++ } // console.log(L.name, '_handleProgress()', '_count:', _count, 'total:', L._total) const _consecutive = _count let _subProgress = 0 if (_count &lt; L._total &amp;&amp; L._queue[_count]) { _subProgress = L._queue[_count].progress / L._total || 0 } L.progress = _consecutive / L._total + _subProgress L.rawProgress = _count / L._total + _subProgress L.onProgress.call(L.scope, L) //console.log( 'progress') if (_count &gt;= L._total) { //console.log( 'Loader calling _handleComplete()') L._handleComplete() } } _handleComplete() { const L = this // console.log('Loader &quot;' + L.name + '&quot; is Complete') L.onComplete.call(L.scope, L) } } × Search results Close "},"ad-utils_lib_LocationUtils.js.html":{"id":"ad-utils_lib_LocationUtils.js.html","title":"Source: ad-utils/lib/LocationUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/LocationUtils.js /** @npmpackage @class LocationUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { LocationUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object contains utilities for interfacing with the device's GPS. */ var LocationUtils = new function() { this.gpsSuccessCallback this.gpsFailCallback /** @memberOf LocationUtils @method getGPSData @param {function} callbackSuccess upon successful acquisition of device location, this funciton is called with global coordinates. @param {function} callbackFail called if the query fails @desc Queries the device for current location. Asyncronous and dependent on user permission, so callback functions must be used. */ this.getGPSData = function(callbackSuccess, callbackFail) { if (navigator.geolocation) { LocationUtils.gpsSuccessCallback = callbackSuccess LocationUtils.gpsFailCallback = callbackFail navigator.geolocation.getCurrentPosition(LocationUtils.onLocationRetrieved, LocationUtils.onLocationFailed) } else console.log('geolocation not available') } this.onLocationRetrieved = function(position) { LocationUtils.gpsSuccessCallback(position.coords) } this.onLocationFailed = function(error) { console.log('Error retrieving location data') switch (error.code) { case 0: console.log('0 - unknown error') break case 1: console.log('1 - permission denied') break case 2: console.log('2 - position unavailable (error response from locaton') break case 3: console.log('3 - timed out') break } if (LocationUtils.gpsFailCallback) LocationUtils.gpsFailCallback(error) } }() export default LocationUtils × Search results Close "},"ad-utils_lib_MathUtils.js.html":{"id":"ad-utils_lib_MathUtils.js.html","title":"Source: ad-utils/lib/MathUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/MathUtils.js /** @npmpackage @class MathUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { MathUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Common math utilities. */ /** @memberOf MathUtils @method toRadians @param {number} degree An angle value as a degree @desc Converts an angle value from Degrees to Radians. */ export function toRadians(degree) { return Math.PI / 180.0 * degree } /** @memberOf MathUtils @method toDegrees @param {number} radian An angle value as a radian @desc Converts an angle value from Radians to Degrees. */ export function toDegrees(radian) { return 180.0 / Math.PI * radian } /** @memberOf MathUtils @method random @param {number} a the first value to find between @param {number} b the second value to find between @param {number} increment optionaly set the increment of the random number. Defaults to 1 @desc Get a random number between a range of two values, with an option to return to a decimal place. ( Note that due to the inprecision of decimal number calculation in Javascript, you may not get a perfect result when your increment value is decimal, but the value will be close. A classic Javascript inpreciosn calculation example: 0.1 + 0.2 = 0.30000000000000004 ) @example MathUtils.random ( 1, 3, 1 ); // returns 1 or 2 or 3 MathUtils.random ( 1, 3, 0.5 ) // returns 1, 1.5, 2, 2.5 or 3 */ export function random(a, b, increment) { b = b || 0 increment = increment != undefined &amp;&amp; increment &gt; 0 ? increment : 1 var min = Math.min(a, b) var max = Math.max(a, b) min = Math.ceil(min / increment) * increment max = Math.floor(max / increment) * increment var _num = min + Math.floor(Math.random() * ((max - min + increment) / increment)) / (1 / increment) return _num } /** @memberOf MathUtils @method randomBoolean @param {number} weight change the outcome probabilty. Greater than .5 more likely true. Defaults to .5 @desc Randomly returns a true or false; */ export function randomBoolean(weight) { weight = weight || 0.5 return Math.random() &lt; weight } export function randomWeightedKey(obj) { var keys = [] var vals = [0] for (var param in obj) { keys.push(param) vals.push(obj[param] + (vals[vals.length - 1] || 0)) } //console.log( keys ) //console.log( vals ) var rand = Math.random().toFixed(2) * 100 for (var k = 0; k &lt; vals.length - 1; k++) { var isIn = inRange(rand, vals[k], vals[k + 1]) //console.log( '\\t', k, rand, vals[k], vals[k+1], isIn ) if (isIn) { // console.log( '\\t\\t', keys[k]) return keys[k] } } } /** @memberOf MathUtils @method rel @param {number} a0 the first value to find between @param {number} a1 the second value to find between @param {number} b0 the first value to use as relative to a0 @param {number} b1 the second value to use as relative to a1 @param {number} bX the value between b0 and b1 @desc Calculates a value between two numbers relative to a value between 2 other numbers. Returns The proportion between a0 and a1 relative to the bX proportion between b0 and b1 @example MathUtils.rel ( 0, 1, 10, 20, 15 ); // 0.5 MathUtils.rel ( 100, 300, 3, 5, 3.5 ); // 150 */ export function rel(a0, a1, b0, b1, bX) { return (bX - b0) / (b1 - b0) * (a1 - a0) + a0 } /** @memberOf MathUtils @method inRange @param {number} val the number to check @param {number} a the first value of the range @param {number} b the second value of the range @returns {boolean} @desc Checks if a value is in the range of two numbers. @example MathUtils.inRange ( 5, 1, 10 ); // true MathUtils.inRange ( -5, 1, 10 ); // false */ export function inRange(val, a, b) { var min = Math.min(a, b) var max = Math.max(a, b) return val &lt;= max &amp;&amp; val &gt;= min } /** @memberOf MathUtils @method isNumber @param {number} num the variable to check @desc Returns true if the passed var is a number. */ export function isNumber(num) { return !isNaN(num) } /** @memberOf MathUtils @method toNumber @param {string} str the variable to convert @desc Takes a numerical string and converts it to number type. */ export function toNumber(str) { return +str } /* --------------------------------------------------------------------------------- */ // DEV /** @memberOf MathUtils @method restrict @desc Restricts a value to with a range. */ export function restrict(num, min, max) { return Math.max(min, Math.min(max, num)) } /** @memberOf MathUtils @method getAnglePoint @returns {array} containing an [xValue, yValue] given x1, y1, distance from that starting coordinate, and angle (in *radians*) which the new point should be from the starting coordinate @desc Assumes original coordinate rotation is 0 radians */ export function getAnglePoint(x, y, distance, angle) { var x = x + Math.cos(angle) * distance var y = y + Math.sin(angle) * distance return [x, y] } /** @memberOf MathUtils @method getAngle @retuns {number} The angle (in *radians*) between two points given x1, y1, x2, y2 */ export function getAngle(x1, y1, x2, y2) { x2 = x2 || 0 y2 = y2 || 0 return Math.atan2(y2 - y1, x2 - x1) } /** @memberOf MathUtils @method getDistance @returns {number} The distance between two points given x1, y1, x2, y2 */ export function getDistance(x1, y1, x2, y2) { x2 = x2 || 0 y2 = y2 || 0 return Math.sqrt((y2 - y1) * (y2 - y1) + (x2 - x1) * (x2 - x1)) } × Search results Close "},"ad-geom_lib_Matrix2D.js.html":{"id":"ad-geom_lib_Matrix2D.js.html","title":"Source: ad-geom/lib/Matrix2D.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-geom/lib/Matrix2D.js /** @npmpackage @class Matrix2D @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-geom&quot;&gt;ad-geom&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Matrix2D } from 'ad-geom' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ // Version : Mar 17, 2015 2:15 PM /* * TODO - write Documentation * - convert to a, c, b, d, tx, ty ? * - inverse? */ var Matrix2D = function() { var M = this // initial set identity base matrix array to data M.identity = new Float32Array([1, 0, 0, 0, 1, 0]) M.data = new Float32Array(M.identity) } Matrix2D.prototype = { clear: function() { var M = this //console.log( M.data instanceof Float32Array ) //M.data.set ( M.identity ); M.data = new Float32Array(M.identity) }, rotate: function(radians) { var M = this // copy the identity to be modified var _m = new Float32Array(M.identity) var c = Math.cos(radians).toFixed(15) var s = Math.sin(radians).toFixed(15) _m[0] = c _m[1] = s _m[3] = -s _m[4] = c // cos(rad), sin(rad), 0, // -sin(rad), cos(rad), 0, // 0, 0, 1 M.multiply(_m, false) return M }, scale: function(x, y) { var M = this // copy the identity to be modified var _m = new Float32Array(M.identity) _m[0] = x _m[4] = y // x, 0, 0, // 0, y, 0, // 0, 0, 1 M.multiply(_m, false) return M }, skew: function(ax, ay) { var M = this // copy the identity to be modified var _m = new Float32Array(M.identity) _m[1] = Math.tan(ax) _m[3] = Math.tan(ay) // 1, tan(ax), 0, // tan(ay), 1, 0, // 0, 0, 1 M.multiply(_m) return M }, translate: function(x, y) { var M = this // copy the identity to be modified var _m = new Float32Array(M.identity) _m[2] = x || 0 _m[5] = y || 0 // 1, 0, x, // 0, 1, y, // 0, 0, 1 M.multiply(_m, true) return M }, multiply: function(m, invert) { var M = this // copy the current matrix data into '_c' var _copy = new Float32Array(M.data) // translate multiply needs to be inverted, where others do not var a = invert ? m : _copy var b = invert ? _copy : m for (var i = 0; i &lt; 6; i++) { var k = Math.floor(i / 3) * 3 var q = i % 3 //console.log( i, '-', a[_a], b[_b], a[_a+1], b[_b+3], a[_a+2], b[_b+6] ) M.data[i] = a[k] * b[q] + a[k + 1] * b[q + 3] } M.data[2] += a[2] M.data[5] += a[5] // a[0] * b[0] + a[1] * b[3] + a[2] * 0 // a[0] * b[1] + a[1] * b[4] + a[2] * 0 // a[0] * b[2] + a[1] * b[5] + a[2] * 1 // a[3] * b[0] + a[4] * b[3] + a[2] * 0 // a[3] * b[1] + a[4] * b[4] + a[2] * 0 // a[3] * b[2] + a[4] * b[5] + a[5] * 1 // 0 // 0 // 1 }, setFromCss: function(matrixString) { var cssMatrix = matrixString .match(/\\(([^\\)]+)\\)/)[1] .replace(/\\s/g, '') .split(',') .map(Number) this.data = [cssMatrix[0], cssMatrix[1], cssMatrix[4], cssMatrix[2], cssMatrix[3], cssMatrix[5]] }, getCss: function() { // a, c, tx // b, d, ty // 0, 0, 1 // matrix(a, c, b, d, tx, ty) var M = this return 'matrix(' + M.data[0] + ',' + M.data[1] + ',' + M.data[3] + ',' + M.data[4] + ',' + M.data[2] + ',' + M.data[5] + ')' } } //http://www.wikihow.com/Inverse-a-3X3-Matrix /*function getMatrixInverse (m){ var t = [ m[0], m[3], m[6], m[1], m[4], m[7], m[2], m[5], m[8] ]; // 0, 1, 2, // 3, 4, 5, // 6, 7, 8 // a, b, 0 // c, d, 0 // tx, ty, 1 console.log( m ); console.log( t ); [ m[4], -m[1], m[1] * m[5] - m[4] * m[2], -m[3], m[0], (m[0] * m[5] - m[3] * m[2]) * -1, 0, 0, m[0] * m[4] - m[3] * m[1] ] var d11 = m[4] var d12 = - m[1] var d13 = m[1] * m[5] - m[4] * m[2] var d21 = - m[3] var d22 = m[0] var d23 = (m[0] * m[5] - m[3] * m[2]) * -1 var d31 = 0 var d32 = 0 var d33 = m[0] * m[4] - m[3] * m[1] var d11 = t[4] var d12 = - t[3] var d13 = t[3] * t[7] - t[4] * t[6] var d21 = - t[1] var d22 = t[0] var d23 = (t[0] * t[7] - t[1] * t[6]) * -1 var d31 = 0 var d32 = 0 var d33 = t[0] * t[4] - t[1] * t[3] var d11 = t[4] * t[8] - t[5] * t[7] var d12 = (t[3] * t[8] - t[5] * t[6]) * -1 var d13 = t[3] * t[7] - t[4] * t[6] var d21 = (t[1] * t[8] - t[2] * t[7]) * -1 var d22 = t[0] * t[8] - t[2] * t[6] var d23 = (t[0] * t[7] - t[1] * t[6]) * -1 var d31 = t[1] * t[5] - t[2] * t[4] var d32 = (t[0] * t[5] - t[2] * t[3]) * -1 var d33 = t[0] * t[4] - t[1] * t[3] return [ d11, d12, d13, d21, d22, d23, d31, d32, d33 ]; }*/ export default Matrix2D × Search results Close "},"ad-geom_lib_Matrix3D.js.html":{"id":"ad-geom_lib_Matrix3D.js.html","title":"Source: ad-geom/lib/Matrix3D.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-geom/lib/Matrix3D.js /** @npmpackage @class Matrix3D @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-geom&quot;&gt;ad-geom&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Matrix3D } from 'ad-geom' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ var Matrix3D = function() { var M = this // initial set identity base matrix array to data M.identity = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]) M.data = new Float32Array(M.identity) } Matrix3D.prototype = { clear: function() { var M = this M.data.set(M.identity) }, rotateX: function(radians) { var M = this var c = Math.cos(radians).toFixed(15) var s = Math.sin(radians).toFixed(15) // copy the identity to be modified var _m = new Float32Array(M.identity) _m[5] = c _m[6] = s _m[9] = -s _m[10] = c // 1, 0, 0, 0, // 0, cos(rad), sin(rad), 0, // 0, -sin(rad), cos(rad), 0, // 0, 0, 0, 1 M.multiply(_m) return M }, rotateY: function(radians) { var M = this var c = Math.cos(radians).toFixed(15) var s = Math.sin(radians).toFixed(15) // copy the identity to be modified var _m = new Float32Array(M.identity) _m[0] = c _m[2] = -s _m[8] = s _m[10] = c // cos(rad), 0, -sin(rad), 0, // 0, 1, 0, 0, // sin(rad), 0, cos(rad), 0, // 0, 0, 0, 1 M.multiply(_m) return M }, rotateZ: function(radians) { var M = this var c = Math.cos(radians).toFixed(15) var s = Math.sin(radians).toFixed(15) // copy the identity to be modified var _m = new Float32Array(M.identity) _m[0] = c _m[1] = s _m[4] = -s _m[5] = c // cos(rad), sin(rad), 0, 0, // -sin(rad), cos(rad), 0, 0, // 0, 0, 1, 0, // 0, 0, 0, 1 M.multiply(_m) return M }, scale: function(x, y) { var M = this // copy the identity to be modified var _m = new Float32Array(M.identity) _m[0] = x _m[5] = y // x, 0, 0, 0, // 0, y, 0, 0, // 0, 0, 1, 0, // 0, 0, 0, 1 M.multiply(_m) return M }, skew: function(ax, ay) { var M = this // copy the identity to be modified var _m = new Float32Array(M.identity) _m[1] = Math.tan(ay) || 0 _m[4] = Math.tan(ax) || 0 // 1, tan(ay), 0, 0, // tan(ax), 1, 0, 0, // 0, 0, 1, 0, // 0, 0, 0, 1 console.log(_m[1], _m[4]) M.multiply(_m) return M }, translate: function(x, y, z) { var M = this // copy the identity to be modified var _m = new Float32Array(M.identity) _m[12] = x || 0 _m[13] = y || 0 _m[14] = z || 0 // 1, 0, 0, 0, // 0, 1, 0, 0, // 0, 0, 1, 0, // x, y, z, 1 M.multiply(_m) return this }, multiply: function(m) { var M = this // copy the current matrix data into '_c' var _c = new Float32Array(M.data) M.data[0] = _c[0] * m[0] + _c[1] * m[4] + _c[2] * m[8] M.data[1] = _c[0] * m[1] + _c[1] * m[5] + _c[2] * m[9] M.data[2] = _c[0] * m[2] + _c[1] * m[6] + _c[2] * m[10] M.data[3] = 0 M.data[4] = _c[4] * m[0] + _c[5] * m[4] + _c[6] * m[8] M.data[5] = _c[4] * m[1] + _c[5] * m[5] + _c[6] * m[9] M.data[6] = _c[4] * m[2] + _c[5] * m[6] + _c[6] * m[10] M.data[7] = 0 M.data[8] = _c[8] * m[0] + _c[9] * m[4] + _c[10] * m[8] M.data[9] = _c[8] * m[1] + _c[9] * m[5] + _c[10] * m[9] M.data[10] = _c[8] * m[2] + _c[9] * m[6] + _c[10] * m[10] M.data[11] = 0 M.data[12] = _c[12] * m[0] + _c[13] * m[4] + _c[14] * m[8] + m[12] M.data[13] = _c[12] * m[1] + _c[13] * m[5] + _c[14] * m[9] + m[13] M.data[14] = _c[12] * m[2] + _c[13] * m[6] + _c[14] * m[10] + m[14] M.data[15] = 1 }, getCss: function() { var M = this return ( 'matrix3d(' + M.data[0] + ',' + M.data[1] + ',' + M.data[2] + ', 0,' + M.data[4] + ',' + M.data[5] + ',' + M.data[6] + ', 0,' + M.data[8] + ',' + M.data[9] + ',' + M.data[10] + ', 0,' + M.data[12] + ',' + M.data[13] + ',' + M.data[14] + ', 1)' ) } } Matrix3D.cssToData = function(matrixString) { return matrixString .match(/\\(([^\\)]+)\\)/)[1] .replace(/\\s/g, '') .split(',') .map(Number) } export default Matrix3D × Search results Close "},"ad-video_lib_events_MediaEvent.js.html":{"id":"ad-video_lib_events_MediaEvent.js.html","title":"Source: ad-video/lib/events/MediaEvent.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/events/MediaEvent.js /** @class MediaEvent @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;Github repo&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { MediaEvent } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Constants for video and audio events. Meant to improve interface consistency. */ var MediaEvent = new function() { return { /** @memberof MediaEvent @const {string} AUTOPLAY */ AUTOPLAY: 'autoplay', /** @memberof MediaEvent @const {string} BUFFER */ BUFFER: 'waiting', /** @memberof MediaEvent @const {string} COMPLETE */ COMPLETE: 'complete', /** @memberof MediaEvent @const {string} FAIL */ FAIL: 'fail', /** @memberof MediaEvent @const {string} MUTE */ MUTE: 'mute', /** @memberof MediaEvent @const {string} PAUSE */ PAUSE: 'pause', /** @memberof MediaEvent @const {string} PLAY */ PLAY: 'play', /** @memberof MediaEvent @const {string} PROGRESS */ PROGRESS: 'progress', /** @memberof MediaEvent @const {string} READY */ READY: 'canplay', /** @memberof MediaEvent @const {string} STOP */ STOP: 'stop', /** @memberof MediaEvent @const {string} UNMUTE */ UNMUTE: 'unmute' } }() export default MediaEvent × Search results Close "},"ad-utils_lib_MonetUtils.js.html":{"id":"ad-utils_lib_MonetUtils.js.html","title":"Source: ad-utils/lib/MonetUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/MonetUtils.js /** @npmpackage @class MonetUtils @desc Monet utilities. &lt;br&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { MonetUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ class MonetUtils { static _data static _monetTypes = { text: 'text', number: 'value', image: 'url', video: 'url', url: 'url', bool: 'value' } static setData = function(integrator) { const M = this var promise = integrator.getMonetData() promise.then(function(data) { M._data = data }) return promise } static getDataByKey = function(key) { const M = this var output var outputType for (var type in M._monetTypes) { if (M._data.rootAssets[type + '.' + key]) { outputType = type output = M._data.rootAssets[type + '.' + key] break } } return output[M._monetTypes[outputType]] } } export default MonetUtils × Search results Close "},"ad-utils_lib_MotionUtils.js.html":{"id":"ad-utils_lib_MotionUtils.js.html","title":"Source: ad-utils/lib/MotionUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/MotionUtils.js /** @npmpackage @class MotionUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { MotionUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object is for accessing the mobile/tablet's accelerometer for tilt shifting values */ var MotionUtils = (function() { var ax = 0, ay = 0 var _zeroX = 0, _zeroY = 0, _isInit = true, _negX, _posX, _negY, _posY, _multi = 1, _callback /* ----------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf MotionUtils @method setSpeedLimits @param {number} negX minimum value returned when tilting left ( will be a negative number ) @param {number} posX maximum value returned when tilting right ( will be a positive number ) @param {number} negY minimum value returned when tilting backward ( will be a negative number ) @param {number} posY maximum value returned when tilting forward ( will be a positive number ) @desc Set the minimum and maximum values that can be returned */ function setSpeedLimits(negX, posX, negY, posY) { _negX = negX _posX = posX _negY = negY _posY = posY } /** @memberOf MotionUtils @method setSpeedMultiplier @param {number} multi a number to multiply the returned value by. Defaults to 1. @desc Set a percentage multiplier to amplify or minimize the returned value. */ function setSpeedMultiplier(multi) { _multi = multi &lt;= 0 ? 1 : multi } /** @memberOf MotionUtils @method activate @param {function} callback a passed in method that will be called every time a device movement is detected. @desc Starts the listening for a move of the device */ function activate(callback) { _callback = callback window.addEventListener('deviceorientation', onOrientation, false) } /** @memberOf MotionUtils @method deactivate @desc Stops the listening for a move of the device. */ function deactivate() { window.removeEventListener('deviceorientation', onOrientation, false) } /** @memberOf MotionUtils @method callibrate @desc Sets the relative zero position to the current orientation of the device. */ function callibrate() { _isInit = true } /* ----------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function onOrientation(e) { switch (window.orientation) { case -90: // Landscape, right-side down ay = e.gamma ax = -e.beta break case 90: // Landscape, left-side down ay = -e.gamma ax = e.beta break case 180: // Upside-down portrait ay = -e.beta ax = -e.gamma break default: // Portrait ay = e.beta ax = e.gamma } if (_isInit) { _zeroX = ax _zeroY = ay _isInit = false } ax -= _zeroX ay -= _zeroY ax *= _multi ay *= _multi if (_negX &amp;&amp; ax &lt; _negX) ax = _negX if (_posX &amp;&amp; ax &gt; _posX) ax = _posX if (_negY &amp;&amp; ay &lt; _negY) ay = _negY if (_posY &amp;&amp; ay &gt; _posY) ay = _posY _callback(ax, ay) } /* ----------------------------------------------------------------------------------------------- */ // PUBLIC ACCESS return { ax: ax, ay: ay, callibrate: callibrate, setSpeedLimits: setSpeedLimits, setSpeedMultiplier: setSpeedMultiplier, activate: activate, deactivate: deactivate } })() export default MotionUtils × Search results Close "},"ad-utils_lib_NetUtils.js.html":{"id":"ad-utils_lib_NetUtils.js.html","title":"Source: ad-utils/lib/NetUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/NetUtils.js /** @npmpackage @class NetUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { NetUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Utility functions that are common in making network requests. */ /** @memberOf NetUtils @method getQueryParameterBy @param {string} name the query string variable name @desc Analyses the URI query string and search for a key-value pair matching the requested var. */ export function getQueryParameterBy(name) { return global.queryParams[name] } × Search results Close "},"ad-utils_lib_ObjectUtils.js.html":{"id":"ad-utils_lib_ObjectUtils.js.html","title":"Source: ad-utils/lib/ObjectUtils.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-utils/lib/ObjectUtils.js /** @npmpackage @class ObjectUtils @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-utils&quot;&gt;ad-utils&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { ObjectUtils } from 'ad-utils' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Utilities for affecting objects. */ /** @memberOf ObjectUtils @name objectifier @property {function} objectifier.get {@link ObjectUtils.get} @property {function} objectifier.set {@link ObjectUtils.set} @desc This object is parent to a number of utility funcitons */ const objectifier = {} /** @memberOf ObjectUtils @method get @param {string} str a data string representing the key of desire property splited by dot. Array index is represented by number. For example, 'myObj.property1.0' means I'm pointing to the [0] element in my propperty1 array inside of myObj. @param {object} ctxObj the context object to find the property under, defaults to window @desc Gets a property with a nested property key string. &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE!!!&lt;/b&gt; This method is on the {@link ObjectUtils.objectifier} object! @example // let myObj = { prop1: [ 'a', 'b', 'c' ], prop2: { string: 'I am prop2', func: function() { alert( '!!' ); } } }; let val = ObjectUtils.objectifier.get( 'prop1.0', myObj ); // your val should be 'a' val = ObjectUtils.objectifier.get( 'prop2.string', myObj ); // your val should be 'I am prop2' */ objectifier.get = function(str, ctxObj = window) { const splits = objectifier._getSplits(str).splits return objectifier._getProperty(splits, ctxObj) } /** @memberOf ObjectUtils @method set @param {string} str a data string representing the key of desire property splited by dot. Array index is represented by number. For example, 'myObj.property1.0' means I'm pointing to the [0] element in my propperty1 array inside of myObj. @param {any} val the value to set for th property @param {object} ctxObj the context object to find the property under, defaults to window @desc Sets a property value with a nested property key string. &lt;br&gt;&lt;br&gt; &lt;b&gt;NOTE!!!&lt;/b&gt; This method is on the {@link ObjectUtils.objectifier} object! @example // let myObj = { prop1: [ 'a', 'b', 'c' ], prop2: { string: 'I am prop2' } }; ObjectUtils.objectifier.set( 'prop1.0', 123, myObj ); // myObj.prop1[0] is now 123 ObjectUtils.objectifier.set( 'prop2.string', 'hello', myObj ); // myObj.prop2.string is now 'hello' */ objectifier.set = function(str, val, ctxObj = window) { const splitData = objectifier._getSplits(str, true) const result = objectifier._getProperty(splitData.splits, ctxObj) result[splitData.lastKey] = val } // objectifier._getSplits and objectifier._getProperty are used internally for objectifier.get and objectifier.set objectifier._getSplits = function(str, popLast) { const splits = str.split('.') const lastKey = popLast ? splits.pop() : null return { splits: splits, lastKey: lastKey } } objectifier._getProperty = function(splits, obj = {}) { let result = obj let s for (let i = 0; result &amp;&amp; (s = splits[i]); i++) { result = s in result ? result[s] : undefined } return result } /** @memberOf ObjectUtils @method clone @param {object} obj object to clone @returns {object} cloned object @desc Get a clone of an object without reference. @example // let oldObj = { a: 1, b: 2 }; let newObj = ObjectUtils.clone( oldObj ); newObj.a = 'xyz'; // oldObj.a is still 1 */ export function clone(obj) { if (Object.prototype.toString.call(obj) !== '[object Object]') { return obj } let result = obj.constructor() for (let key in obj) { result[key] = clone(obj[key]) } return result } /** @memberOf ObjectUtils @method defaults @param {object} obj an object contains custom properties to overide default properties @param {object} defaultObj an object contains properties to default to @param {boolean} recursive flag for if the property check should be executed recursively otherwise it will just be one level @desc Get an object using an object as a default, when a property doesn't in the object, it takes it from the default object if it exists. It also checks nested objects. It is useful for setting up an object to store default values. @example // our default object as a base set up let defaultObj = { name: 'Person', weight: 0, age: 0, gender: 'male', locationDetail: { state: 'CA', city: 'Los Angeles' } }; // the custom object let customObj = { name: 'Bob', weight: 140, age: 30, locationDetail: { city: 'Santa Monica', street: 'Ocean Park' } }; let result = ObjectUtils.defaults( customObj, defaultObj, true ); // your result object should look like { name: 'Bob', weight: 140, age: 30, gender: 'male', locationDetail: { state: 'CA', city: 'Santa Monica', street: 'Ocean Park' } } //if not recursive let result = ObjectUtils.defaults( customObj, defaultObj, false ); // your result object should look like ( notice that it takes the whole locationDetail object ) { name: 'Bob', weight: 140, age: 30, gender: 'male', locationDetail: { city: 'Santa Monica', street: 'Ocean Park' } } */ function defaults(obj = {}, defaultObj, recursive) { let result = clone(obj) for (let key in defaultObj) { let item = defaultObj[key] if (result[key] === undefined) { result[key] = defaultObj[key] } else if (recursive) { if (Object.prototype.toString.call(item) === '[object Object]') { result[key] = defaults(result[key], item, recursive) } } } return result } export { defaults, objectifier } × Search results Close "},"ad-geom_lib_ParentTransform.js.html":{"id":"ad-geom_lib_ParentTransform.js.html","title":"Source: ad-geom/lib/ParentTransform.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-geom/lib/ParentTransform.js /** @npmpackage @class ParentTransform @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-geom&quot;&gt;ad-geom&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { ParentTransform } from 'ad-geom' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ // pseudo? // TODO - change order of translations, possible seperate methods that have indexes which can be a re-orderable aray // - convert to prototype pattern for multiple instances? import Matrix2D from './Matrix2D' import { MathUtils } from 'ad-utils' var ParentTransform = function(arg) { var self = this arg = arg || {} /* --------------------------------------------------------------------------- */ // PUBLIC / PASSED-IN VARIABLES ;(self.rotation = arg.rotation || 0), // in degrees, gets converted to radians before passing to Matrix2D (self.x = arg.x || 0), (self.y = arg.y || 0), (self.scaleX = arg.scaleX || 1), (self.scaleY = arg.scaleY || 1), (self.originX = arg.originX || 0), (self.originY = arg.originY || 0) self.points = arg.points || [] /* --------------------------------------------------------------------------- */ // PUBLIC self.calculatedPoints = [] /* --------------------------------------------------------------------------- */ // PRIVATE VARIABLES var _matrix = new Matrix2D() console.log(_matrix) /* --------------------------------------------------------------------------- */ // PUBLIC METHODS self.addPoint = function(toAdd) { self.points.push(toAdd) } self.addPoints = function(toAdd) { self.points = self.points.concate(toAdd) } self.update = function(callback) { _matrix.clear() _matrix.translate(self.x, self.y) _matrix.scale(self.scaleX, self.scaleY) _matrix.rotate(MathUtils.toRadians(self.rotation)) self.calculatedPoints = [] for (var i = 0; i &lt; this.points.length; i++) { var newPt = transformPoint(self.points[i]) self.calculatedPoints.push(newPt) } if (callback) callback(self.calculatedPoints) return self.calculatedPoints } /* --------------------------------------------------------------------------- */ // PRIVATE METHODS function transformPoint(point) { /*console.log( &quot;x:&quot;, x, &quot;y:&quot;, y ) console.log( &quot;------------------------&quot;) console.log( mtx[0], mtx[1], mtx[2] ); console.log( mtx[3], mtx[4], mtx[5] ); console.log( 0, 0, 1 ); console.log( &quot;------------------------&quot;) */ var _offSetX = point[0] - self.originX var _offSetY = point[1] - self.originY var _newX = _offSetX * _matrix.data[0] + _offSetY * _matrix.data[3] + _matrix.data[2] var _newY = _offSetX * _matrix.data[1] + _offSetY * _matrix.data[4] + _matrix.data[5] _newX += self.originX _newY += self.originY return [_newX, _newY] } } export default ParentTransform × Search results Close "},"ad-particles_lib_Particle.js.html":{"id":"ad-particles_lib_Particle.js.html","title":"Source: ad-particles/lib/Particle.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-particles/lib/Particle.js /** @npmpackage @class Particle @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-particles&quot;&gt;ad-particles&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Particle } from 'ad-particles' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This Particle class is used along with {@link ParticleModel} and {@link Emitter} class. */ import { Vector2D, SimpleNoise2D } from 'ad-geom' import ParticleModel from './ParticleModel' import ParticlesUtils from './ParticlesUtils' var Particle = function(ctx, model, fps) { var self = this //set up properties self.fps = fps self.graphic = model.graphic self.properties = model.generateIndividualProperties() self.frameCount = 0 self.ctx = ctx self._lifeSpanFrameCount = ParticlesUtils.secToFrameCount(self.properties.lifeSpan, self.fps) self._force = new Vector2D(0, 0) self._hasAnimation = function() { var ani = self.properties.animations var i for (var key in ani) { if (ani[key].steps.length &gt; 0) { return true } } return false }.bind(self)() self._hasTurbulence = function() { var t = self.properties.turbulence return t.rate !== 0 &amp;&amp; t.x !== 0 &amp;&amp; t.y !== 0 }.bind(self)() } Particle.prototype = { /** @memberof Particle @method update @desc Updates the properties of the particle */ update: function() { var p = this.properties var vel = p.velocity.clone() p.velocity.mult(1 + p.acceleration) p.velocity.add(this._force) p.velocity.limit(p.maxSpeed) p.location.add(p.velocity) this._force.mult(0) if (this._hasTurbulence) { if (!this.noiseStart) { this.noiseStart = new Vector2D.random() this.noiseStart.mult(250) } var t = p.turbulence this.noiseStart.add(new Vector2D(t.rate, t.rate)) var n = SimpleNoise2D.get(this.noiseStart.x, this.noiseStart.y) p.location.x += n.x * t.xAmplitude p.location.y += n.y * t.yAmplitude } p.style.x = p.location.x p.style.y = p.location.y this.frameCount++ }, /** @memberof Particle @method getAnimationStyle @desc Update the animated style of a particle */ getAnimationStyle: function() { //TODO: optimize var p = this.properties var style = {} var sec = ParticlesUtils.frameCountToSec(this.frameCount, this.fps) var offsetStyle = ParticlesUtils.easyTween(p.animations, p.lifeSpan, sec) // apply to each key for (let key in p.style) { if (offsetStyle[key] !== undefined) { var val = p.style[key] * offsetStyle[key] style[key] = val } else { style[key] = p.style[key] } } return style }, /** @memberof Particle @method render @desc Renders the particle onto the canvas context. */ render: function() { var style = this._hasAnimation ? this.getAnimationStyle() : this.properties.style this.graphic.render(this.ctx, style, this.frameCount) }, /** @memberof Particle @method applyForce @desc Applies force to the particle. */ applyForce: function(f) { this._force.add(f) }, /** @memberof Particle @method isDead @returns {boolean} @desc Returns a boolean of is the particle is dead depending on two situations: &lt;br&gt; &lt;ol&gt; &lt;li&gt;if it has reaches its lifespan, or&lt;/li&gt; &lt;li&gt;if it is out of the canvas and if {@link EmitterData.killIfOutOfCanvas} is set to true&lt;/li&gt; &lt;/ol&gt; */ isDead: function(w, h, k) { var p = this.properties var remainingLife = this._lifeSpanFrameCount - this.frameCount if (remainingLife &lt;= 0) { return true } if (k) { var l = p.location var g = this.graphic var size = Math.max(g.width, g.height) * p.style.scale if (l.x - size &gt; w || l.y - size &gt; h || l.x + size &lt; 0 || l.y + size &lt; 0) { return true } } return false }, /** @memberof Particle @method checkWorld @param {array} w an array that contains left X, right X, top Y, bottom Y as values for the boundary @desc Remains the particle in the defined world boundaries by its body size and bounces it when it hits the boundaries. */ checkWorld: function(w) { var l = this.properties.location var r = this.properties.bodySize var x1 = w[0] + r var x2 = w[1] - r var y1 = w[2] + r var y2 = w[3] - r if (l.x &lt;= x1) { this._checkBorder('x', x1) } else if (l.x &gt;= x2) { this._checkBorder('x', x2) } if (l.y &lt;= y1) { this._checkBorder('y', y1) } else if (l.y &gt;= y2) { this._checkBorder('y', y2) } }, /** @memberof Particle @method _checkBorder @param {string} axis String 'x' or 'y' @param {number} val - the location of the border on the X or Y axis @desc Check it the particle location reaches the border, if ture, it bounces to it. */ _checkBorder: function(axis, val) { //axis: x or y var p = this.properties var v = p.velocity var b = p.bounceAmount if (axis === 'x') { v.x *= -b v.y *= b p.location.x = val } else { v.x *= b v.y *= -b p.location.y = val } } } export default Particle × Search results Close "},"ad-particles_lib_ParticleModel.js.html":{"id":"ad-particles_lib_ParticleModel.js.html","title":"Source: ad-particles/lib/ParticleModel.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-particles/lib/ParticleModel.js /** @npmpackage @class ParticleModel @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-particles&quot;&gt;ad-particles&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { ParticleModel } from 'ad-particles' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This ParticleModel class is used along with {@link Particle} and {@link Emitter} class. */ import { ObjectUtils } from 'ad-utils' import { Vector2D } from 'ad-geom' import ParticlesUtils from './ParticlesUtils' import Graphic from './Graphic' var particleId = 0 var ParticleModel = function(graphic, properties) { var self = this self.graphic = graphic self.originalProperties = properties || {} self.defaultProperties = {} self.properties = self.originalProperties // hold its own properties // but generate for partical to actually use self.setDefaultProperties = function(obj) { self.defaultProperties = obj self.properties = ObjectUtils.defaults(self.originalProperties, obj, true) } self.generateIndividualProperties = function() { var psu = ParticlesUtils var rn = function(obj) { return psu.randomNumInRange(obj.value, obj.range) } var p = self.properties var vel = Vector2D.degreeToVector(rn(p.velocityAngle)) var scale = rn(p.scale) var speed = rn(p.speed) var loc = psu.randomVectorInRange(p.origin.value, p.origin.range, p.origin.shape) var result = { id: particleId, lifeSpan: rn(p.lifeSpan), location: loc, velocity: vel.mult(speed), turbulence: p.turbulence, maxSpeed: p.maxSpeed, acceleration: p.acceleration, bounceAmount: p.bounceAmount, bodySize: self._getBodySize(scale), style: { x: location.x, y: location.y, alpha: rn(p.alpha), scale: scale, rotation: rn(p.rotation), transformOrigin: p.transformOrigin, color: ParticlesUtils.randomArrayInRange(p.color.value, p.color.range) }, animations: p.animations } particleId++ return result } self._getBodySize = function(scale) { if (self.properties.bodySize !== undefined) { return self.properties.bodySize * scale } if (self.graphic instanceof Graphic.Circle) { return self.graphic.width * scale } else { return Math.max(self.graphic.width, self.graphic.height) * scale * 0.5 } } } export default ParticleModel × Search results Close "},"ad-view_lib_Ratio.js.html":{"id":"ad-view_lib_Ratio.js.html","title":"Source: ad-view/lib/Ratio.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-view/lib/Ratio.js /** @npmpackage @class Ratio @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-view&quot;&gt;ad-view&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Ratio } from 'ad-view' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Utilities for different ratio layouts; used by {@link UIImage} and deprecated Flipbook. */ /** @memberof Ratio @const {string} EXACT 'auto' ~ Images display at the exact height and width of the source */ export const EXACT = 'auto' /** @memberof Ratio @const {string} FILL 'cover' ~ Scales the image to fill the target without distortion while maintaining aspect ratio, may cause a crop. */ export const FILL = 'cover' /** @memberof Ratio @const {string} FIT 'contain' ~ Scales to fit the full image without distortion while maintaining aspect ratio, may cause negative borders. */ export const FIT = 'contain' /** @memberof Ratio @const {string} STRETCH '100% 100%' ~ Images stretches to fill the target, may cause aspect ratio distortion. */ export const STRETCH = '100% 100%' export function resize(mode, source, target, returnObj) { mode = mode || EXACT returnObj || (returnObj = { width: 0, height: 0 }) if (mode == EXACT) { returnObj.width = source.width returnObj.height = source.height } else if (mode == STRETCH) { returnObj.width = target.width returnObj.height = target.height } else { var s = source.width / source.height var t = target.width / target.height var a = mode == FILL ? s : t var b = mode == FILL ? t : s if (a &lt; b) { returnObj.height = source.height / (source.width / target.width) returnObj.width = target.width } else { returnObj.width = source.width / (source.height / target.height) returnObj.height = target.height } } return returnObj } × Search results Close "},"ad-dates_lib_RecurringSchedule.js.html":{"id":"ad-dates_lib_RecurringSchedule.js.html","title":"Source: ad-dates/lib/RecurringSchedule.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-dates/lib/RecurringSchedule.js /** @npmpackage @class RecurringSchedule @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-dates&quot;&gt;ad-dates&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { RecurringSchedule } from 'ad-dates' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This class is for determining the next showtime for events that repeat on a weekly basis. For example, you have a tune-in that is every Friday at 6pm, and you want your date messaging to update dynamically. &lt;codeblock&gt; var schedule = new RecurringSchedule({ tuneins: [ { days: ['Friday'], startTime: '18:00', eventDuration : 60 } ] }); &lt;/codeblock&gt; &lt;br&gt; For more complex schedules( like sports tournaments ), a more complex model might look like this &lt;codeblock&gt; var schedule = new RecurringSchedule({ tuneins: [ { days: ['Friday','Saturday','Sunday'], startTime: '21:00', eventDuration : 60, timezone: 'US/Eastern' }, { days: ['Monday','Tuesday','Wednesday','Thursday'], startTime: '18:00', eventDuration : 75, timezone: 'US/Eastern' } ] }); &lt;/codeblock&gt; &lt;br&gt; Just like DateSchedule, this uses the standard schedule to create the date messaging, which is accessed with the same methods. &lt;codeblock&gt; schedule.print() schedule.currentSchedule.print() schedule.currentSchedule.target.print() console.log(schedule.current) schedule.currentDate.print() console.log(schedule.currentLabel) &lt;/codeblock&gt; */ import * as DateManager from './DateManager.js' import * as DateFormatter from './DateFormatter.js' import * as DateUtils from './DateUtils.js' import TzDate from './TzDate.js' import DateSchedule from './DateSchedule.js' var RecurringSchedule = function(dateModel) { var R = this var _schedule // --------------------------------------------------------------------------------------------------------------- // PUBLIC METHODS Object.defineProperties(R, { /** @memberOf RecurringSchedule @var {object} currentSchedule Getter : A DateSchedule is created for the current date, allowing for the standard messaging to be created @example mySchedule.currentSchedule.print() */ currentSchedule: { get: function() { var curStart = _schedule.current.date var current = new DateSchedule({ target: curStart, isStandard: true, eventDuration: curStart.eventDuration, callback: curStart.callback }) if (current.isComplete) { var nextStart = _schedule.next.date current = new DateSchedule({ target: nextStart, isStandard: true, eventDuration: nextStart.eventDuration, callback: nextStart.callback }) } return current } }, /** @memberOf RecurringSchedule @var {object} current Getter : An object of the current date, label and optional callback @example mySchedule.current.date mySchedule.current.label mySchedule.current.callback() */ current: { get: function() { return R.currentSchedule.current } }, /** @memberOf RecurringSchedule @var {TzDate} currentDate Getter : Is direct access to the current date, same as mySchedule.current.date @example mySchedule.currentDate */ currentDate: { get: function() { return R.current.date } }, /** @memberOf RecurringSchedule @var {String} currentLabel Getter : Is direct access to the current label, same as mySchedule.current.label @example mySchedule.currentLabel */ currentLabel: { get: function() { return R.current.label } } }) // --------------------------------------------------------------------------------------------------------------- // PUBLIC METHODS /** @memberOf RecurringSchedule @method print @desc Traces out all dates in order &lt;codeblock&gt; // called on Thursday 2017-06-01 14:08:00-07:00 mySchedule.print(); // DateSchedule.print(), length: 8 // - 0 Sat Jan 01 2000 00:00:00 UTC label: 1/1 12:00 am // - 1 Thu Jun 01 2017 18:00:00 US/Eastern label: undefined // - 2 Fri Jun 02 2017 21:00:00 US/Eastern label: undefined // - 3 Sat Jun 03 2017 21:00:00 US/Eastern label: undefined // - 4 Sun Jun 04 2017 21:00:00 US/Eastern label: undefined // - 5 Mon Jun 05 2017 18:00:00 US/Eastern label: undefined // - 6 Tue Jun 06 2017 18:00:00 US/Eastern label: undefined // - 7 Wed Jun 07 2017 18:00:00 US/Eastern label: undefined &lt;/codeblock&gt; */ R.print = function() { _schedule.print() } // --------------------------------------------------------------------------------------------------------------- // PRIVATE METHODS // loop all the events and create actual date objects representing the next show function parseModel() { var now = DateManager.getNow() var labels = DateFormatter.getLabels().WEEKDAYS_FULL _schedule = new DateSchedule() // tuneins array of objects var tuneins = dateModel.tuneins for (var k = 0; k &lt; tuneins.length; k++) { var tuneinObj = tuneins[k] var days = tuneinObj.days var dayOfWeek = now.getDay() // days array of strings for (var q = 0; q &lt; days.length; q++) { var dayLabel = days[q] var labelIndex = labels.indexOf(dayLabel) var dayShift = labelIndex - dayOfWeek var date = new TzDate({ datetime: [now.toDateTimeISO().split('T')[0] + 'T' + tuneinObj.startTime + ':00', tuneinObj.timezone] }) date = DateUtils.adjust(date, { day: dayShift }) if (DateUtils.isPast(date, now)) { // now check if it is past the duration var temp = DateUtils.adjust(date, { minute: tuneinObj.eventDuration }) if (DateUtils.isPast(temp, now)) { // if so, add a week to it date = DateUtils.adjust(date, { day: 7 }) } } date.eventDuration = tuneinObj.eventDuration date.callback = tuneinObj.callback console.log('\\t', date.print()) _schedule.addDate(date) //, '', tuneinObj.callback ); } } } // --------------------------------------------------------------------------------------------------------------- // INIT parseModel() } export default RecurringSchedule × Search results Close "},"ad-control_lib_SheetManager.js.html":{"id":"ad-control_lib_SheetManager.js.html","title":"Source: ad-control/lib/SheetManager.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-control/lib/SheetManager.js /** @npmpackage @class SheetManager @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-control&quot;&gt;ad-control&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { SheetManager } from 'ad-control' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Class manages the creation of &amp;lt;style&gt; tags and the addition/removal of classes. */ import { Markup } from 'ad-view' /** @memberOf SheetManager @method createGlobalNode @param {string} nodeId the id of the &amp;lt;style&gt; node written to the &amp;lt;head&gt; @param {string} styles selector/CSS string pair as separate parameters, following 'selector', 'css string' pattern, or a self-contained CSS style string including selectors, like '.myClass{ color: blue; }' @desc Create a new CSS node (class, tag, etc) DEFINITION with submitted styles with selector/CSS string pair or a self-contained CSS string including selectors. @example // selector/CSS string pair SheetManager.createGlobalNode ( 'myFirstStyle', '.class-a', 'position:absolute; width:inherit;' ) // or add multiple class declarations to the same node SheetManager.createGlobalNode ( 'mySecondStyle', '.class-b', 'position:absolute;', '.class-b-top', 'width:inherit; height:inherit;' ) // or have mulitple classes share the same logic SheetManager.createGlobalNode ( 'myThirdStyle', '.class-c, .class-d', 'position:absolute;' ) // add style to a tag globally SheetManager.createGlobalNode ( 'myFourthStyle', 'h1', 'position:absolute;' ) // self-contained CSS string var myCssString = '.myClass, h1 { color: blue; margin: 10px; }'; SheetManager.createGlobalNode( 'myFifthStyle', myCssString ); */ export function createGlobalNode(nodeId, styles) { if (document.getElementById(nodeId)) { return } var style = document.createElement('style') style.type = 'text/css' style.id = nodeId // if only two parameters, assuming styles is CSS string // else process as selector/style pair var str = arguments.length === 2 ? styles : '' if (arguments.length &gt; 2) { for (var i = 0; i &lt; arguments.length - 1; i += 2) { // strip out all the white space var names = arguments[i + 1].replace(/\\s*/g, '') str += names str += ' { ' + (arguments[i + 2] || '') + ' }\\n' } } style.innerHTML = str document.getElementsByTagName('head')[0].appendChild(style) } /** @memberOf SheetManager @method addClass @param {string|element} target id or element to which css style should be added @param {string} className css class association to be added to this target @desc Add a CSS class ASSOCIATION to the targeted element. */ export function addClass(target, className) { var element = Markup.getElement(target) // IE does not support multiple classes being added as arguments, so must loop for (var i = 0; i &lt; arguments.length - 1; i++) { element.classList.add(arguments[i + 1]) } } /** @memberOf SheetManager @method removeClass @param {string|element} target id or element from which css style should be removed @param {string} className css class association to be removed from this target @desc Removes a CSS class ASSOCIATION from the targeted element. */ export function removeClass(target, className) { var element = Markup.getElement(target) element.classList.remove(className) } × Search results Close "},"ad-geom_lib_SimpleNoise2D.js.html":{"id":"ad-geom_lib_SimpleNoise2D.js.html","title":"Source: ad-geom/lib/SimpleNoise2D.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-geom/lib/SimpleNoise2D.js /** @npmpackage @class SimpleNoise2D @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-geom&quot;&gt;ad-geom&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { SimpleNoise2D } from 'ad-geom' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; SimpleNoise2D is a workaround for creating 2D noise with lightweight code. It returns a {@link Vector2D} with x and y values between -0.5 - 0.5. For a more sophisticated purpose, please use Perline Noise https://github.com/josephg/noisejs */ import Vector2D from './Vector2D' class SimpleNoise2D { static rx = [] static ry = [] static MAX_VERTICES = 256 static MAX_VERTICES_MASK = 255 //SimpleNoise2D.MAX_VERTICES - 1 /** @memberOf SimpleNoise2D @method get @param {number} x number of location x of the desired noise value @param {number} y number of location y of the desired noise value @returns 2D Noise value in {@link Vector2D} @example var noiseVec = SimpleNoise2D.get( 0, 5 ); */ static get = (x, y) =&gt; { return new Vector2D(SimpleNoise2D._getVal('x', x), SimpleNoise2D._getVal('y', y)) } static _init = () =&gt; { for (let i = 0; i &lt; SimpleNoise2D.MAX_VERTICES; ++i) { if (i === SimpleNoise2D.MAX_VERTICES - 1) { SimpleNoise2D.rx.push(SimpleNoise2D.rx[0]) SimpleNoise2D.ry.push(SimpleNoise2D.ry[0]) } SimpleNoise2D.rx.push(Math.random() - 0.5) SimpleNoise2D.ry.push(Math.random() - 0.5) } } //a : min value, b: max value, t: step static _lerp = (a, b, t) =&gt; { return a * (1 - t) + b * t } static _getVal = (axis, index) =&gt; { if (SimpleNoise2D.rx.length == 0) SimpleNoise2D._init() const vals = axis === 'x' ? SimpleNoise2D.rx : SimpleNoise2D.ry index = index % SimpleNoise2D.MAX_VERTICES const t = index - ~~index const step = t * t * (3 - 2 * t) const min = ~~index &amp; SimpleNoise2D.MAX_VERTICES_MASK const max = (min + 1) &amp; SimpleNoise2D.MAX_VERTICES_MASK return SimpleNoise2D._lerp(vals[min], vals[max], step) } } export default SimpleNoise2D × Search results Close "},"ad-animation_lib_SpritePlayer.js.html":{"id":"ad-animation_lib_SpritePlayer.js.html","title":"Source: ad-animation/lib/SpritePlayer.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-animation/lib/SpritePlayer.js /** @npmpackage @class SpritePlayer @param {object} arg See the example below to see all of the properties of this object. @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-animation&quot;&gt;ad-animation&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { SpritePlayer } from 'ad-animation' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; SpritePlayer is an image sequence player. This can be used as a stand alone player or can be used with other systems such as {@link CanvasDrawer}. &lt;br&gt;&lt;br&gt; &lt;codeblock&gt; // Stand Alone Example: var myPlayer = new SpritePlayer ({ id : 'my-canvas', target : View.main, css : { x : 10, y : 15, width : 160, height : 160, backgroundColor : '#cccccc' }, source : 'star_160x160_16f', sprite : { x : 0, y : 0, frameWidth : 160, frameHeight : 160, frameNumber : 16, //transformOrigin: { x: 0.5, y: 0.5 } //scale : 2 }, //autoPlay : false, loop : 4, frame : 0, speed:22, //freeze : true, onComplete:function(){ FrameRate.unregister ( A, handleTick, 15 ) } }); &lt;/codeblock&gt; */ import { UICanvas } from 'ad-ui' import { Graphic } from 'ad-particles' import { FrameRate } from 'ad-events' import { ImageManager } from 'ad-control' import { Styles, Align } from 'ad-view' function SpritePlayer(arg) { /* ----------------------------------------------------------------------------------------------- */ // MARKUP var spriteStyle = { x: 0, y: 0, alpha: 1, scale: 1, rotation: 0, transformOrigin: { x: 0, y: 0 } } var spriteSetting = { frameWidth: 50, frameHeight: 50, frameNumber: 14, speed: 1 } for (var param in arg.sprite) { if (param in spriteStyle) { spriteStyle[param] = arg.sprite[param] } if (param in spriteSetting) { spriteSetting[param] = arg.sprite[param] } } var graphic = new Graphic.Sprite(ImageManager.get(arg.source), spriteSetting.frameWidth, spriteStyle, spriteSetting) if (arg.target instanceof HTMLCanvasElement) { // is a canvas already var S = arg.target } else { var canvasW = arg.css.width var canvasH = arg.css.height var align = arg.align delete arg.align arg.css.width = spriteSetting.frameWidth arg.css.height = spriteSetting.frameHeight var S = new UICanvas(arg) Styles.setCss(S, { width: canvasW, height: canvasH }) if (align) Align.set(S, align) } /* ----------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _isPlaying = false var _speed = arg.speed || 24 var _frame = 0 var _total = spriteSetting.frameNumber var _endFrame = _total - 1 var _loopTotal = Infinity var _loopCount = -1 var _iterate = false /* ----------------------------------------------------------------------------------------------- */ // PUBLIC PROPERTIES /** @memberOf SpritePlayer @var {function} onComplete @desc A callback for when the Sprite is finished. */ S.onComplete = arg.onComplete || function() {} /** @memberOf SpritePlayer @var {function} onComplete @desc A callback for when the Sprite loops. */ S.onLoop = arg.onLoop || function() {} /* ----------------------------------------------------------------------------------------------- */ // GETTER | SETTERS Object.defineProperties(S, { /** @memberOf SpritePlayer @var {Graphic.Sprite} sprite @desc Direct access to the sprite object, which is used to manipulate the drawing within the canvas. @example TweenLite.to ( myPlayer.sprite, 3, { x:180, y:240, alpha:.2, scale:1, rotation:270 }); */ sprite: { get: function() { return graphic.style } }, /** @memberOf SpritePlayer @var {boolean} loop @desc A boolean to toggle if the Sprite will continuously play. @example console.log( myPlayer.loop ); myPlayer.loop = true; */ loop: { get: function() { return graphic.setting.loop }, set: function(value) { var isLoop = value if (typeof value === 'boolean') { _loopTotal = Infinity } else { if (value == -1) { _loopTotal = Infinity } else { _loopTotal = value } isLoop = value != 0 } graphic.setting.loop = isLoop } }, /** @memberOf SpritePlayer @var {number} frame @desc A number representing the current frame displayed. @example console.log( myPlayer.frame ); myPlayer.frame = 7; */ frame: { get: function() { return _frame }, set: function(value) { _frame = value if (value &gt;= _total) { _frame = 0 } else if (value &lt; 0) { _frame = _total - 1 } S.render() } }, /** @memberOf SpritePlayer @var {number} endframe @desc A number representing the endframe. @example trace ( myPlayer.frame ); myPlayer.endFrame = 7; myPlayer.play() */ endFrame: { get: function() { return _endFrame }, set: function(value) { _endFrame = value if (value == -1) { _endFrame = _total - 1 } } }, /** @memberOf SpritePlayer @var {number} speed @desc A number representing the FrameRate, only applies when used as a stand alone player. @example console.log( myPlayer.speed ); myPlayer.speed = 18; */ speed: { get: function() { return _speed }, set: function(value) { S.pause() _speed = value S.play() } } }) /* ----------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf SpritePlayer @method play @desc Plays the current sprite sheet. @example myPlayer.play(); */ S.play = function() { if (!_isPlaying) { _iterate = false FrameRate.register(S, handleFrameRate, _speed) _isPlaying = true } } /** @memberOf SpritePlayer @method pause @desc Pauses the current sprite sheet. @example myPlayer.pause(); */ S.pause = function() { if (_isPlaying) { FrameRate.unregister(S, handleFrameRate, _speed) _isPlaying = false } } /** @memberOf SpritePlayer @method stop @desc Stops the sprite sheet and resets it to the beginning. @example myPlayer.stop(); */ S.stop = function() { _loopCount = 0 _frame = 0 S.pause() } S.clear = function() { S.context2d.clearRect(0, 0, S.width, S.height) } /** @memberOf SpritePlayer @method render @desc Render the current frame on to the canvas. @example myPlayer.render(); */ S.render = function() { // console.log( _frame ) graphic.render(S.context2d, {}, _frame) } /* ----------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function checkComplete() { if (_frame == _endFrame) { if (!S.loop || _loopCount &gt;= _loopTotal) { S.pause() S.onComplete.call(S) S.dispatchEvent(new CustomEvent('complete')) } } else if (_frame == 0) { _loopCount++ S.onLoop.call(S) S.dispatchEvent(new CustomEvent('loop')) } } /* ----------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleFrameRate(event) { S.clear() if (_iterate) S.frame++ S.render() checkComplete() _iterate = true } /* ----------------------------------------------------------------------------------------------- */ if (arg.frame &gt; -1) { S.frame = arg.frame || 0 } if (arg.endFrame &gt; -1 &amp;&amp; arg.endFrame &lt; _endFrame) { S.endFrame = arg.endFrame } S.loop = arg.loop if (arg.autoPlay) { S.play() } return S } export default SpritePlayer × Search results Close "},"ad-view_lib_Styles.js.html":{"id":"ad-view_lib_Styles.js.html","title":"Source: ad-view/lib/Styles.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-view/lib/Styles.js import * as Markup from './Markup' import { CssManager } from 'ad-control' /** @npmpackage @class Styles @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-view&quot;&gt;ad-view&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Styles } from 'ad-view' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Utilities for CSS style related purposes. */ /** @memberof Styles @method setCss @param {string|element} _target id or element to which the style(s) should be applied @param {string|object|array} args any type of CssDeclaration, an object of key-value pairs, a semicolon separated string of styles, or a separate( key, value )arguments @desc Sets specified styles on target object. @example // set multiple styles using a css-string Styles.setCss ( myDiv, 'top: 30px; left: 10px' ); // set multiple styles using a css-object, same as the 'css' property on {@link UIComponent}s Styles.setCss ( myDiv, { top:30, left:10 }); // set a single style, using individual( key, value )args Styles.setCss ( myDiv, 'top', 30 ); */ export function setCss(element, args) { element = Markup.get(element) var cssList = {} if (arguments.length &gt; 2) { for (var i = 1; i &lt; arguments.length; i += 2) { cssList = CssManager.conformCssKeyValue(arguments[i], arguments[i + 1]) } } else if (typeof arguments[1] == 'string') { cssList = CssManager.conformCssString(arguments[1], element) } else { cssList = CssManager.conformCssObject(arguments[1], element) } CssManager.apply(element, cssList) } /** @memberof Styles @method getCss @param {string|element} _target id or element to which css style should be applied @param {string} key css key @desc Gets a specific style for a particular key. */ export function getCss(element, key) { element = Markup.get(element) var cssValue if (key == 'x' || key == 'y') { var existingTransform = element.style[CssManager.getDeviceKey('transform')] var matrix = existingTransform.replace(/[\\s\\(\\)matrix]/g, '').split(',') cssValue = matrix.length &lt; 6 ? 0 : +matrix[key == 'x' ? 4 : 5] } else { var style = window.getComputedStyle(element, null) cssValue = style.getPropertyValue(key).replace(/px/, '') if (!isNaN(cssValue)) cssValue = parseInt(cssValue, 10) } return cssValue } /** @memberof Styles @method injectStylesheet @param {string} nodeId the id of the &amp;lt;style&gt; node written to the &amp;lt;head&gt; @param {string|object|array} styles any type of CssDeclaration: an object of key-value pairs, a semicolon separated string of styles, or a separate( key, value )arguments @desc Creates a new CSS stylesheet node (class, tag, etc) DEFINITION out of the submitted styles. @example // selector/CSS string pair Styles.injectStylesheet( 'myFirstStyle', '.class-a', 'position:absolute; width:inherit;' ) // selector/CSS string pair: add multiple class declarations to the same node Styles.injectStylesheet( 'mySecondStyle', '.class-b', 'position:absolute;', '.class-b-top', 'width:inherit; height:inherit;' ) // selector/CSS string pair: have mulitple classes share the same logic Styles.injectStylesheet( 'myThirdStyle', '.class-c, .class-d', 'position:absolute;' ) // selector/CSS string pair: add style to a tag name globally Styles.injectStylesheet( 'myFourthStyle', 'h1', 'position:absolute;' ) // self-contained CSS string var myCssString = '.myClass, h1 { color: blue; margin: 10px; }'; Styles.injectStylesheet( 'myFifthStyle', myCssString ); */ export function injectStylesheet(nodeId, styles) { if (document.getElementById(nodeId)) { return } var style = document.createElement('style') style.type = 'text/css' style.id = nodeId // if only two parameters, assuming styles is CSS string // else process as selector/style pair var str = arguments.length === 2 ? styles : '' if (arguments.length &gt; 2) { for (var i = 0; i &lt; arguments.length - 1; i += 2) { // strip out the white space after comma var names = arguments[i + 1].replace(/\\,\\s+/g, ',') str += names str += ' { ' + (arguments[i + 2] || '') + ' }\\n' } } style.innerHTML = str document.getElementsByTagName('head')[0].appendChild(style) } /** @memberof Styles @method addClass @param {string|element} target id or element to which css style should be added @param {string} className css class association to be added to this target @desc Add a CSS class ASSOCIATION to the targeted element. */ export function addClass(target, className) { var element = Markup.get(target) // IE does not support multiple classes being added as arguments, so must loop for (var i = 0; i &lt; arguments.length - 1; i++) { element.classList.add(arguments[i + 1]) } } /** @memberof Styles @method removeClass @param {string|element} target id or element from which css style should be removed @param {string} className css class association to be removed from this target @desc Removes a CSS class ASSOCIATION from the targeted element. */ export function removeClass(target, className) { var element = Markup.get(target) element.classList.remove(className) } × Search results Close "},"ad-ui_lib_TextFormat.js.html":{"id":"ad-ui_lib_TextFormat.js.html","title":"Source: ad-ui/lib/TextFormat.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/TextFormat.js /** @npmpackage @class TextFormat @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { TextFormat } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Custom constants to identify the layout type for a &lt;UITextField&gt;. Each type changes the format of how the text content is displayed and will run an internal auto size if applicable to the type. */ /** @memberOf TextFormat @const {string} INLINE @desc UITextField lays out the words inline with no word wrapping, which does not necessarily mean only 1 line. If html &amp;lt;br&gt; tags are used, they will be honored, but no autmatic line breaking happens. This does NOT auto size and will overflow horizontally and vertically depending on the width and height. &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/inline.png&quot; /&gt; @example TextFormat.INLINE */ export const INLINE = 'inline' /** @memberOf TextFormat @const {string} INLINE_CLAMP UITextField lays out the words inline with no word wrapping, which does not necessarily mean only 1 line. If html &amp;lt;br&gt; tags are used, they will be honored, but no autmatic line breaking happens. This does NOT auto size, however it changes the width AND height of the UITextField to clamp to the size of the content. &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/inline_clamp.png&quot; /&gt; @example TextFormat.INLINE_CLAMP */ export const INLINE_CLAMP = 'inlineClamp' /** @memberOf TextFormat @const {string} INLINE_FIT UITextField lays out the words inline with no word wrapping, which does not necessarily mean only 1 line. If html &amp;lt;br&gt; tags are used, they will be honored, but no autmatic line breaking happens. This DOES auto size and will shrink horizontally and vertically to fit inside the width and height. &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/inline_fit.png&quot; /&gt; @example TextFormat.INLINE_FIT */ export const INLINE_FIT = 'inlineFit' /** @memberOf TextFormat @const {string} INLINE_FIT_CLAMP This is a combination that applies TextFormat.INLINE_FIT followed by TextFormat.INLINE_CLAMP &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/inline_fit.png&quot; /&gt; &lt;br&gt; &lt;b&gt;would then become&lt;/b&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/inline_fit_clamp.png&quot; /&gt; @example TextFormat.INLINE_FIT_CLAMP */ export const INLINE_FIT_CLAMP = 'inlineFitClamp' /** @memberOf TextFormat @const {string} PARAGRAPH UITextField uses word wrapping to automatically break lines creating a paragraph layout. This does NOT auto size and will overflow vertically, just like a webpage. &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/paragraph.png&quot; /&gt; @example TextFormat.PARAGRAPH */ export const PARAGRAPH = 'paragraph' /** @memberOf TextFormat @const {string} PARAGRAPH_CLAMP UITextField uses word wrapping to automatically break lines creating a paragraph layout. This does NOT auto size and will overflow vertically, just like a webpage. However, while maintaining the defined width, it changes the height of the UITextField to clamp to the size of the content. &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/paragraph_clamp.png&quot; /&gt; @example TextFormat.PARAGRAPH_CLAMP */ export const PARAGRAPH_CLAMP = 'paragraphClamp' /** @memberOf TextFormat @const {string} PARAGRAPH_FIT UITextField uses word wrapping to automatically break lines creating a paragraph layout. This DOES auto size and will shrink the entire chunk to fit inside the width and height. &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/paragraph_fit.png&quot; /&gt; @example TextFormat.PARAGRAPH_FIT */ export const PARAGRAPH_FIT = 'paragraphFit' /** @memberOf TextFormat @const {string} PARAGRAPH_FIT_CLAMP This is a combination that applies TextFormat.PARAGRAPH_FIT followed by TextFormat.PARAGRAPH_CLAMP &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/paragraph_fit.png&quot; /&gt; &lt;br&gt; &lt;b&gt;would then become&lt;/b&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/textformat/paragraph_fit_clamp.png&quot; /&gt; @example TextFormat.PARAGRAPH_FIT_CLAMP */ export const PARAGRAPH_FIT_CLAMP = 'paragraphFitClamp' × Search results Close "},"ad-ui_lib_TextSplitType.js.html":{"id":"ad-ui_lib_TextSplitType.js.html","title":"Source: ad-ui/lib/TextSplitType.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/TextSplitType.js /** @npmpackage @class TextSplitType @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { TextSplitType } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Constants defining how a {@link UISplitText} should break apart the textfields */ /** @memberof TextSplitType @const {string} LINES Limits the splitting of a {@link UISplitText} to line and words only &lt;br&gt;&lt;br&gt; Functionally identical to TextSplitType.WORDS @example TextSplitType.LINES */ export const LINES = 'lines' /** @memberof TextSplitType @const {string} WORDS Limits the splitting of a {@link UISplitText} to line and words only &lt;br&gt;&lt;br&gt; Functionally identical to TextSplitType.LINES @example TextSplitType.WORDS */ export const WORDS = 'words' /** @memberof TextSplitType @const {string} CHARACTERS Limits the splitting of a {@link UISplitText} to lines, words, and also characters @example TextSplitType.CHARACTERS */ export const CHARACTERS = 'characters' × Search results Close "},"ad-dates_lib_Timezone.js.html":{"id":"ad-dates_lib_Timezone.js.html","title":"Source: ad-dates/lib/Timezone.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-dates/lib/Timezone.js /** @npmpackage @class Timezone @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-dates&quot;&gt;ad-dates&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Timezone } from 'ad-dates' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This class provides methods for accessing Timezone offsets, used by the TzDate class. &lt;br&gt;&lt;br&gt; &lt;b&gt;Explicitly covered Timezones:&lt;/b&gt;&lt;br&gt; &lt;table&gt; &lt;tr&gt;&lt;td&gt;US/Eastern&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;US/Central&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;US/Mountain&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;US/Pacific&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;US/Alaska&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;US/Arizona&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;US/Hawaii&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;Australia/Brisbane&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;Australia/Sydney&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;America/Mexico_City&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;America/Bogota&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;America/Argentina/Buenos_Aires&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; */ import * as DateManager from './DateManager.js' import * as DateUtils from './DateUtils.js' import { TextUtils } from 'ad-utils' const dict = { 'US/Eastern': 'et,edt,est|-4,-5', 'US/Central': 'ct,cdt,cst|-5,-6', 'US/Mountain': 'mt,mdt,mst|-6,-7', 'US/Pacific': 'pt,pdt,pst|-7,-8', 'US/Alaska': 'akt,akdt,akst|-8,-9', 'US/Arizona': 'az|-7', 'US/Hawaii': 'hast|-10', 'Australia/Brisbane': 'aest|10', 'Australia/Sydney': 'aedt,aest|10,11', 'America/Mexico_City': 'mx|-5,-6', 'America/Bogota': 'cot|-5', 'America/Argentina/Buenos_Aires': 'art|-3' } const dlsStart = 2018 const dls = { // months|left days|right days // US: '03-11,11-04', // 2018 - 03-11,11-04 // 2019 - 03-10,11-03 // 2020 - 03-08,11-01 // 2021 - 03-14,11-07 // 2022 - 03-13,11-06 // 2023 - 03-12,11-05 // 2024 - 03-10,11-03 // 2025 - 03-09,11-02 US: '3,11|11,10,8,14,13,12,10,9|4,3,1,7,6,5,3,2', // Australia: '04-01,10-07', // 2018 - 04-01,10-07 // 2019 - 04-07,10-06 // 2020 - 04-05,10-04 // 2021 - 04-04,10-03 // 2022 - 04-03,10-02 // 2023 - 04-02,10-01 // 2024 - 04-07,10-06 // 2025 - 04-06,10-05 Australia: '4,10|1,7,5,4,3,2,7,6|7,6,4,3,2,1,6,5', // Mexico_City: '04-01,10-28' // 2018 - 04-01,10-28 // 2019 - 04-07,10-27 // 2020 - 04-05,10-25 // 2021 - 04-04,10-31 // 2022 - 04-03,10-30 // 2023 - 04-02,10-29 // 2024 - 04-07,10-27 // 2025 - 04-06,10-26 Mexico_City: '4,10|1,7,5,4,3,2,7,6|28,27,25,31,30,29,27,26' } let _local let _tzDiff = [0, 0, 0] // used in DateSchedule for shifting upcoming dates export function getTzDiff() { return _tzDiff } export function setLocal(val) { // console.log('setLocal()') _local = get(val) // get that timezone for the tz offset let tz = _local.value let tzOff = new Date().getTimezoneOffset() let hr = Math.floor(tzOff / 60) let min = tzOff % 60 let valHr = Math.floor(tz) let valMin = (tz % 1) * 60 let adjHr = -(valHr + hr) let adjMin = -(valMin + min) if (tz == 0) { offset = 0 //UTC } else if (tz &gt; 0) { // acounts for time in the future from UTC adjHr = 24 + adjHr } // console.console.log( 'hr:', hr, 'min:', min, '| adjHr:', adjHr, 'adjMin:', adjMin, '|val:', val ) _tzDiff[0] = adjHr _tzDiff[1] = adjMin console.log('Timezone.setLocal() -&gt;', _local, val, tz, _tzDiff) } /** @memberOf Timezone @method get @property {object|string} timezone The timezone constant, label or value of the Timezone object desired. @returns {string} @desc Returns an object with the timezone's label and value */ export function get(timezone, context) { // console.log(Array(80).join('~'), '\\n~~| Timezone |~~:', 'get()', timezone, context) let choice = timezone if (timezone == 'local' || timezone == undefined) { // check for the timezone being set externally from DateManager if (_local) { // console.log('\\t if _local:', _local) choice = typeof _local == 'string' ? _local : _local.label } else { choice = getTrueLocal(context) } } else if (timezone == 'UTC' || timezone.label == 'UTC' || timezone == 'utc') { // console.log('return UTC\\n', Array(80).join('`')) return { label: 'UTC', abbr: ['utc'], value: 0 } } else if (timezone == 'trueLocal') { choice = getTrueLocal(context) // console.log('\\t else if trueLocal:', choice) } // then check if a string abbr is provided first if (typeof choice == 'string') { if (choice.length &lt; 5) { let choiceAbbr = getByAbbr(choice) // console.log('\\t\\t choiceAbbr:', choiceAbbr) if (choiceAbbr) { choice = choiceAbbr } } } else { choice = timezone.label } // console.log('\\t choice:', choice) let output = {} // proeceed with dictionary lookup let tzDataRaw = dict[choice] // console.log('\\t tzDataRaw:', tzDataRaw) if (tzDataRaw) { const tzDataSplit = tzDataRaw.split('|') // console.log('\\t tzDataSplit:', tzDataSplit) output.label = choice output.abbr = tzDataSplit[0].split(',') const dlsSplit = tzDataSplit[1].split(',') //console.log('\\t dlsSplit:', dlsSplit) // check if it has 2 values if (dlsSplit.length &gt; 1) { //console.log('\\t\\t dlsSplit.length &gt; 1') let now = context || new Date() let year = now.getFullYear() // check for past dates, specifically for DateSchedule if (year &lt; 2018) year = 2018 let labelSplit = choice.split('/') // console.log('\\t\\t labelSplit:', labelSplit, '| year:', year) let dataDls = getDLS(labelSplit[0], year) // console.log('\\t\\t dataDls:', dataDls) // check here if the dls key is not found on the first value, i.e. Mexico_City if (!dataDls) { // dataDls = dls[labelSplit[1]] dataDls = getDLS(labelSplit[1], year) if (!dataDls) { // no dls found, throw error? } } //console.log('\\t\\t -&gt; dataDls:', dataDls) let dateSplit = dataDls.split(',') // console.log('\\t\\t dateSplit:', dateSplit) let first = new Date(year + '-' + dateSplit[0] + 'T03:00:00' + toISO(dlsSplit[1])) //+11:00') let second = new Date(year + '-' + dateSplit[1] + 'T03:00:00' + toISO(dlsSplit[0])) //+10:00') let nowAdj = DateUtils.adjust(now, { hour: dlsSplit[0] }) // console.log('\\t\\t now:', now) // console.log('\\t\\t UTC month:', now.getUTCMonth() + 1) // console.log('\\t\\t UTC date:', now.getUTCDate()) // console.log('\\t\\t UTC hours:', now.getUTCHours()) // console.log('\\t\\t nowAdj:', nowAdj) // console.log('\\t\\t UTC month:', nowAdj.getUTCMonth() + 1) // console.log('\\t\\t UTC date:', nowAdj.getUTCDate()) // console.log('\\t\\t UTC hours:', nowAdj.getUTCHours()) // console.log('\\t\\t first:', first) // console.log('\\t\\t second:', second) let isBetween = now.getTime() &gt; first.getTime() &amp;&amp; now.getTime() &lt; second.getTime() let tzIndex = isBetween ? 0 : 1 // console.log('\\t\\t tzIndex:', tzIndex) output.value = dlsSplit[tzIndex] } else { output.value = dlsSplit[0] } } else { // determine based on machine info output.label = choice output.abbr = [choice.toLowerCase()] output.value = -(new Date().getTimezoneOffset() / 60) } // console.log('\\t output:', output) // console.log('return output\\n', Array(80).join('`')) return output } export function toISO(timezone) { const num = isNaN(timezone) ? timezone.value : timezone let hours = num &gt; 0 ? Math.floor(num) : Math.ceil(num) let minutes = (num % 1) * 60 minutes = num &gt; 0 ? Math.floor(minutes) : Math.ceil(minutes) const operator = num &lt; 0 ? '-' : '+' return operator + TextUtils.pad(Math.abs(hours), 2) + ':' + TextUtils.pad(Math.abs(minutes), 2) } function getByAbbr(timezone) { let choice const tzLc = timezone.toLowerCase() for (let item in dict) { const abbrs = dict[item].split('|')[0].split(',') // console.log('\\t --&gt;', item, dict[item], abbrs, timezone, tzLc) if (abbrs.indexOf(tzLc) &gt;= 0) { choice = item break } } return choice } function getTrueLocal(context) { // calculate the local based on the context let localNow = context || new Date() // get a true local now to extract the timezone abbr const dateString = localNow.toTimeString() // console.log(' -- dateString:', dateString) let tzStr = dateString.split('(')[1] tzStr = tzStr.substr(0, tzStr.length - 1) // console.log(' ------- tzStr:', tzStr) // IE &amp; Edge print timezones as words, not abbreviated, so strip it down to just abbreviation return tzStr.replace(/[a-z\\.\\s]/g, '') } function getDLS(str, year) { // console.log('getDLS()', str, year) if (typeof dls[str] == 'string') { // time to parse // breaks into months, left day, right day let valueSplit = dls[str].split('|').map(str =&gt; { return str.split(',').map(val =&gt; { const padVal = TextUtils.pad(val, 2) return padVal }) }) dls[str] = {} const month = valueSplit[0] const day = valueSplit[2] valueSplit[1].map((val, i) =&gt; { dls[str][dlsStart + i] = month[0] + '-' + val + ',' + month[1] + '-' + day[i] }) // console.log(valueSplit) // console.log(dls[str]) } // get based on year if (dls[str]) { return dls[str][year] } return undefined } × Search results Close "},"ad-dates_lib_TzDate.js.html":{"id":"ad-dates_lib_TzDate.js.html","title":"Source: ad-dates/lib/TzDate.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-dates/lib/TzDate.js /** @npmpackage @class TzDate @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-dates&quot;&gt;ad-dates&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { TzDate } from 'ad-dates' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This class is a wrapper for the Javascript &quot;Date&quot; object. &lt;br&gt;&lt;br&gt; The standard Date object only returns the local time. TzDate returns that local time but adds the ability to get that same date, time, and meridium in ANY timezone, without extra conversions. Simply ask for anything in any timezone and it will return you the adjusted date/time while maintaining the original date. &lt;br&gt;&lt;br&gt; One thing to understand is the difference between: the timezone the TzDate is being DECLARED in versus the timezone the TzDate is DISPLAYING in. When creating a TzDate, you will be providing the date, time, and timezone of the DECLARED time. A way to think of it would be: If you are in Los Angeles, you are in the US/Pacific timezone. So if you look at your calendar and clock on the wall, you would enter that date, time and provide the timezone for US/Pacific. &lt;codeblock&gt; const myDate = new TzDate({ datetime: ['2017-05-18T12:00:00', 'US/Pacific'] }) console.log(myDate) // &quot;Thu May 18 2017 12:00:00 GMT-0700 (PDT)&quot; myDate.print() // &quot;Thu May 18 2017 12:00:00 US/Pacific&quot; &lt;/codeblock&gt; &lt;br&gt; Tracing out a date can get confusing with that end part &quot;GMT-0700 (PDT)&quot;. That is how the browser reports the local timezone. However, we need to be able to see the date clearly in any timezone. The print() method allows for a clearer output specifically telling you what timezone you have asked for. Lets look at that same date in other timezones: &lt;codeblock&gt; myDate.print('US/Mountain') // &quot;Thu May 18 2017 13:00:00 US/Mountain&quot; myDate.print('US/Eastern') // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; &lt;/codeblock&gt; &lt;br&gt; An important concept to understand is UTC = Universal Time Coordinated. All time is based off of &quot;zero&quot; point, which is also called Greenwich Mean Time. Let's look at our same time in UTC: &lt;codeblock&gt; myDate.print('UTC') // &quot;Thu May 18 2017 19:00:00 UTC&quot; &lt;/codeblock&gt; &lt;br&gt; You can start to see how the timezones affect time by seeing that noon on the west coast is the same 7 PM (aka 19 hours) at the origin. So the time we first declared at the beginning could also be created as any of these other times that we have seen. Remember that when a time is created, no matter what timezone, there is a different way of saying it, but the actual time is just a snap shot of a momnet in time. Let's look at how we could create the same date different ways: &lt;codeblock&gt; const myDate_eastern = new TzDate({ datetime: ['2017-05-18T15:00:00', 'US/Eastern'] }) myDate_eastern.print() // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; myDate_eastern.print('US/Pacific') // &quot;Thu May 18 2017 12:00:00 US/Pacific&quot; &lt;/codeblock&gt; &lt;br&gt; This time, we created the date as if we were on the east coast in the US/Eastern timezone, so the clock on the wall would say 3:00 PM. Notice that all the outputs are all the same, that is because these dates are the same moment, just expressed differently. &lt;br&gt;&lt;br&gt; Sometimes, you will create the date IN a specific timezone, but you always want to see it in another. Lets take our first date we created. We could pass the timezone into the print() method everytime, but that can get repetitive and sometimes you don't have access to that timezone later on. So you can create an outputTimezone for the date, so all methods will return in that timezone: &lt;codeblock&gt; const myDate = new TzDate({ datetime: ['2017-05-18T12:00:00', 'US?Pacific'], outputTimezone: 'US/Eastern' }) myDate.print() // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; &lt;/codeblock&gt; &lt;br&gt; This can be also changed after the date was created, and again it will always output to that timezone. BUT, if you pass in a timezone to a method, that will take priority: &lt;codeblock&gt; myDate.outputTimezone = 'US/Pacific' myDate.print() // &quot;Thu May 18 2017 12:00:00 US/Pacific&quot; myDate.print('US/Eastern') // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; On to slightly more advanced concepts: ISO dates. Notice that the date strings we have been passing in so far have been in this format: &lt;br&gt; &lt;codeblock&gt; '2017-05-18T12:00:00' // Year - Month - Day T Hour : Minute : Second &lt;/codeblock&gt; &lt;br&gt; This is a partial ISO date string. The last part that is missing is the timezone. So our first date we created, in proper ISO would actually look like this: &lt;br&gt; &lt;codeblock&gt; '2017-05-18T12:00:00-07:00' // Year - Month - Day T Hour : Minute : Second - US/Pacific Timezone &lt;/codeblock&gt; &lt;br&gt; The -07:00 on the end is the timezone of the time. Think of it like this: The date and time are what you see on that clock and calendar on your wall where you are currently standing. That last part, the timezone, is saying how far FROM the origin (UTC) you are. Lets look at it as a simple math problem. &lt;codeblock&gt; (origin zero point) - timezone = (date and time where you are) UTC - 07:00 = 2017-05-18T12:00:00 UTC = 2017-05-18T12:00:00 + 07:00 UTC = 2017-05-18T19:00:00+00:00 &lt;/codeblock&gt; &lt;br&gt; This proper ISO full datetime can be used when creating a TzDate, rather than the array if you are confident of the timezone: &lt;codeblock&gt; const myDate = new TzDate({ datetime: '2017-05-18T12:00:00-07:00' }) myDate.print() // &quot;Thu May 18 2017 12:00:00 US/Pacific&quot; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Velvet JSON dates&lt;/b&gt; &lt;br&gt;&lt;br&gt; Dates that are in the Velvet JSON will be in proper ISO format AND there will be a timezone provided, like so: &lt;codeblock&gt; const jsonDateSnippet = { datetime : &quot;2017-05-18T19:00:00+00:00&quot;, timezone : &quot;US/Eastern&quot; } &lt;/codeblock&gt; &lt;br&gt; This is providing the date/time in UTC and then saying that the dates should be output in US/Eastern timezone. So we would create our TzDate: &lt;codeblock&gt; const myDate = new TzDate({ datetime: jsonDateSnippet.datetime, outputTimezone: jsonDateSnippet.timezone }) myDate.print() // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; &lt;/codeblock&gt; */ import * as DateFormatter from './DateFormatter.js' import * as DateUtils from './DateUtils.js' import * as Timezone from './Timezone.js' import { TextUtils } from 'ad-utils' function TzDate(args) { args = args || {} let _outputTimezone = 'local' let _dateString = args.datetime if (Array.isArray(_dateString)) { _dateString = args.datetime[0] _outputTimezone = args.datetime[1] // if +/-##:## timzone is set this will define find the corresponding timezone and assign it, // thus ignoring the second param if is an Array: [ datetimeString, timezone ] let currentTzString = _dateString.match(/(\\+|\\-)([0-9]{2})\\:([0-9]{2})/g) if (!currentTzString) { const asObj = Timezone.get(_outputTimezone) const asISO = Timezone.toISO(asObj) _dateString += asISO } } if (typeof _dateString === 'string') { // make there is a &quot;T&quot; to follow proper ISO format. No &quot;T&quot; will create Invalid Dates in Safari _dateString = _dateString.replace(/(\\T|\\s)/g, 'T') } if (args.outputTimezone) { _outputTimezone = args.outputTimezone } else if (adParams.defaultTimezone) { _outputTimezone = adParams.defaultTimezone } // _outputTimezone assigned at the bottom var T = new Date(_dateString) // --------------------------------------------------------------------------------------------------------------- // GETTER | SETTER Object.defineProperties(T, { /** @memberOf TzDate @var {object|string|number} outputTimezone @desc Getter|Setter : Change the timezone that all methods will default return the date/time in. Does NOT change the date, just how it is output. @example // get console.log(myDate.outputTimezone) // set myDate.outputTimezone = 'US/Eastern' */ outputTimezone: { get: () =&gt; { return _outputTimezone }, set: value =&gt; { _outputTimezone = Timezone.get(value) } } }) // --------------------------------------------------------------------------------------------------------------- // PUBLIC METHODS /** @memberOf TzDate @method clone @desc A shorthand for making a new TzDate with the same datetime and outputTimezone @returns {TzDate} @property {object|string|number} newTimezone Change the outputTimezone of the new reeturned TzDate @example var myCopy = myDate.clone() myCopy.print() */ T.clone = newTimezone =&gt; { newTimezone = newTimezone || T.outputTimezone return new TzDate({ datetime: T, outputTimezone: newTimezone }) } /** @memberOf TzDate @method getHoursIn @desc Similar to Date.getHours(), but this will return the hours in a specified timezone, defaulting to the outputTimezone of the instance @returns {number} @property {object|string|number} inTimezone The timezone at which you would like the hours, if null, will use the outputTimezone @property {boolean} inMilitary Whether the hours should be in military 24 hour or standard 12 hour. true = base 24, false = base 12. Default is false. @example var hours = myDate.getHoursIn('US/Eastern', false) */ T.getHoursIn = (inTimezone, inMilitary) =&gt; { let date = T.getIn(inTimezone) let time = date.getHours() if (inMilitary != true &amp;&amp; time &gt; 12) { time = time % 12 } return time } /** @memberOf TzDate @method format @desc Direct usage of DateFormatter.format() @returns {String} @property {String} format Pass in a mark up output of the date, including html, inline styling and spacing. In place of key data, use tokens from chart wrapped in ${} @property {Object} args Optional Object to change the outputTimezone, langouage of formatting @example const output = myDate.format('${M}/${D}/${YYYY}') */ T.format = (format, args) =&gt; { return DateFormatter.format(T, format, args) } /** @memberOf TzDate @method getIn @desc If you need the actual TzDate object with the adjust time applied. &lt;br&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;WARN: This will return a TzDate with a different base time. This method is mostly used by other internal methods and DateSchedule. This should be used with caution.&lt;/span&gt; @returns {TzDate} @property {object|string|number} inTimezone The timezone at which you would like the TzDate CHANGED to @example var changedDate = myDate.getIn('US/Eastern') */ T.getIn = inTimezone =&gt; { // console.log(':::::::::::::::::::::::::: TzDate.getIn()') let utcString = T.toISOString().split('.')[0] // console.log(' :::::::::::: utcString:', utcString, '|', T) // console.log(' :: Timezone._trueLOCAL:', Timezone._trueLOCAL) let localTimezone = Timezone.toISO(Timezone.get('trueLocal', T)) // console.log(' :::::::: localTimezone:', localTimezone) let tz = Timezone.get(inTimezone || T.outputTimezone, T) // console.log(' ::::::::::::::::::: tz:', tz) let dateInLocal = utcString + localTimezone // console.log(' :::::::::: dateInLocal:', dateInLocal) let utcDateAdjusted = new Date(utcString + localTimezone) // console.log(' ::::: utcDateAdjusted:', utcDateAdjusted, 'in', tz.label) let adjustIn = DateUtils.adjust(utcDateAdjusted, { hour: tz.value }) // console.log(' :::::::::::: adjustIn:', adjustIn) return adjustIn } /** @memberOf TzDate @method print @desc Is a shorthand for .toFullDateTime() @returns {string} @property {object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @example myDate.print('US/Eastern') */ T.print = inTimezone =&gt; { const fullDateTime = T.toFullDateTime(inTimezone) console.log(fullDateTime) return fullDateTime } /** @memberOf TzDate @method toFullDateTime @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @returns {string} @desc Returns a string in the format of &quot;Weekday Mon DD YYYY HH:MM:SS Timezone&quot; */ T.toFullDateTime = inTimezone =&gt; { inTimezone = inTimezone || T.outputTimezone let utcDateAdjusted = T.getIn(inTimezone) let utcDateAdjString = utcDateAdjusted.toString().split('GMT')[0] + inTimezone.label // console.log('\\t inTimezone:', inTimezone) // console.log('\\t utcDateAdjusted:', utcDateAdjusted.toString()) // console.log('\\t utcDateAdjString:', utcDateAdjString) return utcDateAdjString } /** @memberOf TzDate @method toSimpleDate @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @returns {string} @desc Returns a string in the format &quot;MM/DD&quot; */ T.toSimpleDate = inTimezone =&gt; { const tzDate = T.getIn(inTimezone) return tzDate.getMonth() + 1 + '/' + tzDate.getDate() } /** @memberOf TzDate @method toDate @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @returns {string} @desc Returns a string in the format &quot;MM/DD/YYYY&quot; */ T.toDate = inTimezone =&gt; { const tzDate = T.getIn(inTimezone) return T.toSimpleDate(inTimezone) + '/' + tzDate.getFullYear() } /** @memberOf TzDate @method toDateTime @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @returns {string} @desc Returns a string in the format &quot;MM/DD/YYYY HH:MMa/p&quot; */ T.toDateTime = inTimezone =&gt; { return T.toDate(inTimezone) + ' ' + T.toTime(inTimezone) } /** @memberOf TzDate @method toSimpleDateTime @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @returns {string} @desc Returns a string in the format &quot;MM/DD HH:MM&quot; */ T.toSimpleDateTime = function() { return T.toSimpleDate() + ' ' + T.toTime() } /** @memberOf TzDate @method toTime @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @returns {string} @desc Returns a string in the format &quot;HH:MM AM/PM&quot; */ T.toTime = inTimezone =&gt; { return T.toSimpleTime(inTimezone) + ' ' + T.toMeridiem(inTimezone) } /** @memberOf TzDate @method toSimpleTime @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @property {boolean} inMilitary Whether the hours should be in military 24 hour or standard 12 hour. true = base 24, false = base 12. Default is false. @returns {string} @desc Returns a string in the format &quot;HH:MM&quot; @example myDate.toSimpleTime(); myDate.toSimpleTime('US/Pacific') myDate.toSimpleTime('US/Pacific', true) */ T.toSimpleTime = (inTimezone, inMilitary) =&gt; { let tzDate = T.getIn(inTimezone) let hours = T.getHoursIn(inTimezone, inMilitary) if (hours == 0 &amp;&amp; !inMilitary) { hours = 12 } if (inMilitary) { hours = TextUtils.pad(hours, 2) } return hours + ':' + TextUtils.pad(tzDate.getMinutes(), 2) } /** @memberOf TzDate @method toMeridiem @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @property {boolean} includeTimezone Whether to include the timezone, defaults to false @returns {string} @desc Returns the meridiem &quot;am&quot;, &quot;pm&quot; or &quot;am/et&quot;, &quot;am/et&quot; @example myDate.toMeridiem(); // returns &quot;am&quot; or &quot;pm&quot; myDate.toMeridiem(Timezone.PST ); // returns &quot;am&quot; or &quot;pm&quot;, of the datetime in Pacific Timezone myDate.toMeridiem(Timezone.PST, true ); // returns &quot;am/pt&quot; or &quot;pm/pt&quot;, of the datetime in Pacific Timezone myDate.toMeridiem ( null, true ); // returns &quot;am/et&quot; or &quot;pm/et&quot;, of the datetime in the outputTimezone */ T.toMeridiem = (inTimezone, includeTimezone) =&gt; { let tz = inTimezone || T.outputTimezone let tzDate = T.getIn(tz) return (tzDate.getHours() &gt;= 12 ? 'pm' : 'am') + (includeTimezone == true ? '/' + tz.abbr : '') } /** @memberOf TzDate @method toShortestTime @property {Timezone|object|string|number} inTimezone The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. @property {boolean} inMilitary Whether the hours should be in military 24 hour or standard 12 hour. true = base 24, false = base 12. Default is false. @returns {string} @desc Returns a string in the format &quot;HH:MM&quot;, but if there are no minutes will return &quot;HH&quot; */ T.toShortestTime = (inTimezone, inMilitary) =&gt; { // will remove minutes if they are 0 let timeStr = T.toSimpleTime(inTimezone, inMilitary) let adjustedTime = timeStr.replace(/:00$/g, '') return adjustedTime } T.toDateTimeISO = inTimezone =&gt; { const date = T.toDate(inTimezone) let dateSplit = date.split('/') let year = dateSplit[2] let month = TextUtils.pad(dateSplit[0], 2) let day = TextUtils.pad(dateSplit[1], 2) return year + '-' + month + '-' + day + 'T' + T.toSimpleTime(inTimezone, true) + ':00' } T.toISO = () =&gt; { return T.toDateTimeISO(T.outputTimezone) + Timezone.toISO(T.outputTimezone) } // --------------------------------------------------------------------------------------------------------------- // PROTECTED PROPERTIES T._isTzDate = true // --------------------------------------------------------------------------------------------------------------- // INIT // initial set of outputTimezone from String to Timezone Object T.outputTimezone = _outputTimezone // console.log('_outputTimezone:', _outputTimezone) // console.log('_dateString:', _dateString) return T } export default TzDate × Search results Close "},"ad-ui_lib_UIBorder.js.html":{"id":"ad-ui_lib_UIBorder.js.html","title":"Source: ad-ui/lib/UIBorder.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UIBorder.js /** @npmpackage @class UIBorder @param {object} arg @property {string} id Element id. @property {element} target DOM Element in which to create this border. @property {number} size Border thickness. @property {string} color Hex code representing border color. @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIBorder } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending UIDiv which adds a border to a div. @example // simple button that passes in an image to the bg and 2 images as the icons for the different states of the button. Notice no width or height is set. var myBorder = new UIBorder({ id : 'my-border', target : View.main, size : 1, color : '#ff0000' }) */ import UIDiv from './UIDiv' import { Styles } from 'ad-view' import { Gesture } from 'ad-events' class UIBorder { constructor(arg) { /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _size var _color /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP var U = new UIDiv(arg) Styles.addClass(U, 'ui-border') /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER Object.defineProperties(U, { /** @memberOf UIBorder @var size @desc Getter|Setter : A Number representing the size of the border in pixels. @example // SET myBorder.size = 4; // GET console.log( myBorder.size ) */ size: { get: function() { return _size }, set: function(value) { //console.log( 'UIBorder :: SET -&gt; size =', value ); if (value != undefined &amp;&amp; _size != value) { _size = value Styles.setCss(U, { borderWidth: _size }) } } }, /** @memberOf UIBorder @var color @desc Getter|Setter : A String representing the color of the border. @example // SET myBorder.color = '#fff000'; // GET console.log( myBorder.color ) */ color: { get: function() { return _color }, set: function(value) { //console.log( 'UIBorder :: SET -&gt; color =', value ) if (value &amp;&amp; _color != value) { _color = value Styles.setCss(U, { borderColor: _color }) } } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS U.toString = function() { return '[object UIBorder]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT Gesture.disable(U) U.color = arg.color U.size = arg.size return U } } export default UIBorder × Search results Close "},"ad-video_lib_ui_UIButtonFullScreen.js.html":{"id":"ad-video_lib_ui_UIButtonFullScreen.js.html","title":"Source: ad-video/lib/ui/UIButtonFullScreen.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/ui/UIButtonFullScreen.js /** @class UIButtonFullScreen @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;Github repo&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIButtonFullScreen } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIButton} with direct control to a {@link VideoPlayer} instance. It controls the fullscreen for the {@link VideoPlayer}. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a {@link VideoPlayer} instance. See {@link UIButton} for more info. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1&lt;/b&gt;&lt;br&gt; Add the button to the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onControlBar : { buttonFullScreen : { css : { backgroundColor : 'rgb(100,200,10)' }, state : [ 'btnFullScreen' ] } } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2&lt;/b&gt;&lt;br&gt; Add the button on the screen, NOT on the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonFullScreen : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ 'btnFullScreen' ] }, }, } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3&lt;/b&gt;&lt;br&gt; Use DOM elements as the states of the button, to have more contorl over their css &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonFullScreen : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ new UIImage({ source : 'btnFullScreen', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(100,100,0,.5)' } }) ] }, } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import { UIButton } from 'ad-ui' import { UIEvent, GestureEvent } from 'ad-events' import { FullScreen } from 'ad-view' function UIButtonFullScreen(player, arg) { var U = new UIButton(arg) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PROTECTED METHODS U._onClick = function(event) { //event.stopImmediatePropagation(); GestureEvent.stop(event) FullScreen.enter(player.screen) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleEnded(event) { FullScreen.exit() } function handleBaseEnabled(event) { var listener = U.enabled ? 'addEventListener' : 'removeEventListener' player.screen[listener]('ended', handleEnded, false) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.addEventListener(UIEvent.ENABLED, handleBaseEnabled) U.enabled = true return U } export default UIButtonFullScreen × Search results Close "},"ad-video_lib_ui_UIButtonMute.js.html":{"id":"ad-video_lib_ui_UIButtonMute.js.html","title":"Source: ad-video/lib/ui/UIButtonMute.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/ui/UIButtonMute.js /** @class UIButtonMute @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;Github repo&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIButtonMute } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIButton} with direct control to a {@link VideoPlayer} instance. It controls the muting and unmuting for the {@link VideoPlayer}. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a {@link VideoPlayer} instance. See {@link UIButton} for more info.&lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1&lt;/b&gt;&lt;br&gt; Add the button to the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onControlBar : { buttonMute : { css : { backgroundColor : 'rgb(100,200,10)' }, state : [ 'btnUnMute', 'btnMute' ] } } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2&lt;/b&gt;&lt;br&gt; Add the button on the screen, NOT on the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonMute : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ 'btnUnMute', 'btnMute' ] }, }, } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3&lt;/b&gt;&lt;br&gt; Use DOM elements as the states of the button, to have more contorl over their css &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonMute : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ new UIImage({ source : 'btnUnMute', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(100,100,0,.5)' } }), new UIImage({ source : 'btnMute', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(0,100,100,.5)' } }) ] }, } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import { UIButton } from 'ad-ui' import { UIEvent } from 'ad-events' function UIButtonMute(player, arg) { var U = new UIButton(arg) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS U.toString = function() { return '[object UIButtonMute]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PROTECTED METHODS U._onClick = function(event) { player.muted ? player.unmute(event) : player.mute(event) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleVolumeChange(event) { U.state = Number(player.muted || player.screen.volume == 0) } function handleBaseEnabled(event) { var listener = U.enabled ? 'addEventListener' : 'removeEventListener' player.screen[listener]('volumechange', handleVolumeChange, false) player.screen[listener]('play', handleVolumeChange, false) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.addEventListener(UIEvent.ENABLED, handleBaseEnabled) U.enabled = true handleVolumeChange() return U } export default UIButtonMute × Search results Close "},"ad-video_lib_ui_UIButtonPlayPause.js.html":{"id":"ad-video_lib_ui_UIButtonPlayPause.js.html","title":"Source: ad-video/lib/ui/UIButtonPlayPause.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/ui/UIButtonPlayPause.js /** @class UIButtonPlayPause @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;Github repo&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIButtonPlayPause } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIButton} with direct control to a {@link VideoPlayer} instance. It controls the playing and pausing for the {@link VideoPlayer}. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a {@link VideoPlayer} instance. See {@link UIButton} for more info.&lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1&lt;/b&gt;&lt;br&gt; Add the button to the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onControlBar : { buttonPlayPause : { css : { backgroundColor : 'rgb(100,200,10)' }, state : [ 'btnPlay', 'btnPause' ] } } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2&lt;/b&gt;&lt;br&gt; Add the button on the screen, NOT on the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonPlayPause : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ 'btnPlay', 'btnPause' ] }, }, } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3&lt;/b&gt;&lt;br&gt; Use DOM elements as the states of the button, to have more contorl over their css &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonPlayPause : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ new UIImage({ source : 'btnPlay', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(100,100,0,.5)' } }), new UIImage({ source : 'btnPause', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(0,100,100,.5)' } }) ] }, } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import { UIButton } from 'ad-ui' import { UIEvent } from 'ad-events' function UIButtonPlayPause(player, arg) { var U = new UIButton(arg) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS U.toString = function() { return '[object UIButtonPlayPause]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PROTECTED METHODS U._onClick = function(event) { player.paused ? player.play() : player.pause() } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handlePlay(event) { U.state = 1 U.show() } function handlePause(event) { U.state = 0 } function handleEnded(event) { handlePause(event) } function handleBaseEnabled(event) { var playerRef = player.screen var listener = U.enabled ? 'addEventListener' : 'removeEventListener' playerRef[listener]('autoplay', handlePlay, false) playerRef[listener]('play', handlePlay, false) playerRef[listener]('pause', handlePause, false) playerRef[listener]('ended', handleEnded, false) playerRef[listener]('stop', handleEnded, false) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.addEventListener(UIEvent.ENABLED, handleBaseEnabled) U.enabled = true return U } export default UIButtonPlayPause × Search results Close "},"ad-video_lib_ui_UIButtonReplay.js.html":{"id":"ad-video_lib_ui_UIButtonReplay.js.html","title":"Source: ad-video/lib/ui/UIButtonReplay.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/ui/UIButtonReplay.js /** @class UIButtonReplay @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;Github repo&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIButtonReplay } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIButton} with direct control to a {@link VideoPlayer} instance. It controls the replaying for the {@link VideoPlayer}. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a {@link VideoPlayer} instance. See {@link UIButton} for more info.&lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1&lt;/b&gt;&lt;br&gt; Add the button to the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onControlBar : { buttonReplay : { css : { backgroundColor : 'rgb(100,200,10)' }, state : [ 'btnReplay' ] } } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2&lt;/b&gt;&lt;br&gt; Add the button on the screen, NOT on the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonReplay : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ 'btnReplay' ] }, }, } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3&lt;/b&gt;&lt;br&gt; Use DOM elements as the states of the button, to have more contorl over their css &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonReplay : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ new UIImage({ source : 'btnReplay', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(100,100,0,.5)' } }) ] }, } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import { UIButton } from 'ad-ui' import { UIEvent } from 'ad-events' function UIButtonReplay(player, arg) { var U = new UIButton(arg) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS U.toString = function() { return '[object UIButtonReplay]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PROTECTED METHODS U._onClick = function(event) { player.seek(0) player.play() U.hide() } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handlePlay(event) { U.hide() } function handleEnded(event) { U.show() } function handleBaseEnabled(event) { var playerRef = player.screen var listener = U.enabled ? 'addEventListener' : 'removeEventListener' playerRef[listener]('play', handlePlay, false) playerRef[listener]('ended', handleEnded, false) playerRef[listener]('complete', handleEnded, false) playerRef[listener]('stop', handleEnded, false) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.addEventListener(UIEvent.ENABLED, handleBaseEnabled) U.enabled = true if (!!arg.hidden) U.hide() return U } export default UIButtonReplay × Search results Close "},"ad-ui_lib_UICanvas.js.html":{"id":"ad-ui_lib_UICanvas.js.html","title":"Source: ad-ui/lib/UICanvas.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UICanvas.js /** @npmpackage @class UICanvas @param {string} id @param {element} target @param {object} css @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UICanvas } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIComponent}. Unlike other UI elements, this creates a DOM &amp;lt;canvas&gt;. By extending {@link UIComponent} this has all of its native properties and methods. See {@link UIComponent} for more info. @example var myCanvas = new UICanvas({ id : 'my-btn', target : View.main, css : { x : 15, y : 18, width : 50, height : 20, backgroundColor : '#ff0000' } }); */ import UIComponent from './UIComponent' class UICanvas { constructor(arg) { /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP arg = arg || {} var width = arg.css.width var height = arg.css.height delete arg.css.width delete arg.css.height var U = new UIComponent(arg, 'canvas') U.setAttribute('width', width) U.setAttribute('height', height) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _ctx2d = U.getContext('2d') var _ctx3d = U.getContext('webgl') /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER Object.defineProperties(U, { /** @memberOf UICanvas @var {canvas} context2d @desc Getter : Returns direct access to the canvas context of '2d'. @example console.log( myCanvas.context2d ); */ context2d: { get: function() { return _ctx2d } }, /** @memberOf UICanvas @var {canvas} context3d @desc Getter : Returns direct access to the canvas context of 'webgl'. @example console.log( myCanvas.context3d ); */ context3d: { get: function() { return _ctx3d } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf UICanvas @method toString @returns {string} [object UICanvas] @desc A String representing the object type. */ U.toString = function() { return '[object UICanvas]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U._initAlign(true) return U } } export default UICanvas × Search results Close "},"ad-ui_lib_UIComponent.js.html":{"id":"ad-ui_lib_UIComponent.js.html","title":"Source: ad-ui/lib/UIComponent.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UIComponent.js /** @npmpackage @class UIComponent @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIComponent } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, which is an extension of a DOM element &amp;lt;div&gt; with extra base functionality. There are inherited properties and methods for enabling, show, hide, etc. It is a base class that can be extended for custom UI elements. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // bare minimum creation - can be added to anything and named later. var myBase = new UIComponent(); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // simple creation - no style var myBase = new UIComponent({ target : View.main, id : 'my-component' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // create with assigned styles var myBase = new UIComponent({ target : View.main, id : 'my-component', css : { x : 36, y : 14, width : 120, height: 140 } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 4:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // create and align the image inline var myImage = new UIComponent({ target : View.main, id : 'my-component', align : { x:{ type : Align.RIGHT, offset : -10 }, y: { type : Align.TOP, offset : 10 } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import UIDiv from './UIDiv' import { Styles, Align, Markup } from 'ad-view' import { UIEvent } from 'ad-events' class UIComponent extends UIDiv { constructor(arg, type) { var _enabled = true var _showing = true var _typeDef = type || 'div' /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP arg = arg || {} type = _typeDef == 'svg' ? 'div' : type super(arg, type) var U = this /* ------------------------------------------------------------------------------------------------------------------------------- */ // PROTECTED PROPERTIES U._align = arg.align /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER Object.defineProperties(U, { /** @memberOf UIComponent @var {number} x Getter|Setter : A Number representing the x position. Directly gets/sets the css transform x. @example // get console.log( myComponent.x ); // set myComponent.x = 7; */ x: { get: function() { //return +getTransformMatrix()[4] return Styles.getCss(U, 'x') }, set: function(value) { Styles.setCss(U, { x: value }) } }, /** @memberOf UIComponent @var {number} y Getter|Setter : A Number representing the y position. Directly gets/sets the css transform y. @example // get console.log( myComponent.y ); // set myComponent.y = 14; */ y: { get: function() { //return +getTransformMatrix()[5] return Styles.getCss(U, 'y') }, set: function(value) { Styles.setCss(U, { y: value }) } }, /** @memberOf UIComponent @var {boolean} enabled Getter|Setter : A Boolean to toggle if the Gesture events are active. @example // get console.log( myComponent.enabled ); // set myComponent.enabled = true; */ enabled: { get: function() { return _enabled }, set: function(state) { _enabled = state //U.dispatchEvent ( new CustomEvent( 'uiComponentEnabled' )) U.dispatchEvent(UIEvent.componentEnabled) } }, /** @memberOf UIComponent @var {boolean} showing Getter|Setter : A Boolean to check if the component is currently showing. Can NOT be set. @example // get console.log( myComponent.showing ); */ showing: { get: function() { return _showing }, set: function() { console.log(':: WARNING ::\\n\\n\\tUIComponent.showing cannot be set.\\n\\n') } } }) if (_typeDef != 'canvas' &amp;&amp; _typeDef != 'svg') { Object.defineProperties(U, { /** @memberOf UIComponent @var {number} width Getter|Setter : A Number representing the width of the div. Directly gets/sets the style css width. @example // get console.log( myComponent.width ); // set myComponent.width = 140; */ width: { get: function() { return U.offsetWidth }, set: function(value) { Styles.setCss(U, { width: value }) var evt = new CustomEvent(UIEvent.RESIZE) evt.direction = 'width' U.dispatchEvent(evt) } }, /** @memberOf UIComponent @var {number} height Getter|Setter : A Number representing the height of the div. Directly gets/sets the style css height. @example // get console.log( myComponent.height ); // set myComponent.height = 140; */ height: { get: function() { return U.offsetHeight }, set: function(value) { Styles.setCss(U, { height: value }) var evt = new CustomEvent(UIEvent.RESIZE) evt.direction = 'height' U.dispatchEvent(evt) } } }) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf UIComponent @method hide @desc Visually removes the component from the DOM by setting its display property to none @example myComponent.hide(); */ U.hide = function() { U.style.display = 'none' _showing = false } /** @memberOf UIComponent @method show @desc Visually displays the component in the DOM @example myComponent.show(); */ U.show = function() { try { //console.log( ' try removeProperty()') U.style.removeProperty('display') } catch (e) { //console.log( ' catch display = null' ) U.style.display = null } _showing = true } /** @memberOf UIComponent @method setCss @desc Set any of the style properites of the component. A direct link to Styles.setCss() for convience. @example myComponent.setCss({ width : 300, height : 150 }); */ U.setCss = function(args) { Styles.setCss(U, args) } /** @memberOf UIComponent @method addChild @desc Add a DOM element to the component. @example myComponent.addChild( myChild ); */ U.addChild = function(elem) { var child = Markup.get(elem) U.appendChild(child) if (elem._align) Align.set(elem, elem._align) } /** @memberOf UIComponent @method inspect @desc Traces out an object of all the public properties and methods of the component. @example myComponent.inspect(); */ U.inspect = function() { var o = {} var props = Object.getOwnPropertyNames(U) for (var i = 0; i &lt; props.length; i++) { var val = U[props[i]] o[props[i]] = val } console.log('\\n\\t', U.toString(), '\\t', U.id, '\\n\\t', o) } /** @memberOf UIComponent @method toString @desc A String to represet the object type. @example myComponent.toString(); */ U.toString = function() { return '[object UIComponent]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS U._initAlign = function(parentTriggered) { var fire = parentTriggered ? parentTriggered == true : arg.target != undefined if (arg.align &amp;&amp; fire) { Align.set(U, arg.align) } } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.enabled = true U._initAlign() return U } } export default UIComponent × Search results Close "},"ad-video_lib_ui_UIControlBar.js.html":{"id":"ad-video_lib_ui_UIControlBar.js.html","title":"Source: ad-video/lib/ui/UIControlBar.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/ui/UIControlBar.js /** @class UIControlBar @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;Github repo&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIControlBar } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import { UIComponent } from 'ad-ui' import { Styles } from 'ad-view' function UIControlBar(player, arg) { /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP var U = new UIComponent(arg) Styles.addClass(U, 'rvp-controlBar') /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC PROPERTIES /** @memberof UIControlBar @const {boolean} constant A Boolean to toggle if the controlBar will disappear after a timeout, defaults to false. */ U.constant = !!arg.constant /** @memberof UIControlBar @const {boolean} showOnPoster A Boolean to toggle if the controlBar will show before or after the video has played, defaults to false. */ U.showOnPoster = !!arg.showOnPoster /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS U.toString = function() { return '[object UIControlBar]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT return U } export default UIControlBar × Search results Close "},"ad-ui_lib_UIDiv.js.html":{"id":"ad-ui_lib_UIDiv.js.html","title":"Source: ad-ui/lib/UIDiv.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UIDiv.js /** @npmpackage @class UIDiv @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIDiv } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, which is a DOM element &lt;div&gt;, that internally handles assigning the passed in parameters. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // bare minimum creation - can be added to anything and named later. var myBase = new UIDiv(); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // simple creation - no style // Added to a container, such as Main T.myBase = new UIDiv({ target : T, id : 'my-div' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // create with assigned styles var myBase = new UIDiv({ target : T, id : 'my-div', css : { x : 36, y : 14, width : 120, height: 140 } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import { Styles, Markup } from 'ad-view' class UIDiv { constructor(arg, type) { /* ------------------------------------------------------------------------------------------------------------------------------- */ // BASE CSS Styles.injectStylesheet('RED_uiElement', '.ui-elem', 'position:absolute;') /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP // internal pass in other type of element, such as &lt;canvas&gt; type = type || 'div' var U = document.createElement(type) Styles.addClass(U, 'ui-elem') arg = arg || {} if (arg.id) U.id = arg.id Styles.setCss(U, arg.css) if (arg.target) { var target = Markup.get(arg.target) target.appendChild(U) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER /** @memberOf UIDiv @var {element} parent Getter : Returns the parent, ie the DOM element this &lt;div&gt; is inside of. @example // get console.log( myImage.source ); // set myImage.source = 'template_image'; */ Object.defineProperty(U, 'parent', { get: function() { return U.parentNode } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf UIDiv @method toString @desc A String to represet the object type. @example myDiv.toString(); */ U.toString = function() { return '[object UIDiv]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ return U } } export default UIDiv × Search results Close "},"ad-events_lib_UIEvent.js.html":{"id":"ad-events_lib_UIEvent.js.html","title":"Source: ad-events/lib/UIEvent.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-events/lib/UIEvent.js /** @npmpackage @class UIEvent @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-events&quot;&gt;ad-events&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIEvent } from 'ad-events' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This module has custom events to be used with the &lt;UIComponents&gt; */ var _componentEnabled, _sliderUpdate var UIEvent = { /** @memberOf UIEvent @const {string} ENABLED @desc Represents an 'uiComponentEnabled', fired when the enabled state of a &lt;UIComponent&gt; changes; useful when extending a component. @example UIEvent.ENABLED */ ENABLED: 'uiComponentEnabled', /** @memberOf UIEvent @const {string} RESIZE @desc Description needed_________. @example UIEvent.RESIZE */ RESIZE: 'uiResize', /** @memberOf UIEvent @const {string} SLIDER_UPDATE @desc Represents an 'uiSliderUpdate', fired when a &lt;UISlider&gt; changes its value. @example UIEvent.SLIDER_UPDATE */ SLIDER_UPDATE: 'uiSliderUpdate', get componentEnabled() { if (!_componentEnabled) { _componentEnabled = new CustomEvent('uiComponentEnabled') } return _componentEnabled }, get sliderUpdate() { if (!_sliderUpdate) { _sliderUpdate = new CustomEvent('uiSliderUpdate') } return _sliderUpdate } } export default UIEvent × Search results Close "},"ad-ui_lib_UIFlex.js.html":{"id":"ad-ui_lib_UIFlex.js.html","title":"Source: ad-ui/lib/UIFlex.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UIFlex.js /** @npmpackage @class UIFlex @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIFlex } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIComponent}. It is a DOM element that has default values for css flexbox. All children's position is set to relative, to allow the flexbox to work. The default setup of UIFlex is to make a row, with the content evenly spread with no buffers on the outside, aka space-around. There are setters for the primary orientation css keys. They can be passed in to the constructor or using the seeters. They can still be overwritten by simply changing them with {@link Styles.setCss} &lt;br&gt;&lt;br&gt; By default, UIFlex has these styles set:&lt;br&gt; &lt;codeblock&gt; display: flex; flex-wrap: nowrap; justify-content: space-around; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; By extending UIComponent this has all of its native properties and methods. See {@link UIComponent} for more info. &lt;br&gt;&lt;br&gt; For all flexbox options, see https://www.w3schools.com/css/css3_flexbox.asp &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; var myFlexContainer = new UIFlex({ target: T, css: { width: 350, height: 100, backgroundColor: 'rgba(255,0,0,0.3)' }, // optional flexDirection: 'column', justifyContent: 'space-between', flexWrap: 'wrap' }) &lt;/codeblock&gt; &lt;b&gt;Sample 2:&lt;/b&gt;Replace EndFrame UIComponent with a UIFlex&lt;br&gt; &lt;codeblock&gt; function EndFrame() { var T = new UIFlex({ id: 'endframe-container', target: View.main, css: { width: 'inherit', height: 'inherit' } }) return T } &lt;/codeblock&gt; ---------------------------------------------------------------------------------------------------------------------------------------------------------- */ import { UIComponent } from 'ad-ui' import { Styles } from 'ad-view' export default class UIFlex extends UIComponent { constructor(arg) { super(arg) const T = this Styles.injectStylesheet( 'RED_flex', '.flex-container', 'display: flex; flex-wrap: nowrap; justify-content: space-around;', '.flex-container &gt; div', 'position: relative;' ) Styles.addClass(T, 'flex-container') /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER Object.defineProperties(T, { /** @memberOf UIFlex @var {string} flexDirection @desc Setter : Changes the direction of the flexbox. Options: 'row', 'column'. Default: 'row' @example // set myFlexContainer.flexDirection = 'column' */ flexDirection: { set: value =&gt; { Styles.setCss(T, { 'flex-direction': value }) } }, /** @memberOf UIFlex @var {string} justifyContent @desc Setter : Changes the justify layout of the flexbox. Options: 'center', 'flex-start', 'flex-end', 'space-around', 'space-between'. Default: 'space-around' @example // set myFlexContainer.justifyContent = 'space-between' */ justifyContent: { set: value =&gt; { Styles.setCss(T, { 'justify-content': value }) } }, /** @memberOf UIFlex @var {string} flexWrap @desc Setter : Changes the justify layout of the flexbox. Options: 'nowrap', 'wrap'. Default: 'nowrap' @example // set myFlexContainer.flexWrap = 'wrap' */ flexWrap: { set: value =&gt; { Styles.setCss(T, { 'flex-wrap': value }) } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT for (let key of ['flexDirection', 'flexWrap', 'justifyContent']) { if (arg[key]) T[key] = arg[key] } return T } } × Search results Close "},"ad-ui_lib_UIGroup.js.html":{"id":"ad-ui_lib_UIGroup.js.html","title":"Source: ad-ui/lib/UIGroup.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UIGroup.js /** @class UIGroup @param {object} arg an object containing the arguments for defining / orienting the UIGroup, see Properties for more info: @property {element} target the DOM element in which to add the UIGroup @property {array} children an array of DOM elements which will be added @property {object} css CSS properties to apply to the UIGroup parent container - &lt;b&gt;width and height will be ignored!&lt;/b&gt; @property {Align} align the alignment of the UIGroup parent container @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;Github repo&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIGroup } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIComponent} and therefor contains all of the native properties and methods of extending {@link UIComponent}. &lt;br&gt;It relocates an array of DOM elements into a newly created {@link UIComponent}, allowing for easy creation of lockups. &lt;br&gt;Returns a UIComponent &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // basic creation - add children to a UIGroup. let _myLockup = new UIGroup({ target: View.main, children: [myDIV, myTextField, myImage], }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // align the UIGroup after creation. let _myLockup = new UIGroup({ target: View.main, children: [myDIV, myTextField, myImage], align: Align.CENTER, }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // give the parent UIGroup a background color - handy for debugging! let _myLockup = new UIGroup({ target: View.main, children: [myDIV, myTextField, myImage], css:{ backgroundColor: '#ff0000' } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import UIComponent from './UIComponent' import { Clamp, Align } from 'ad-view' class UIGroup { constructor(arg) { // make a parent container to house our incoming children let U = new UIComponent(arg) // add the children let _children = arg.children.slice() while (_children.length &gt; 0) { let _child = _children.shift() if (_child) U.appendChild(_child) } // if width or height values were passed in via arg.css, they will get overwritten here Clamp.set(U, Clamp.XY) if (arg.align) Align.set(U, arg.align) return U } } export default UIGroup × Search results Close "},"ad-ui_lib_UIImage.js.html":{"id":"ad-ui_lib_UIImage.js.html","title":"Source: ad-ui/lib/UIImage.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UIImage.js /** @npmpackage @class UIImage @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UIImage } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIComponent}. It is a DOM element that has default values for the background image styles. They can still be overwritten by simply changing them with {@link Styles.setCss} or the native {@link UIComponent.setCss} method directly on the UIImage instance. &lt;br&gt;&lt;br&gt; By default, UIImage has these styles set:&lt;br&gt; &lt;codeblock&gt; background-repeat : no-repeat; background-size : contain; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; By extending UIComponent this has all of its native properties and methods. See {@link UIComponent} for more info. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // bare minimum creation - image source is required, but can be added to anything and named later. var myImage = new UIImage({ source : 'template_image' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // simple creation - no style // Added to a container, such as Main T.myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // simple creation using a double sized source image var myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image', retina : true }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 4:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // create with assigned styles var myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image', css : { x : 36, y : 14, width : 120, height: 140 } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 5:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // create with only a known height, but maintain the aspect ratio var myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image', css : { width : 120 }, aspectRatio : true }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 6:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // create and align the image inline var myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image', align : { x:{ type : Align.RIGHT, offset : -10 }, y: { type : Align.TOP, offset : 10 } }, aspectRatio : true }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; ---------------------------------------------------------------------------------------------------------------------------------------------------------- */ import UIComponent from './UIComponent' import { ImageManager } from 'ad-control' import { Styles } from 'ad-view' import { UIEvent } from 'ad-events' class UIImage { constructor(arg) { /* TODO - lock aspect ratio (booleam?) */ /* ------------------------------------------------------------------------------------------------------------------------------- */ // BASE CSS Styles.injectStylesheet('RED_uiImage', '.ui-image', 'background-repeat:no-repeat; background-size:contain;') /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _init = true var _source = null var _retina = false var _ratio = 'contain' var _aspectRatio = !!arg.aspectRatio var _css = arg.css || {} /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP if (!arg.source) throw new Error(&quot;UIImage : No image source set on '&quot; + arg.id + &quot;'&quot;) arg.css = arg.css || {} var U = new UIComponent(arg) Styles.addClass(U, 'ui-image') /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER Object.defineProperties(U, { /** @memberOf UIImage @var {string} source @desc Getter|Setter : The Image element id, via {@link ImageManager}, can be changed if need be but best to just make a new UIImage if a new source is needed. Also, use this if you need to access the image for things like getting the original width or height. @example // get console.log( myImage.source ); // set myImage.source = 'template_image'; */ source: { get: function() { return _source }, set: function(value) { _source = ImageManager.get(value) U.style.backgroundImage = 'url(' + _source.src + ')' } }, /** @memberOf UIImage @var {boolean} retina @desc Getter|Setter : A Boolean to determine if the image source is double the size of the desired width &amp; height. This is only relevant if when creating a new UIImage, you do not proved a width or height value. If you do, the UIImage will simply be the size provided. @example // get console.log( myImage.retina ); // set myImage.retina = false; */ retina: { get: function() { return _retina }, set: function(value) { _retina = value resize() } }, /** @memberOf UIImage @var {string} ratio Getter|Setter : A String to set the background-size property. Use the {@link Ratio} class for constants that are easier to understand: {@link Ratio.EXACT}, {@link Ratio.FIT}, {@link Ratio.FILL}, {@link Ratio.STRETCH} @example // get console.log( myImage.ratio ); // set myImage.ratio = Ratio.FILL; */ ratio: { get: function() { return _ratio }, set: function(value) { _ratio = value U.style.backgroundSize = value } }, /** @memberOf UIImage @var {boolean} aspectRatio @desc Getter|Setter : A Boolean to allow for the size of the element to maintain aspect ratio when either the width or height are changed by directly setting them on the element, ie UIImage.width or UIImage.height. If using Styles.setCss() this will NOT work. @example // get console.log( myImage.aspectRatio ); // set myImage.aspectRatio = true; */ aspectRatio: { get: function() { return _aspectRatio }, set: function(value) { _aspectRatio = value resize() } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS U.toString = function() { return '[object UIImage]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function resize(direction) { var denominator = _retina ? 2 : 1 var ratio = _source.width / _source.height var sourceWidth = arg.css.width || _source.width var sourceHeight = arg.css.height || _source.height var updateWidth = arg.css.width == undefined var updateHeight = arg.css.height == undefined if (!_init) { updateWidth = direction == 'height' updateHeight = direction == 'width' sourceWidth = U.width sourceHeight = U.height } if (updateWidth) { var width if (_aspectRatio &amp;&amp; !updateHeight) { width = sourceHeight * ratio } else { width = sourceWidth / denominator } U.style.width = Math.round(width) + 'px' } if (updateHeight) { var height if (_aspectRatio &amp;&amp; !updateWidth) { height = sourceWidth / ratio } else { height = sourceHeight / denominator } U.style.height = Math.round(height) + 'px' } } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleResize(event) { console.log('handleResize()', event, event.direction) resize(event.direction) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.addEventListener(UIEvent.RESIZE, handleResize) U.source = arg.source U.retina = !!arg.retina if (arg.ratio) U.ratio = arg.ratio U._initAlign() _init = false return U } } export default UIImage × Search results Close "},"ad-ui_lib_UISplitText.js.html":{"id":"ad-ui_lib_UISplitText.js.html","title":"Source: ad-ui/lib/UISplitText.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UISplitText.js /** @npmpackage @class UISplitText @param {arg} arg The OBJECT containing all of your UITextField and UISplitText arguments @property {TextSplitType|string} arg.splitType STRING determing if the UISplitText should break a UITextField into individuals words or characters; defaults to TextSplitType.WORDS. @property {boolean} arg.allowSpaceOnBreaks BOOLEAN determining if a line break should include a space following non-punctuational characters. For example: &quot;word &quot; rather than &quot;word&quot;; defaults to false. &lt;br&gt; &lt;img src=&quot;../docs_images/uisplittext/breakSpace_true.jpg&quot; /&gt; &lt;br&gt; &lt;br&gt; &lt;img src=&quot;../docs_images/uisplittext/breakSpace_false.jpg&quot; /&gt; &lt;br&gt; @property {string} arg.spaceBreakIncludes STRING determining what specific characters should be included as part of any line breaks if arg.allowSpaceOnBreaks is set to true; defaults to a-z, A-Z, and 0-9 represented as '[a-z0-9].' @property {boolean} arg.debug BOOLEAN for if you want a debug version featuring a background color and an unadulterated and un-split UITextField to compare your UISplitText instance to; defaults to false. @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UISplitText } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, utilizing {@link UISplitText} and {@link UIComponent}. By extending {@link UIComponent} this has all of its native properties and methods. See {@link UISplitText} and {@link UIComponent} for more info. &lt;br&gt;&lt;br&gt; It is a DOM {@link UIComponent} element that contains text and handles its styling, layout, and formatting in all the same ways as {@link UITextField}. The difference, however, is the it returns a container with each line, word, or character of text broken into individual {@link UITextField}s. &lt;br&gt;&lt;br&gt; By default, a UISplitText will convert a {@link UITextField} into individual words or letters, and group them into {@link UIComponent}s. &lt;br&gt;&lt;br&gt; &lt;b&gt;For Example:&lt;/b&gt; &lt;br&gt;setting the splitType to TextSplitType.WORDS will create a {@link UIComponent} per line and a {@link UITextField} per word. &lt;br&gt;setting the splitType to TextSplitType.CHARACTERS will create a {@link UIComponent} per line, a {@link UIComponent} per word, and a {@link UITextField} per character. &lt;br&gt;&lt;br&gt; UISplitText returns a {@link UIComponent}, representing the main container of the lines, words, and possibly characters. &lt;br&gt; This container contains arrays: &lt;codeblock&gt; // an array of every line of text; each line is a UIComponent _mySplitText.lines; // an array of every word of text. If arg.splitType === TextSplitType.CHARACTERS, these will be UIComponents, otherwise they are UITextFields _mySplitText.words; // an array of every character of text; each character is a {@link UITextField} _mySplitText.characters; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // creates a {@link UITextField} that breaks each character of the text value into its own {@link UITextField} T.mySplitText = new UISplitText({ target : View.main, id : 'my-textfield', css : { x : 50, y : 200, width : 300, height : 90 }, fontSize : 30, fontFamily : 'template_font', format : TextFormat.INLINE, alignText : Align.CENTER, bufferText : { top : 1, bottom : 1, left : 5, right : 5 }, leading : .8, spacing : 2, text : 'This is my awesome sentence!', splitType: TextSplitType.CHARACTERS }); // tweens the main container for the lines, words, and characters TweenLite.from ( View.main.mySplitText.lines[l], 1, {scale: 0 }); // tweens each LINE of text from an alpha of 0 for (var l = 0; l &lt; View.main.mySplitText.lines.length; l++){ TweenLite.from ( View.main.mySplitText.lines[l], 1, {alpha: 0 }); } // tweens each WORD of text from a rotation of 180 for (var w = 0; w &lt; View.main.mySplitText.words.length; w++){ TweenLite.from ( View.main.mySplitText.words[w], 1, {rotation: 180 }); } // tweens each CHARACTER of text from a scale of of 2 for (var c = 0; c &lt; View.main.mySplitText.characters.length; c++){ TweenLite.from ( View.main.mySplitText.characters[c], 1, {scale: 2 }); } &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import UITextField from './UITextField' import UIComponent from './UIComponent' import UIGroup from './UIGroup' import * as TextFormat from './TextFormat' import { Styles, Align, Clamp } from 'ad-view' import { ObjectUtils, ColorUtils } from 'ad-utils' class UISplitText { constructor(arg) { return this._init(arg) } _init(arg) { var self = this // var _buffer = arg.bufferText; delete arg.bufferText arg.text = _mySplitText = arg.text.replace(/&lt;br&gt;/g, ' &lt;br&gt;') var _stringArray = [] var _spanEnd = '&lt;/span&gt;' var _spanIndexStart = _mySplitText.indexOf('&lt;span') var _spanIndexEnd = _mySplitText.indexOf(_spanEnd) while (_spanIndexStart &gt;= 0) { // push anything BEFORE the span into the array var _removeStr = _mySplitText.substring(0, _spanIndexStart) _stringArray.push(_removeStr) // strip the SPAN out of the text _mySplitText = _mySplitText.replace(_removeStr, '') console.log(_mySplitText) console.log(0, _mySplitText.indexOf('&gt;') + 1) _removeStr = _mySplitText.substring(0, _mySplitText.indexOf('&gt;') + 1) // push the text into the array _stringArray.push(_removeStr) _mySplitText = _mySplitText.replace(_removeStr, '') _spanIndexStart = _mySplitText.indexOf('&lt;span') } _stringArray.push(_mySplitText) var _finalArray = [] for (var t = 0; t &lt; _stringArray.length; t++) { var _temp = _stringArray[t].split(_spanEnd) _finalArray.push(_temp[0]) if (_temp.length &gt; 1) { _finalArray.push(_spanEnd) _finalArray.push(_temp[1]) } } // Now that we have looked at the entire string, make the primary reference UITextField out of it var _mainTF = new UITextField(arg) if (!arg.text || !arg.text.length) { _mainTF.lines = [] _mainTF.words = [] _mainTF.characters = [] return _mainTF } var _parsedWords = [] for (var t = 0; t &lt; _finalArray.length; t++) { var _temp = _finalArray[t].indexOf('span') &gt;= 0 ? [_finalArray[t]] : _finalArray[t].split(' ') for (var i = 0; i &lt; _temp.length; i++) if (_temp[i]) _parsedWords.push(_temp[i]) } var _textContainer = new UIComponent({ target: arg.target, id: '_textContainer', css: ObjectUtils.defaults( { x: _mainTF.x, y: _mainTF.y, width: _mainTF.width, height: _mainTF.height, opacity: 1, backgroundColor: arg.debug ? 'cyan' : arg.css.backgroundColor || null }, arg.css, true ) }) _textContainer.appendChild(_mainTF) var _prevText var _x = 0 var _y = 0 var _textLines = { line1: { width: 0, children: [] } } var _lineNum = 1 var _lineWidth = 0 // this creates a placeholder which effectively mimics the sizing of a space // a space in UITextField - &quot; &quot; - is equal to null, and renders no sizing information arg.text = '|' var _spaceText = new UITextField(arg) var _spacing = _spaceText.width //Math.ceil(_mainTF.fontSize / (3.7 / (arg.padding || arg.spacing || 1))); _spaceText.parent.removeChild(_spaceText) _spaceText = null // define the arguments for each individual thing we will make delete arg.css.overflow var _textArgs = { target: _textContainer, css: ObjectUtils.clone(arg.css), format: TextFormat.INLINE_CLAMP, fontSize: _mainTF.fontSize, fontFamily: _mainTF.fontFamily, alignText: _mainTF.alignText, leading: _mainTF.leading, spacing: _mainTF.spacing, smoothing: _mainTF.smoothing } if (arg.debug) { Styles.setCss(_mainTF, { color: ColorUtils.invert({ color: _textArgs.css.color }) }) } var _span var _appendBreakToNext for (var i = 0; i &lt; _parsedWords.length; i++) { var _word = _parsedWords[i] var _wordHasBreak = _word.indexOf('&lt;br&gt;') &gt;= 0 if (_word === '&lt;br&gt;') { _appendBreakToNext = true } _word = _word.replace(/&lt;br&gt;/g, '') // SOMETHING ABOUT STRIPPING AND REPLACING [LARGE] REMOVES A LINE BREAK; if (_word.indexOf('&lt;span') &gt;= 0) { _span = _word continue } else if (_word.indexOf('span&gt;') &gt;= 0) { _span = null continue } if (_word) { if (_appendBreakToNext) _wordHasBreak = true _appendBreakToNext = false // if (_span) _word = _span + _word + _spanEnd; var _clone = ObjectUtils.clone(_textArgs) _clone.css.x = _x _clone.css.y = _y _clone.text = _word _clone.id = _word if (_span) _clone.text = _span + _word + _spanEnd var _newWord = new UITextField(_clone) _newWord.copy = _word _newWord.span = _span // if our text is a paragraph, we want some line breaks. Do that here. if (_wordHasBreak || (_mainTF.format.indexOf('paragraph') &gt;= 0 &amp;&amp; _newWord.width + _newWord.x &gt; _mainTF.width)) { _lineNum++ _textLines['line' + _lineNum] = { width: 0, children: [] } _newWord.x = _x = 0 _y += _newWord.height _newWord.y = _y _textLines['line' + _lineNum].width = 0 } else if (_prevText) { Align.set(_newWord, { y: { type: Align.CENTER, against: _prevText } }) } _x += _newWord.width + _spacing _textLines['line' + _lineNum].width = _newWord.x + _newWord.width _textLines['line' + _lineNum].children.push(_newWord) _prevText = _newWord } } var _newLine var _offset var _prevGroup _textContainer.words = [] _textContainer.lines = [] for (var line in _textLines) { _newLine = _textLines[line] for (var l = 0; l &lt; _newLine.children.length; l++) { var _child = _newLine.children[l] _textContainer.words.push(_child) if (_mainTF.alignText !== Align.LEFT) { _offset = _mainTF.width - _newLine.width if (_mainTF.alignText === Align.CENTER) _offset /= 2 _child.x += _offset } } var _group = new UIGroup({ children: _newLine.children, target: _textContainer }) if (_prevGroup) _group.y = _prevGroup.y + _prevGroup.height * 1 var _lastChar = _group.childNodes[_group.childNodes.length - 1] _lastChar = _lastChar.text.substring(_lastChar.text.length - 1, _lastChar.text.length) if (arg.allowSpaceOnBreaks &amp;&amp; _lastChar.match(new RegExp(arg.spaceBreakIncludes || 'a-z0-9]', 'gi'))) _group.x -= _spacing _textContainer.lines.push(_group) _prevGroup = _group } var _splitType = arg.splitType || TextSplitType.WORDS if (_splitType === TextSplitType.CHARACTERS) { _textContainer.characters = [] for (var w = 0; w &lt; _textContainer.words.length; w++) { var _word = _textContainer.words[w] var _copy = _word.copy while (_word.childNodes.length &gt; 0) _word.removeChild(_word.childNodes[0]) var _x = 0 var _newLetter var _originalW = _word.width for (var l = 0; l &lt; _copy.length; l++) { _textArgs.css.x = _x _textArgs.css.y = 0 _textArgs.target = _word _textArgs.text = _word.span ? _word.span + _copy[l] + _spanEnd : _copy[l] _textArgs.id = _copy + '_' + _copy[l] _newLetter = new UITextField(_textArgs) _x += _newLetter.width _textContainer.characters.push(_newLetter) } Clamp.set(_word, Clamp.XY) Styles.setCss(_word, { overflow: 'inherit', backgroundColor: null }) if (_originalW &lt; _word.width &amp;&amp; _word.childNodes.length) { var _offset = (_word.width - _originalW) / (_word.childNodes.length - 1) for (l = 1; l &lt; _word.childNodes.length; l++) { _newLetter = _word.childNodes[l] _newLetter.x -= Math.abs(_offset * l) } } } if (arg.allowSpaceOnBreaks) for (var l = 0; l &lt; _textContainer.lines.length; l++) Clamp.set(_textContainer.lines[l], Clamp.XY) } if (arg.debug) { _mainTF.x = _mainTF.y = 0 } else { _textContainer.removeChild(_mainTF) _mainTF = null } Clamp.set(_textContainer, Clamp.XY) return _textContainer } } export default UISplitText × Search results Close "},"ad-ui_lib_UISvg.js.html":{"id":"ad-ui_lib_UISvg.js.html","title":"Source: ad-ui/lib/UISvg.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UISvg.js /** @npmpackage @class UISvg @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UISvg } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIComponent}. It is a DOM element that contains a markup &amp;lt;svg&amp;gt; element which allows for vector display, manipulation and animation. This allows for smaller file sizes with crisp visual aesthetics. &lt;br&gt;&lt;br&gt; By extending UIComponent this has all of its native properties and methods. See {@link UIComponent} for more info. &lt;br&gt;&lt;br&gt; &lt;b&gt;&amp;lt;svg&amp;gt; formatting&lt;/b&gt;&lt;br&gt; Original code from Illustrator: &lt;codeblock&gt; &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt; &amp;lt;!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --&amp;gt; &amp;lt;svg version=&quot;1.1&quot; id=&quot;Layer_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; viewBox=&quot;0 0 130 200&quot; style=&quot;enable-background:new 0 0 130 200;&quot; xml:space=&quot;preserve&quot;&amp;gt; &amp;lt;style type=&quot;text/css&quot;&amp;gt; .st0{fill:#00AEEF;stroke:#000000;stroke-miterlimit:10;} &amp;lt;/style&amp;gt; &amp;lt;path id=&quot;XMLID_1&quot; class=&quot;st0&quot; d=&quot;M104.4,149.8L6,194.5l5.1-105.3l66.4,13.1L10.6,6.7l63.6,37.6l24.4-30.4 c26.7,5.8,38.5,90.3-10.1,54.8L104.4,149.8z&quot;/&amp;gt; &amp;lt;/svg&amp;gt; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Things that are unnecessary: &lt;codeblock&gt; &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt; &amp;lt;!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --&amp;gt; &amp;lt;svg version=&quot;1.1&quot; id=&quot;Layer_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; style=&quot;enable-background:new 0 0 130 200;&quot; xml:space=&quot;preserve&quot;&amp;gt; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; The only thing that IS necessary in the &amp;lt;svg&amp;gt; node is: &lt;codeblock&gt; &amp;lt;svg viewBox=&quot;0 0 130 200&quot;&amp;gt; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Trimmed down for source: &lt;codeblock&gt; &amp;lt;svg viewBox=&quot;0 0 130 200&quot;&amp;gt; &amp;lt;style type=&quot;text/css&quot;&amp;gt; .st0{fill:#00AEEF;stroke:#000000;stroke-miterlimit:10;} &amp;lt;/style&amp;gt; &amp;lt;path id=&quot;XMLID_1&quot; class=&quot;st0&quot; d=&quot;M104.4,149.8L6,194.5l5.1-105.3l66.4,13.1L10.6,6.7l63.6,37.6l24.4-30.4 c26.7,5.8,38.5,90.3-10.1,54.8L104.4,149.8z&quot;/&amp;gt; &amp;lt;/svg&amp;gt; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; NOTE: Sometimes there will be a width and/or height attribute. This will overwrite the viewBox and cause display issues. This should be removed &lt;br&gt;&lt;br&gt; Convert to string for javascript. This can be done inline with the UISvg instance, but since vector is scalable and reusable across all sizes, it is a good idea to place this in AdData so that it can be accessed by all builds, classes and instances. &lt;codeblock&gt; // In AdData this.svgSrc = '&amp;lt;svg viewBox=&quot;0 0 130 200&quot;&amp;gt;' + '&amp;lt;style type=&quot;text/css&quot;&amp;gt;.st0{fill:#00AEEF;stroke:#000000;stroke-miterlimit:10;}&amp;lt;/style&amp;gt;' + '&amp;lt;path id=&quot;XMLID_1&quot; class=&quot;st0&quot; d=&quot;M104.4,149.8L6,194.5l5.1-105.3l66.4,13.1L10.6,6.7l63.6,37.6l24.4-30.4c26.7,5.8,38.5,90.3-10.1,54.8L104.4,149.8z&quot;/&amp;gt;' + '&amp;lt;/svg&amp;gt;' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; Create a UISvg: &lt;codeblock&gt; var mySvg = new UISvg ({ id : 'my-svg', target : View.main, source : adData.svgSrc, css : { width : 75 } }) &lt;/codeblock&gt; */ import UIComponent from './UIComponent' import { Styles } from 'ad-view' class UISvg { constructor(arg) { arg.css = arg.css || {} var _source = null var _css = arg.css || {} var _ratio = 1 var _noWidth = _css.width == undefined var _noHeight = _css.height == undefined if (_noWidth &amp;&amp; _noHeight) { _css.width = _css.height = 'inherit' } if (!arg.source) throw new Error(&quot;UISvg : No markup source set on '&quot; + arg.id + &quot;'&quot;) var U = new UIComponent(arg, 'svg') Object.defineProperties(U, { /** @memberOf UISvg @var {string} source @desc Getter|Setter : A string markup of an svg code: which is in an html/xml style format. Note that when exporting from Illustrator or other programs there is extra bloat code that is not necessary. @example // get console.log(mySvg.source) // set mySvg.source = '&lt;svg viewBox=&quot;0 0 130 200&quot;&gt;' + '&lt;style type=&quot;text/css&quot;&gt;.st0{fill:#00AEEF;stroke:#000000;stroke-miterlimit:10;}&lt;/style&gt;' + '&lt;path id=&quot;XMLID_1_&quot; class=&quot;st0&quot; d=&quot;M104.4,149.8L6,194.5l5.1-105.3l66.4,13.1L10.6,6.7l63.6,37.6l24.4-30.4c26.7,5.8,38.5,90.3-10.1,54.8L104.4,149.8z&quot;/&gt;' + '&lt;/svg&gt;' */ source: { get: function() { return _source }, set: function(value) { _source = value U.innerHTML = value var svg = U.getElementsByTagName('svg')[0] var viewBox = svg.getAttribute('viewBox').split(/\\s/g) _ratio = +viewBox[2] / +viewBox[3] } }, /** @memberOf UISvg @var {number} width Getter|Setter : A Number representing the width of the div. Directly gets/sets the style css width. &lt;br&gt;&lt;span style=&quot;color:#ff0000;&quot;&gt;WARN:&lt;/span&gt; This will change the height as well to maintain aspect ratio of the source @example // get console.log(mySvg.width) // set mySvg.width = 140 */ width: { get: function() { return U.offsetWidth }, set: function(value) { var newHeight = value / _ratio Styles.setCss(U, { width: value, height: newHeight }) } }, /** @memberOf UISvg @var {number} height Getter|Setter : A Number representing the height of the div. Directly gets/sets the style css height. &lt;br&gt;&lt;span style=&quot;color:#ff0000;&quot;&gt;WARN:&lt;/span&gt; This will change the width as well to maintain aspect ratio of the source @example // get console.log(mySvg.height) // set mySvg.height = 140 */ height: { get: function() { return U.offsetHeight }, set: function(value) { var newWidth = value * _ratio Styles.setCss(U, { width: newWidth, height: value }) } } }) U.toString = function() { return '[object UISvg]' } U.source = arg.source if (_noWidth &amp;&amp; _noHeight) { } else if (_noWidth) { U.height = _css.height } else if (_noHeight) { U.width = _css.width } U._initAlign() return U } } export default UISvg × Search results Close "},"ad-ui_lib_UITextField.js.html":{"id":"ad-ui_lib_UITextField.js.html","title":"Source: ad-ui/lib/UITextField.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-ui/lib/UITextField.js /** @npmpackage @class UITextField @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-ui&quot;&gt;ad-ui&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UITextField } from 'ad-ui' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIComponent}. By extending {@link UIComponent} this has all of its native properties and methods. See {@link UIComponent} for more info. &lt;br&gt;&lt;br&gt; It is a DOM element that contains text and handles its styling, layout, and formatting. There are multiple format types, which allow for different use cases, whether it be an auto word wrapping paragraph style or rigid lines. &lt;br&gt;&lt;br&gt; Auto-sizing of font is built into the types, so there is no longer a need to run a secondary method. Just set that type and it does it automatically. See {@link TextFormat} for more info on each type. &lt;br&gt;&lt;br&gt; UITextfield works by utilizing native css properties to accomplish things like vertical and horizontal alignment, leading (line spacing), and padding. There are getter/setters for display properties so generally speaking, there should not be a need to manually manipulate the css of the content. Rather than having multiple nested divs that all must using their width and height to accomplish these, using the native css allows for greater control. &lt;br&gt;&lt;br&gt; So, UITextField is simply a &amp;lt;div&gt; and a child &amp;lt;span&gt; element that holds the content. That &amp;lt;span&gt; element is relativly placed which is how all the css works, so it is advised against targeting that &amp;lt;span&gt; for any reason. Use the top level for animation. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // creates a textfield on Main container that displays text in a line T.myTextField = new UITextField({ target : T, id : 'my-textfield', css : { x : 50, y : 200, width : 300, height : 90 }, fontSize : 30, fontFamily : 'template_font', format : TextFormat.INLINE, alignText : Align.CENTER, bufferText : { top : 1, bottom : 1, left : 5, right : 5 }, leading : .8, spacing : 2, text : 'This is my awesome sentence!' }); // referenced later anywhere outside the class by View.main.myTextField &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // creates a textfield that displays text as a paragraph, but resizes to fit the container T.myTextField = new UITextField ({ target : T, id : 'my-textfield', css : { x : 50, y : 200, width : 200, height : 90 }, fontSize : 30, fontFamily : 'template_font', format : TextFormat.PARAGRAPH_FIT, alignText : Align.LEFT, leading : .8, text : 'This is my awesome sentence!' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 3:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // creates a textfield and resizes the container to fit the text View.main.myTextField = new UITextField ({ target : View.main, id : 'my-textfield', css : { x : 50, y : 200, width : 30, height : 10 }, fontSize : 30, fontFamily : 'template_font', format : TextFormat.INLINE_CLAMP, alignText : Align.LEFT, leading : .8, text : 'This is my awesome sentence!' }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import UIComponent from './UIComponent' import { Styles } from 'ad-view' import { MathUtils } from 'ad-utils' class UITextField { constructor(arg) { /* VERSION - 2016.07.27 TODO - debug - use class BUGS - CODE NOTE div { width: 250px; height: 100px; text-align: center; border: 1px solid #123456; font-size: 24px; display: inline-block; } span { display: table-cell; vertical-align: center; height: 100px; width: 250px; line-height: 130%; background-color: rgba(200,0,0,.5); } */ /* ------------------------------------------------------------------------------------------------------------------------------- */ // BASE CSS Styles.injectStylesheet( 'RED_uiTextfield', '.ui-textfield', 'position:absolute; white-space:nowrap;', '.smooth-text', '-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;', '.ui-textfield .content', 'position:relative; display:table-cell; cursor:default; pointer-events:none; line-height:100%; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none;' ) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _alignText var _fontSize = 0 var _fontFamily var _format = '' var _leading var _spacing var _bufferText = { top: 0, bottom: 0, left: 0, right: 0 } var _text = '' var _init = true var _verticalAlign var _smoothing var _defaults = {} /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP arg = arg || {} var U = new UIComponent(arg) Styles.addClass(U, 'ui-textfield') var _content = document.createElement('span') Styles.addClass(_content, 'content') U.appendChild(_content) /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER Object.defineProperties(U, { /** @memberOf UITextField @var {string|Align} alignText Getter|Setter : A String, or {@link Align} constant, representing the alignment of the text content inside the UITextField. @example // change the size of the font View.main.myTextField.alignText = Align.BOTTOM_RIGHT; // get the current size of the font console.log( View.main.myTextField.alignText ); */ alignText: { get: function() { return _alignText }, set: function(value) { //console.log( 'UITextfield :: SET -&gt; alignText =', value ) if (value &amp;&amp; _alignText != value) { _alignText = value var ta = (_alignText.match(/(left|right)/gi) || ['center'])[0].toLowerCase() Styles.setCss(U, { lineHeight: U.height, textAlign: ta }) _verticalAlign = (_alignText.match(/(bottom|top)/gi) || ['middle'])[0].toLowerCase() Styles.setCss(_content, { verticalAlign: _verticalAlign }) } } }, /** @memberOf UITextField @var {number} fontSize Getter|Setter : A Number representing the current size of the text font. @example // change the size of the font View.main.myTextField.fontSize = 14; // get the current size of the font console.log( View.main.myTextField.fontSize ); */ fontSize: { get: function() { return _fontSize }, set: function(value) { if (!isNaN(value) &amp;&amp; value &gt; 0) { _fontSize = value U.style.fontSize = ~~value + 'px' update() } } }, /** @memberOf UITextField @var {string} fontFamily Getter|Setter : A String representing the current font family being assigned to the text. @example // change the font View.main.myTextField.fontFamily = 'Arial'; // get the current font console.log( View.main.myTextField.fontFamily ); */ fontFamily: { get: function() { return _fontFamily }, set: function(value) { _fontFamily = value U.style.fontFamily = value update() } }, /** @memberOf UITextField @var {string|TextFormat} format Getter|Setter : A String, or {@link TextFormat} constant, representing the layout type for the text within the UITextField. &lt;br&gt;&lt;br&gt; This is what defines if the text is either in a line, word wrapped like a paragraph, has auto sizing to the font soze or if the UITextField is resized to the content. See {@link TextFormat} for more info. @example View.main.myTextField = new UITextField({ target : View.main, id : 'my-textfield', css : { width : 200, height : 90 }, fontSize : 30, format : TextFormat.INLINE, text : 'This is my awesome sentence!' }); // change from an inline to a word warping paragraph style View.main.myTextField.format = TextFormat.PARAGRAPH; // change back to inline with autosizing View.main.myTextField.format = TextFormat.INLINE_FIT; // change back to a word warpping paragraph style that auto sizes the font to fit perfectly View.main.myTextField.format = TextFormat.PARAGRAPH_FIT; // resize the UITextField to fit the size of all the text as inline View.main.myTextField.format = TextFormat.INLINE_CLAMP; // resize the UITextField to fit the size of all the text as a paragraph View.main.myTextField.format = TextFormat.PARAGRAPH_CLAMP; */ format: { get: function() { return _format }, set: function(value) { //console.log( 'UITextfield :: SET -&gt; format =', value ) if (_format != value) { _format = value // any inline type uses 'nowrap' / any paragraph uses 'normal' Styles.setCss(U, { whiteSpace: /inline/g.exec(_format) != null ? 'nowrap' : 'normal' }) update() } } }, /** @memberOf UITextField @var {number} leading Getter|Setter : A Number representing the percentage of spacing between each line relative to the font size. &lt;br&gt;&lt;br&gt; By default, a value of 1 is equal to a default line-height value similar to Photoshop. A value of 0 will have each line on top of each other, as if it was written over the previous line. So to create a look that is slightly tighter than default, you would use something like a value of .8 to bring the lines a little closer together. &lt;br&gt;&lt;br&gt; The use of a percentage allows for the font size to change without having to redefine the line-height spacing. @example // change the percentage of spacing between lines relative to the font size View.main.myTextField.leading = .8; // get the current percentage of spacing between lines relative to the font size console.log( View.main.myTextField.leading ); */ leading: { get: function() { return _leading }, set: function(value) { //console.log( 'UITextfield :: SET -&gt; leading =', value ) if (value &amp;&amp; _leading != value) { _leading = value Styles.setCss(_content, { lineHeight: _leading * 100 + '%' }) update() } } }, /** @memberOf UITextField @var {number} spacing Getter|Setter : A Number representing the spacing between each letter. @example // change the spacing between each letter View.main.myTextField.spacing = 3; // get the current letter spacing console.log( View.main.myTextField.spacing ); */ spacing: { get: function() { return Styles.getCss(U, 'letter-spacing') || _spacing }, set: function(value) { if (value &amp;&amp; _spacing != value) { _spacing = value Styles.setCss(U, { letterSpacing: value }) update() } } }, /** @memberOf UITextField @var {number|array} bufferText Getter|Setter : A Number or Array of Numbers representing the amount of spacing from the edges of the UITextField and the text content. &lt;br&gt;&lt;br&gt; This sets the css margin, but also is used for calculations for auto sized formats. Setting the margin manually will cause layout issues as the class does not have those numbers to calculate against. @example // set the padding on all 4 sides uniformly View.main.myTextField.bufferText = 5; // set the padding on top &amp; bottom = 7 and left &amp; right = 5 View.main.myTextField.bufferText = [7,5]; // set the top = 7, right = 3, bottom = 5, left = 6 View.main.myTextField.bufferText = [7,3,5,6]; // get the current padding console.log( View.main.myTextField.bufferText ); */ bufferText: { get: function() { return _bufferText }, set: function(value) { //console.log( 'UITextfield :: SET -&gt; bufferText =', value ) if (value &amp;&amp; _bufferText != value) { var style = '' var order = ['top', 'right', 'bottom', 'left'] for (var i = 0; i &lt; 4; i++) { var prop = order[i] var propValue = isNaN(value) ? value[prop] || 0 : value //console.log( i, prop, propValue, value[prop] ) _bufferText[prop] = propValue style += propValue + 'px ' } Styles.setCss(_content, { padding: style }) update() } } }, /** @memberOf UITextField @var {string} text Getter|Setter : A String representing the current String text content. @example // change the display text View.main.myTextField.text = &quot;Change my text to say this.&quot;; // get the current display text console.log( View.main.myTextField.text ); */ text: { get: function() { return _text }, set: function(value) { //console.log( 'UITextfield :: SET -&gt; text =', value ) if (value != undefined &amp;&amp; value != '') { _text = value U.setDefault('text', value) _content.innerHTML = value update() } } }, /** @memberOf UITextField @var {boolean} smoothing Getter|Setter : A Boolean to add or remove the css smoothing: &lt;code&gt;-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;&lt;/code&gt; @example View.main.myTextField.smoothing = false; // // get the current smoothing console.log( View.main.myTextField.smoothing ); */ smoothing: { get: function() { return _smoothing }, set: function(value) { _smoothing = value Styles[_smoothing ? 'addClass' : 'removeClass'](_content, 'smooth-text') } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf UITextField @method resetToDefault @param {args} arguments @desc Change specific properties, or all properties (by passing nothing in) back to their default values, which are initally set to the values passed in upon instantiation of a UITextField. This is useful when reusing this for multiple inputs, such as with carousels where the content is of various sizes. @example // reset specific default values myTextField.resetToDefault( 'leading', 'fontSize' ); // reset all default values myTextField.resetToDefault(); */ U.resetToDefault = function() { _init = true if (arguments.length &gt; 0) { for (var i = 0; i &lt; arguments.length; i++) { U[arguments[i]] = _defaults[arguments[i]] } } else { // console.log( Array(100).join('*') ) // console.log( _defaults ) for (var param in _defaults) { // check for the param first, only errors in IE11/Win7 // also check for undefined becusue only checking the key will be false with a 0 value if (U[param] != undefined) { U[param] = _defaults[param] } } } _init = false update() } /** @memberOf UITextField @method setDefault @desc Assign a default value, so that when resetToDefault() is called, it will include this value. @example myTextField.setDefault( 'fontSize', 16 ); */ U.setDefault = function(key, value) { _defaults[key] = value } U.toString = function() { return '[object UITextfield]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function initDefaults() { for (var a in arg) { if (a == 'css') { for (var b in arg.css) { switch (b) { case 'x': case 'y': case 'width': case 'height': _defaults[b] = arg.css[b] break } } } else if (a == 'bufferText') { _defaults[a] = {} for (var prop in _bufferText) { _defaults[a][prop] = arg[a][prop] || 0 } } else { _defaults[a] = arg[a] } } //console.log( 'defaults:', _defaults ) delete _defaults.target delete _defaults.id } function update() { if (_init) return switch (_format) { case 'paragraphClamp': case 'inlineClamp': resizeToContent() break // FitClamp types are 2 phases, easiest to temp change it, run update twice, and set it back case 'inlineFitClamp': _format = 'inlineFit' autoSizeContent() _format = 'inlineClamp' resizeToContent() _format = 'inlineFitClamp' break case 'paragraphFitClamp': _format = 'paragraphFit' autoSizeContent() _format = 'paragraphClamp' resizeToContent() _format = 'paragraphFitClamp' default: autoSizeContent() } } function autoSizeContent() { //temp set it to default for resizing Styles.setCss(_content, { verticalAlign: 'auto', height: 'auto', width: 'auto' }) if (_format == 'paragraphFit') { var tempFontSize = _fontSize // check the height first to allow for word wrap to fit vertically first while (U.scrollHeight &gt; U.offsetHeight) { if (tempFontSize &lt;= 0) break tempFontSize-- U.style.fontSize = tempFontSize + 'px' } // then, if it is still overspraying horizontally, shrink again to fit while (U.scrollWidth &gt; U.offsetWidth) { if (tempFontSize &lt;= 0) break tempFontSize-- U.style.fontSize = tempFontSize + 'px' } _fontSize = tempFontSize U.style.fontSize = _fontSize + 'px' } else if (_format == 'inlineFit') { // NOTE: IE wont return correct width/height if the font is smaller than the parent, so using large numbers for ratios var parentWidth = U.offsetWidth var parentHeight = U.offsetHeight U.style.fontSize = '243px' var largeWidth = _content.offsetWidth var largeHeight = _content.offsetHeight U.style.fontSize = '182px' var smallWidth = _content.offsetWidth var smallHeight = _content.offsetHeight var fontSizeWidth = MathUtils.rel(243, 182, largeWidth, smallWidth, parentWidth) var fontSizeHeight = MathUtils.rel(243, 182, largeHeight, smallHeight, parentHeight) _fontSize = ~~Math.min(_fontSize, Math.min(fontSizeWidth, fontSizeHeight)) U.style.fontSize = _fontSize + 'px' } if (_verticalAlign) { Styles.setCss(_content, { verticalAlign: _verticalAlign, height: U.offsetHeight - _bufferText.top - _bufferText.bottom, width: U.offsetWidth - _bufferText.left - _bufferText.right }) } } function resizeToContent() { //Styles.setCss( U, { lineHeight: 'normal' }); //Styles.setCss( _content, { lineHeight:'normal', verticalAlign:'auto' }); // set the content width/height for assigning clamp after created with fit Styles.setCss(_content, { height: 'auto', width: 'auto' }) U.width = _content.offsetWidth U.height = _content.offsetHeight } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.enabled = true initDefaults() U.format = arg.format U.fontSize = arg.fontSize U.fontFamily = arg.fontFamily || 'Arial' U.alignText = arg.alignText U.bufferText = arg.bufferText U.leading = arg.leading U.spacing = arg.spacing U.smoothing = arg.smoothing != false _init = false U.text = arg.text U._initAlign() return U } } export default UITextField × Search results Close "},"ad-video_lib_ui_UITimeDisplay.js.html":{"id":"ad-video_lib_ui_UITimeDisplay.js.html","title":"Source: ad-video/lib/ui/UITimeDisplay.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/ui/UITimeDisplay.js /** @class UITimeDisplay @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;Github repo&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { UITimeDisplay } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UITextField} with direct control to a {@link VideoPlayer} instance. It displays the time of {@link VideoPlayer}. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a {@link VideoPlayer} instance. See {@link UITextField} for more info.&lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 1&lt;/b&gt;&lt;br&gt; Add the time display to the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { timeDisplay : { css : { height : 'inherit', color : '#ffffff' }, fontSize : 18, fontFamily : 'Arial', alignText : Align.CENTER, bufferText : { left : 5, right : 5 }, showDuration : true } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample 2&lt;/b&gt;&lt;br&gt; Add the time display on the screen, NOT on the controlBar&lt;br&gt; &lt;codeblock&gt; var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { timeDisplay : { css : { height : 50, color : '#ffffff' }, fontSize : 18, fontFamily : 'Arial', alignText : Align.CENTER, showDuration : true } }, } }); &lt;/codeblock&gt; */ import { UITextField } from 'ad-ui' import { UIEvent } from 'ad-events' import MediaEvent from '../events/MediaEvent' function UITimeDisplay(player, arg) { // TODO - initial click not working if volume slider used first var U = new UITextField(arg) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PROPERTIES var _showDuration = true var _duration = '0:00' var _timeStr = '0:00' /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER /** @memberOf UITimeDisplay @var {boolean} showDuration @desc Getter | Setter : Toggles if the time will have the duration appended to the display. &lt;br&gt; Will output either #:## or #:##/#:## */ Object.defineProperty(U, 'showDuration', { get: function() { return _showDuration }, set: function(state) { _showDuration = state _duration = state ? ' / ' + formatTime(player.duration) : '' } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS U.toString = function() { return '[object UITimeDisplay]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function formatTime(time) { time = time || 0 var min = Math.floor(time / 60) var sec = Math.floor(time - min * 60) if (sec &lt; 10) sec = '0' + sec return min + ':' + sec } function assignText() { U.text = _timeStr + _duration } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleLoadedData(event) { U.showDuration = _showDuration } function handleTimeUpdate(event) { _timeStr = formatTime(player.screen.currentTime) assignText() } function handleBaseEnabled(event) { var listener = U.enabled ? 'addEventListener' : 'removeEventListener' player.screen[listener]('loadeddata', handleLoadedData, false) player.screen[listener]('timeupdate', handleTimeUpdate, false) player.screen[listener](MediaEvent.PLAY, handlePlay) player.screen[listener](MediaEvent.PROGRESS, handleProgress) } function handlePlay(event) { U.showDuration = true } function handleProgress(event) { _timeStr = formatTime(player.currentTime) assignText() } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT U.addEventListener(UIEvent.ENABLED, handleBaseEnabled) //player.screen.addEventListener ( MediaEvent.PLAY, handlePlay ); //player.screen.addEventListener ( MediaEvent.PROGRESS, handleProgress ); U.enabled = true U.showDuration = arg.showDuration != false assignText() return U } export default UITimeDisplay × Search results Close "},"ad-geom_lib_Vector2D.js.html":{"id":"ad-geom_lib_Vector2D.js.html","title":"Source: ad-geom/lib/Vector2D.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-geom/lib/Vector2D.js /** @npmpackage @class Vector2D @param {number} x @param {number} y @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-geom&quot;&gt;ad-geom&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Vector2D } from 'ad-geom' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; A simple 2D Vector classs @example var myVector1 = new Vector2D( 0, 320 ); var myVector2 = new Vector2D( -3, 5.5 ); */ import { MathUtils } from 'ad-utils' class Vector2D { constructor(x, y) { this.x = x || 0 this.y = y || 0 } /** @memberOf Vector2D @method add @param {Vector2D} v @returns {Vector2D} @desc Adds another vector to itself @example myVector1.add( myVector2 ); */ add(v) { this.x += v.x this.y += v.y return this } /** @memberOf Vector2D @method sub @param {Vector2D} v @returns {Vector2D} @desc Subtracts another vector from itself @example myVector1.sub( myVector2 ); */ sub(v) { this.x -= v.x this.y -= v.y return this } /** @memberOf Vector2D @method dist @param {Vector2D} v @returns {number} The distance between two vectors as locations @example var distance = myVector.dist( myVector2 ); */ dist(v) { var x = this.x - v.x var y = this.y - v.y return Math.sqrt(x * x + y * y) } /** @memberOf Vector2D @method mult @param {number} s @desc Multiplies X and Y of the vector by s @example myVector.mult( 10.3 ); */ mult(s) { this.x *= s this.y *= s return this } /** @memberOf Vector2D @method div @param {number} s @returns {Vector2D} @desc Divides X and Y of the vector by s @example myVector.div( 2 ); */ div(s) { this.x /= s this.y /= s return this } /** @memberOf Vector2D @method limit @param {number} s @returns {Vector2D} @desc Limits the length of the vector if it's longer than s @example myVector.limit( 18.2 ); */ limit(s) { var m = this.length() if (m &gt; s) { this.mult(s / m) } return this } /** @memberOf Vector2D @method length @returns {number} The length of the vector. @example var length = myVector.length(); */ length() { return Math.sqrt(this.x * this.x + this.y * this.y) } /** @memberOf Vector2D @method normalize @returns {Vector2D} @desc Normalizes the vector( ie scale the vector to length of 1 ) @example myVector.normalize(); */ normalize() { var ratio = 1 / this.length() return this.mult(ratio) } /** @memberOf Vector2D @method clone @returns {Vector2D} @desc Creates a new Vector2D with and same x and y @example var newVecotor = myVector.clone(); */ clone() { return new Vector2D(this.x, this.y) } /** @memberOf Vector2D @method degreeToVector @returns {Vector2D} @desc Converts a degree 0 - 360 to a normalized vector @example var myVecotor = Vector2D.degreeToVector( 45 ); */ static degreeToVector(d) { var theta = MathUtils.toRadians(d) return new Vector2D(Math.cos(theta), Math.sin(theta)) } /** @memberOf Vector2D @method random @param {number} degreeIncrement Optional, the degree increment of the random vector, defaults to 0.01 @returns {Vector2D} @desc Returns a random normalized vector @example var myVecotor1 = Vector2D.random(); var myVecotor2 = Vector2D.random( 1 ); */ static random(degreeIncrement) { var inc = degreeIncrement || 0.01 return Vector2D.degreeToVector(MathUtils.random(0, 360, inc)) } } export default Vector2D × Search results Close "},"ad-external_lib_Velvet.js.html":{"id":"ad-external_lib_Velvet.js.html","title":"Source: ad-external/lib/Velvet.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-external/lib/Velvet.js /** @npmpackage @class Velvet @static @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-external&quot;&gt;ad-external&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { Velvet } from 'ad-external' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object is meant to handle all of our json loading and parsing from the Velvet platform. &lt;br&gt;&lt;br&gt; When testing, changing the date can be a crucial testing step. see DateManager for more information. */ import { DataLoader } from 'ad-load' import { DateManager } from 'ad-dates' import { MathUtils } from 'ad-utils' let _baseUrlLive = 'https://json.ff0000-cdn.net/' let _baseUrlPreview = 'https://preview.ff0000-cdn.net/preview/' let _qaBaseUrlLive = 'https://qa.ff0000-cdn.net/' let _qaBaseUrlPreview = 'https://qa.velvet.tech/preview/' let _baseUrlNow = undefined let _baseSlugs = undefined let _settings = undefined let _debug = false let _resolved = undefined let adDataRaw = {} /* ------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberOf Velvet @method init @param {object} settings see &quot;Properties&quot; for more information @property {string} client the first &quot;slug&quot; in the url string @property {string} locale the second &quot;slug&quot; in the url string @property {string} segment the third &quot;slug&quot; in the url string - this defines the segment, aka the map to which addata will be loaded @property {string} addata Optionally, when viewing an addata url, the last &quot;slug&quot; defines which data set id being used. This can be manually set in the ad, mostly jsut for testing purposes @desc This passes the settings object from parent scope and initialized the class. In the index is an Object of &quot;slugs&quot; which are 10 digit Strings which are keys for locations of the client, locale, segment of the that data on Velvet cdn. @example // in the index.html, inside adParams: velvet : { client : &quot;ZcHT9C9y6Z&quot;, locale : &quot;whV1g8DKPe&quot;, segment : &quot;C4iaBG6CoP&quot;, //adData : &quot;jaScLD8ayE&quot; } */ export function init(settings) { console.log('Velvet.init()') // check if on QA or not first. Must use referrer as window.location.href will not bubble up out of the iframe const url = document.referrer const isQA = url.match(/qa\\.velvet\\.tech/) if (isQA) { console.log('\\tis on qa.velvet.tech') _baseUrlLive = _qaBaseUrlLive _baseUrlPreview = _qaBaseUrlPreview } if (isPreviewLocation()) { console.log('\\tPreview requested') _baseUrlNow = _baseUrlPreview } else { console.log('\\tLive requested') _baseUrlNow = _baseUrlLive } _settings = settings _baseSlugs = _settings.client + '/' + _settings.locale + '/' console.log('\\tbase url:', _baseUrlNow) console.log('\\tbase slugs:', _baseSlugs) var query = getQueryParams() console.log('\\tquery:', query) if (query.addata) { console.log('\\t\\tAd Data set via query') _settings.adData = query.addata } return new Promise((resolve, reject) =&gt; { _resolved = resolve console.log('\\tVelvet.init() Promise') _settings.adData ? _loadAdData() : _loadSegment() }) } /** @memberOf Velvet @method get @param {object|string|boolean} arguments The arguments have many possible uses: &lt;br&gt; 1. A String can be a name of a node or a path to a node seperated by a &quot;.&quot; &lt;br&gt; 2. Object followed by a String is used to specify a starting point for the get method to search for the node provided as the second argument on the String. &lt;br&gt; 3. A boolean of true as the last argument (second for option 1, third for option 2), will have the method search recurrsively through the data object for the key. Otherwise, it will only look at the level provided. &lt;br&gt; See the example. @description This method is used to get any node from the JSON by name. All nodes in Velvet have a 'type' and 'value'; the return is always the 'value' @example // sample Velvet JSON data { title : { type : &quot;SingleLineText&quot;, value : &quot;WHAT DO YOU SEE?&quot; }, matchup : { type : &quot;CollectionSeries&quot;, value : [ game : { type : &quot;CollectionSingleItem&quot;, value : { away_team : { type : &quot;CollectionSingleItem&quot;, value : { name : { type : &quot;SingleLineText&quot;, value : &quot;USC&quot; }, color : { type : &quot;Color&quot;, value : &quot;#003da5&quot; }, logo : { type : &quot;Image&quot;, value : { content_type : &quot;image/png&quot;, name : &quot;USC_sg1SohS.png&quot;, url : &quot;https://us-east.manta.joyent.com/adtech/public/ad_manager/clients/3YLOU2j85h/collections/TCAHAe8v8B/USC_sg1SohS.png&quot; } } } }, home_team : { type : &quot;CollectionSingleItem&quot;, value : { name : { type : &quot;SingleLineText&quot;, value : &quot;Standford&quot; }, color : { type : &quot;Color&quot;, value : &quot;#A80532&quot; }, logo : { type : &quot;Image&quot;, value : { content_type : &quot;image/png&quot;, name : &quot;stanford.png&quot;, url : &quot;https://us-east.manta.joyent.com/adtech/public/ad_manager/clients/3YLOU2j85h/collections/tLtLMaynyq/stanford.png&quot; } } } } } } ] }, live_url : { type : &quot;URL&quot;, value : &quot;http://es.pn/2cilNDt?ex_cid=2016_CFB_Banner_3_50005170003&quot; } } // Provide a node name var title = Velvet.get ( 'title' ); // &quot;WHAT DO YOU SEE?&quot; // Get a collection, such as a team for later use: var awayTeam = Velvet.get ( 'away_team', true ); // returns the whole object of the away_team. Since 'away_team' is nested, the true // will make the get go recursively through all children to find the node. // NOTE: there is only 1 instance of &quot;away_team&quot; so only 1 will return. // However, if there were more matchups, it would return all away teams as an array. // So to target specifically this matchup, call the away team by targeted path. // To do so, write out the path using a &quot;.&quot; for each child. var awayTeam = Velvet.get ( 'matchup.0.game.away_team' ); // Note that there is no need to use the &quot;.value&quot; key as the system assumes // that for you when using Velvet.get(). This returns the object as is, so // if you use it later, you will need to specify the &quot;.value&quot; to read properly // OR // Use the variable as a starting point for the searching var awayTeamName = Velvet.get ( awayTeam, 'name' ); // &quot;USC&quot; */ export function get() { // check if the first arg is a key = 'node' / 'path.node' OR is it a sub object to look within var _useRawObject = typeof arguments[0] === 'string' var key = arguments[_useRawObject ? 0 : 1] var source = _useRawObject ? adDataRaw : arguments[0] // will it search through all layers? default false var recursive = !!arguments[_useRawObject ? 1 : 2] if (_debug) console.log(Array(100).join('-') + '\\nget(', key, ')\\nwithin:', source, '\\nrecursive:', recursive) var result = [] // strip the original key of all '.values' var strippedKey = key.replace(/\\.value(\\.|)/g, '.').replace(/\\.$/, '') if (_debug) console.log('\\tstrippedKey:', strippedKey) // split the path up, eg: 'grand.parent.child' &gt; [ grand, parent, child ] var splits = strippedKey.split('.') var anchor // remove the last value with is the target node var targetKey = splits.pop() // add back in all the '.value' where applicable var pathInExpanded = '' for (var i = 0; i &lt; splits.length; i++) { if (i &gt; 0) pathInExpanded += '.' pathInExpanded += splits[i] if (isNaN(splits[i])) { pathInExpanded += '.value' } } if (_debug) console.log('\\tkey:', key, '\\n\\tsplits:', splits, '\\n\\tpathInExpanded:', pathInExpanded) // is the a specific path to follow or just a key? var _pathed = splits.length &gt; 0 if (_pathed) { splits = pathInExpanded.split('.') // extract out the anchor to know where the path starts at, not necessarily at the top anchor = splits.shift() splits.push(targetKey) if (_debug) console.log('\\tanchor:', anchor, '\\n\\tsplits again:', splits) } function walk(elem) { switch (Object.prototype.toString.call(elem)) { case '[object Object]': walkObject(elem) break case '[object Array]': walkArray(elem) break } } function walkObject(obj) { if (_debug) console.log('walkObject() &gt;', obj) // at this level, just check key? if not found AND recurrsive, then use loop for (var param in obj) { readProperty(obj, param) } } function walkArray(arr) { if (!_pathed &amp;&amp; !isNaN(targetKey)) { // if looking for an index value of a passed in array result.push(arr[targetKey]) } else { for (var i = 0; i &lt; arr.length; i++) { walkObject(arr[i]) } } } function properKey(obj) { return obj.hasOwnProperty('value') ? obj.value : obj } function readProperty(obj, param) { if (_debug) console.log('\\t\\t\\t readProperty()', obj, param, '|', anchor, '|', targetKey) if (param == targetKey &amp;&amp; !_pathed) { // if a match is found // AND // only if no path is set, store it, otherwise it will // store false equivelants when recurively going through objects result.push(properKey(obj[param])) } else if (param == anchor) { // if the anchor, eg 'grand', is found, skip to reading the whole path eg 'grand.parent.child' var narrowDown = readPropertyPath(splits, obj[param]) if (_debug) console.log('param:', param, '\\n\\tnarrowDown:', narrowDown, '\\n\\tobj[param]:', obj[param], param) if (narrowDown) { result.push(properKey(narrowDown)) } return } // only if looping thought recursivley, handle objects or arrays if (recursive) { walk(obj[param]) } } // repurposed from ObjectUtils, reads a path 'grand.parent.child' and returns that node on 'child' function readPropertyPath(splits, obj) { var result = obj || {} var i var s for (i = 0; result &amp;&amp; (s = splits[i]); i++) { result = s in result ? result[s] : undefined } return result } // start walking through the top object or array supplied walk(source) if (result.length == 1) { result = result[0] if (result &amp;&amp; Object.keys(result).length == 0){ result = undefined } } else if (result.length == 0) { result = undefined } if (_debug) console.log(result) return result } /** @memberOf Velvet @method isPreviewLocation @description This method returns true for all the locations that should load PREVIEW.JSON instead of published.json. Safeguards are in place so that even an ad in a staging/build-state will load published json, if running in any http(s) locations other than the ones listed. */ export function isPreviewLocation() { console.log('\\n\\n Velvet.isPreviewLocation() &gt; queryParams? \\n\\n') var href = window.location.href if (href == undefined || href == null) return false if (queryParams.velvet === 'production') { return false } // local locations if ( href.match(/^file/) || href.match(/manta\\.joyent\\.com/) || href.match(/ff0000\\.com/) || href.match(/adprodtest/) || href.match(/client\\-projects\\.com/) || href.match(/[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+:[0-9]+/) ) { return true } // other locations return false } /* ------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function _loadSegment() { new DataLoader(_baseUrlNow + _baseSlugs + _settings.segment, { name: 'segmentLoader', fileType: 'json', onComplete: _handleSegmentLoadComplete, onFail: global.failAd // scope: V }).load() } function _loadAdData() { // const V = this new DataLoader(_baseUrlNow + _baseSlugs + _settings.adData, { name: 'velvetAdDataLoader', fileType: 'json', onComplete: _handleAdDataLoadComplete, onFail: global.failAd // scope: V }).load() } /* ------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function _handleSegmentLoadComplete(event) { var segmentJson = JSON.parse(event.dataRaw) console.log('Velvet segment Json:\\n', segmentJson) // check if there is a timezone to apply as default to all display times: adParams.defaultTimezone = segmentJson.tz if (adParams.defaultTimezone) { console.log('\\tdefaultTimezone:', adParams.defaultTimezone) } var timeblocks = segmentJson.timeblocks var now = DateManager.getNow() console.log('\\tnow:', new Date(now)) // sort through timeblocks to find the current for (var i = 0; i &lt; timeblocks.length; i++) { var startDate = timeblocks[i].time console.log('\\t\\t&gt;', new Date(startDate)) if (now &lt; startDate) { break } } const latestIndex = i - 1 //console.log( '\\tnow:', new Date(now), '| timeblock:', new Date(startDate), '| latestIndex:', latestIndex ) if (latestIndex &lt; 0) { global.failAd() return } else { console.log('\\tselected timeblock:', timeblocks[latestIndex]) } var rotation = timeblocks[latestIndex].ad_rotation _settings.adData = MathUtils.randomWeightedKey(rotation) console.log('\\tselected ad slug:', _settings.adData) if (_settings.adData === 'USE_STATIC') { useStatic() return } _loadAdData() } function _handleAdDataLoadComplete(event) { console.log('Velvet._handleAdDataLoadComplete()') adDataRaw = JSON.parse(event.dataRaw) console.log('adDataRaw:\\n', adDataRaw) _resolved() } × Search results Close "},"ad-video_lib_VideoControls.js.html":{"id":"ad-video_lib_VideoControls.js.html","title":"Source: ad-video/lib/VideoControls.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/VideoControls.js /** @npmpackage @class VideoControls @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;ad-video&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { VideoControls } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This is a display object class, extending {@link UIComponent}. It is a DOM element that houses all the video control components: {@link UIButton}, {@link UISlider} and {@link UITextField}. &lt;br&gt;&lt;br&gt; This can be instantiated but is typically called internally from the VideoPlayer by passing in all params to the instantiation. All controls can be added to a {@link UIControlBar} or to the main container to be placed anywhere over the video. This is done through the instantiation, by passing components to a node &lt;code&gt;onControlBar&lt;/code&gt; or &lt;code&gt;onScreen&lt;/code&gt;. See example below. &lt;br&gt;&lt;br&gt; &lt;b&gt;Accepted Components:&lt;/b&gt;&lt;br&gt; &lt;ul&gt; &lt;li&gt;&lt;code&gt;buttonPlayPause&lt;/code&gt;, see {@link UIButtonPlayPause}&lt;/li&gt; &lt;li&gt;&lt;code&gt;buttonReplay&lt;/code&gt;, see {@link UIButtonReplay}&lt;/li&gt; &lt;li&gt;&lt;code&gt;buttonFullScreen&lt;/code&gt;, see {@link UIButtonFullScreen}&lt;/li&gt; &lt;li&gt;&lt;code&gt;buttonMute&lt;/code&gt;, see {@link UIButtonMute}&lt;/li&gt; &lt;li&gt;&lt;code&gt;timeDisplay&lt;/code&gt;, see {@link UITimeDisplay}&lt;/li&gt; &lt;li&gt;&lt;code&gt;sliderProgress&lt;/code&gt;, see {@link UISliderProgress}&lt;/li&gt; &lt;li&gt;&lt;code&gt;sliderVolume&lt;/code&gt;, see {@link UISliderVolume}&lt;/li&gt; &lt;/ul&gt; &lt;b&gt;Example adding a play/pause button to the screen:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, controls : { onScreen : { buttonPlayPause : { css : { x : 130, y : 40, width : 80, height : 80, backgroundColor : 'rgba(10,200,10,.5)' }, icon : [ 'btnPlay', 'btnPause' ] } } } }); // access button View.main.videoPlayer.controls.buttonPlayPause; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Example adding a play/pause button to the ControlBar:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, controls : { onControlBar : { buttonPlayPause : { icon : [ 'btnPlay', 'btnPause' ] } } } }) // access button View.main.videoPlayer.controls.controlBar.buttonPlayPause; &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Example All Controls on ControlBar:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // Full VideoPlayer with all options and controls View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, controls : { replayOnInteraction : false, unmuteOnInteraction : true, onControlBar : { controlBar : { constant : false, showOnPoster : false, css : { backgroundColor : 'rgba(250,100,20,.5)' } }, buttonPlayPause : { icon : [ 'btnPlay', 'btnPause' ] }, buttonReplay : { icon : [ 'btnReplay' ] }, buttonMute : { icon : [ 'btnUnMute', 'btnMute' ] }, buttonFullScreen : { icon : [ 'btnFullScreen' ] }, sliderProgress : { inline : true, css : { width : 120 }, onOver : function(){ console.log( this.track ) }, onOut : function(){ console.log( this.handle ) } }, sliderVolume : { css : { width : 60 }, bg : {}, track : {}, handle : {} }, timeDisplay : { css : { height : 'inherit', color : '#ffffff' }, fontSize : 18, fontFamily : 'Arial', alignText : Align.CENTER, bufferText : { left : 5, right : 5 }, showDuration : true } } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Example Controls on ControlBar AND on screen:&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; // Full VideoPlayer with all options and controls View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, controls : { replayOnInteraction : false, unmuteOnInteraction : true, onScreen : { buttonPlayPause : { css : { x : 130, y : 40, backgroundColor : 'rgba(10,200,10,.5)' }, icon : [ 'btnPlay', 'btnPause' ] }, buttonReplay : { css : { x : 200, y : 50, width : 80, height : 80, backgroundColor : 'rgb(100,200,100)' }, icon : [ 'btnReplay' ] }, buttonMute : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, icon : [ 'btnUnMute', 'btnMute' ] }, }, onControlBar : { controlBar : { constant : false, showOnPoster : false, css : { //height : 50, backgroundColor : 'rgba(250,100,20,.5)' } }, buttonPlayPause : { icon : [ 'btnPlay', 'btnPause' ] }, buttonReplay : { icon : [ 'btnReplay' ] }, buttonMute : { icon : [ 'btnUnMute', 'btnMute' ] }, buttonFullScreen : { icon : [ 'btnFullScreen' ] }, sliderProgress : { inline : true, css : { width : 120 }, bg : {}, loaded : {}, track : {}, handle : {}, onOver : function(){ console.log( this.track ) }, onOut : function(){ console.log( this.handle ) } }, sliderVolume : { css : { width : 60 }, bg : {}, track : {}, handle : {} }, timeDisplay : { css : { height : 'inherit', color : '#ffffff' }, fontSize : 18, fontFamily : 'Arial', alignText : Align.CENTER, bufferText : { left : 5, right : 5 }, showDuration : true } } } }); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; */ import {Styles} from 'ad-view' import {Gesture, GestureEvent, UIEvent} from 'ad-events' import {UIButton, UISlider, UITextField, UIComponent} from 'ad-ui' import UIControlBar from './ui/UIControlBar' import UIButtonPlayPause from './ui/UIButtonPlayPause' import UIButtonReplay from './ui/UIButtonReplay' import UIButtonMute from './ui/UIButtonMute' import UIButtonFullScreen from './ui/UIButtonFullScreen' import UISliderVolume from './ui/UISliderVolume' import UISliderProgress from './ui/UISliderProgress' import UITimeDisplay from './ui/UITimeDisplay' function VideoControls(player, arg) { /* ------------------------------------------------------------------------------------------------------------------------------- */ // BASE CSS // declare base componenets first to make sure base css written to head first new UIButton() new UISlider() new UITextField() Styles.injectStylesheet( 'RED_uiVideoControls', '.rvp-controls', 'width:inherit; height:inherit; position:absolute; display:table;', '.rvp-screen-btn', 'width:100%; height:100%;', '.rvp-controlBar-container', 'position:relative; width:inherit; height:inherit; vertical-align:bottom; display:table-cell;', '.rvp-controlBar', 'width:100%; height:30px; position:relative;', '.rvp-controlBar-elem', 'position:relative;', '.rvp-controlBar .left', 'float:left;', '.rvp-controlBar .right', 'float:right;', '.rvp-controlBar-container .ui-button', 'width:30px; height:30px;', '.rvp-controlBar-container .ui-button-state', 'background-size: 75%; background-position:50% 50%;', '.rvp-controlBar .ui-slider-handle', 'height: 70%; top: 15%;', '.rvp-controlBar .ui-slider-bg', 'height: 30%; top: 35%;', '.rvp-controlBar .ui-slider-loaded, .rvp-controlBar .ui-slider-track', 'height:30%; top:35%;', //'.rvp-time-display', 'height:inherit; padding:0 5px; font-size: 12pt; line-height: 30px;', //'.rvp-time-display span', 'white-space: nowrap; ', '.rvp-progress-non-inline', 'position:relative;', '.rvp-progress-non-inline .ui-slider-bg, .rvp-progress-non-inline .ui-slider-loaded, .rvp-progress-non-inline .ui-slider-handle, .rvp-progress-non-inline .ui-slider-track, .rvp-progress-non-inline .ui-slider-hitState', 'bottom:0px;' ) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _timeout var _replayOnInteraction var _unmuteOnInteraction var _includeList = ['buttonPlayPause', 'buttonReplay', 'timeDisplay', 'sliderProgress', 'buttonFullScreen', 'sliderVolume', 'buttonMute'] // is the controlbar || controlbar &amp; progress bar var _controlBarTargets /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP arg.target = arg.target || player.container arg.id = arg.id || 'video-controls' var U = new UIComponent(arg) Styles.addClass(U, 'rvp-controls') if (arg.onScreen) { if (arg.onScreen.onClick) { var screenBtn = new UIButton({ target: U, onClick: arg.onScreen.onClick }) Styles.addClass(screenBtn, 'rvp-screen-btn') } markup(arg.onScreen, U) } if (arg.onControlBar) { U.controlBarContainer = new UIComponent({ target: U }) Styles.addClass(U.controlBarContainer, 'rvp-controlBar-container') var cb = arg.onControlBar.controlBar || {} U.controlBar = new UIControlBar(player, { id: 'controlBar', target: U.controlBarContainer, css: cb.css || {}, constant: cb.constant, showOnPoster: cb.showOnPoster }) markup(arg.onControlBar, U.controlBar) } function markup(scope, target) { for (var i = 0; i &lt; _includeList.length; i++) { var name = _includeList[i] if (scope[name] != undefined &amp;&amp; scope[name] != false) { var params = scope[name] params.target = target params.id = target.id + '-' + name params.containChild = target == U.controlBar target[name] = (function() { switch (name) { case 'buttonPlayPause': return new UIButtonPlayPause(player, params) case 'buttonReplay': return new UIButtonReplay(player, params) case 'buttonMute': return new UIButtonMute(player, params) case 'buttonFullScreen': return new UIButtonFullScreen(player, params) case 'sliderVolume': return new UISliderVolume(player, params) case 'sliderProgress': return new UISliderProgress(player, params) case 'timeDisplay': return new UITimeDisplay(player, params) } })() if (target == U.controlBar) { if (name == 'sliderProgress' &amp;&amp; !scope.sliderProgress.inline) { continue } Styles.addClass(U.controlBar[name], 'rvp-controlBar-elem', i &lt; 4 ? 'left' : 'right') } } } if (target == U.controlBar) { _controlBarTargets = [U.controlBar] // Moves the progress bar to top of controlBar if (target.sliderProgress &amp;&amp; !scope.sliderProgress.inline) { Styles.addClass(target.sliderProgress, 'rvp-progress-non-inline') U.controlBarContainer.appendChild(target.sliderProgress) U.controlBarContainer.appendChild(U.controlBar) _controlBarTargets.push(target.sliderProgress) } } } /** @memberof VideoControls @var {UIControlBar} controlBar Public access to the UIControlBar instance. All UIComponents added to this will be accessed via the variable. */ /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTER | SETTTER Object.defineProperties(U, { /** @memberof VideoControls @var {boolean} replayOnInteraction @desc Get|Set: A Boolean that changes if the video player will start over on any click interaction, default is false. @example // GET console.log( myVideoPlayer.controls.replayOnInteraction ); // SET myVideoPlayer.controls.replayOnInteraction = false; */ replayOnInteraction: { get: function() { return _replayOnInteraction }, set: function(state) { _replayOnInteraction = state if (!U.enabled) state = false var listener = state ? 'addEventListener' : 'removeEventListener' Gesture[listener](player.container, GestureEvent.CLICK, handleReplayOnInteraction) } }, /** @memberof VideoControls @var {boolean} unmuteOnInteraction @desc Get|Set: A Boolean that changes if the video player will unmute on any click interaction, default is false. @example // GET console.log( myVideoPlayer.controls.unmuteOnInteraction ); // SET myVideoPlayer.controls.unmuteOnInteraction = true; */ unmuteOnInteraction: { get: function() { return _unmuteOnInteraction }, set: function(state) { _unmuteOnInteraction = state if (!U.enabled) state = false var listener = state ? 'addEventListener' : 'removeEventListener' Gesture[listener](player.container, GestureEvent.CLICK, handleUnmuteOnInteraction) } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS U.toString = function() { return '[object VideoControls]' } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function animateOut(time) { //console.log( U.toString() + '.animateOut()' ) time = time != undefined ? time : 0.5 if (U.controlBar) { //&amp;&amp; !U.controlBar.constant ){ TweenLite.to(_controlBarTargets, time, { alpha: 0 }) } } function animateIn() { //console.log( U.toString() + '.animateIn()' ) if (U.controlBar) TweenLite.to(_controlBarTargets, 0.3, { alpha: 1 }) } function hideTimeout(time) { return setTimeout(function() { if (!player.paused &amp;&amp; U.controlBar &amp;&amp; !U.controlBar.constant) animateOut() }, time) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleMove(event) { clearTimeout(_timeout) _timeout = hideTimeout(1500) if (!player.complete &amp;&amp; player.hasPlayed) animateIn() } function handlePlay(event) { if (U.enabled) animateIn() if (U.controlBar &amp;&amp; !U.controlBar.constant) _timeout = hideTimeout(2000) } function handleReplayOnInteraction(event) { player.seek(0) player.play() U.replayOnInteraction = false } function handleUnmuteOnInteraction(event) { if (player.muted) player.unmute() U.unmuteOnInteraction = false } function handleEnded(event) { if (U.controlBar) { U.controlBar.showOnPoster ? animateIn() : animateOut() if (U.controlBar.buttonReplay) U.controlBar.buttonPlayPause.hide() } } function handleBaseEnabled(event) { var listener = U.enabled ? 'addEventListener' : 'removeEventListener' player.container[listener]('mousemove', handleMove) } function handleClickBubbleStop(event) { GestureEvent.stop(event) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT player.screen.addEventListener('play', handlePlay) player.screen.addEventListener('autoplay', handlePlay) player.screen.addEventListener('complete', handleEnded, false) player.screen.addEventListener('ended', handleEnded, false) player.screen.addEventListener('stop', handleEnded, false) U.addEventListener(UIEvent.ENABLED, handleBaseEnabled) U.enabled = arg.enabled != false U.replayOnInteraction = !!arg.replayOnInteraction U.unmuteOnInteraction = !!arg.unmuteOnInteraction if (U.controlBar &amp;&amp; !U.controlBar.showOnPoster) animateOut(0) Gesture.addEventListener(player.container, GestureEvent.CLICK, handleClickBubbleStop) Gesture.disable(U) return U } export default VideoControls × Search results Close "},"ad-video_lib_VideoPlayer.js.html":{"id":"ad-video_lib_VideoPlayer.js.html","title":"Source: ad-video/lib/VideoPlayer.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/VideoPlayer.js /** @npmpackage @class VideoPlayer @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;ad-video&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { VideoPlayer } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This object creates a custom Video Player instance. This player has the ability to function as a regular player or it can work as the inline/autoplay video. &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample Player&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, preload : false, autoPlay : false, muted : false, volume: .8, onComplete: function(event){ console.log( 'video complete' ) }, onFail: global.failAd, }); View.main.videoPlayer.play(); &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; &lt;b&gt;Sample Autoplay&lt;/b&gt;&lt;br&gt; &lt;codeblock&gt; View.main.videoPlayer = new VideoPlayer({ source: [ adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', adParams.videosPath + 'RED_Html5_Showcase_300x250.mpg' ], target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, preload : true, autoPlay : true, muted : true, forceInline : true, onComplete: function(event){ console.log( 'video complete' ) }, onFail: global.failAd, }); &lt;/codeblock&gt; */ /* http://www.w3schools.com/tags/ref_av_dom.asp http://www.w3.org/2010/05/video/mediaevents.html http://docs.brightcove.com/en/perform/brightcove-player/guides/components.html */ import { Styles } from 'ad-view' import { UIComponent, UICanvas } from 'ad-ui' import { Device } from 'ad-external' import { LoaderUtils, InlineLoader } from 'ad-load' import { FrameRate } from 'ad-events' import VideoControls from './VideoControls' import UIPoster from './ui/UIPoster' // MpegPlugin should be added in runtimeIncludes in index function VideoPlayer(arg) { 'use strict' Styles.injectStylesheet( 'RED_videoPlayer', 'video::-webkit-media-controls-start-playback-button', 'display: none !important; -webkit-appearance: none;' ) /* ------------------------------------------------------------------------------------------------------------------------------- */ var V = this V.id = (arg.id || '' + Date.now()) + '-videoPlayer' V.css = arg.css || {} /** @memberof VideoPlayer @var {boolean} complete A Boolean representing if the video has ended. */ V.complete = false /** @memberof VideoPlayer @var {boolean} hasPlayed A Boolean representing if the video has played to completion. */ V.hasPlayed = false /** @memberof VideoPlayer @var {function} onComplete A callback for when the Video is finished. Can be set as optional parameter on instantiated. */ V.onComplete = arg.onComplete || function() {} /** @memberof VideoPlayer @var {function} onFail A callback for when the Video fails. Can be set as optional parameter on instantiated. */ V.onFail = arg.onFail || function() {} /** @memberof VideoPlayer @var {function} onBuffer A callback for when the Video pauses due to buffering. Can be set as optional parameter on instantiated. */ V.onBuffer = arg.onBuffer || function() {} /** @memberof VideoPlayer @var {function} onProgress A callback for when as Video progresses while playing. Can be set as optional parameter on instantiated. */ V.onProgress = arg.onProgress || function() {} /** @memberof VideoPlayer @var {function} onReady A callback for when Video is buffered and ready to play. */ V.onReady = arg.onReady || function() {} var _driver = null var _IEuseEvent = false var _cuePoints = { pool: [], active: false, seeked: false } var _muted = !!arg.muted var _preload = !!arg.preload var _autoPlay = !!arg.autoPlay var _hasMpg = arg.source &amp;&amp; arg.source.indexOf('.mpg') &gt;= 0 var _mpeg = null var _source = [] var _forceInline = !!arg.forceInline var _deviceType = arg.deviceType || Device.type var _deviceBrand = arg.deviceBrand || Device.brand /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP // main container arg.id = V.id // allow control bar to sit on bottom when using % for width/height //arg.css.display = 'table' /** @memberof VideoPlayer @var {UIComponent} container A &amp;lt;div&gt;, the top level container for the entire player instance. */ V.container = new UIComponent(arg) // video element var videoTag = document.createElement('video') videoTag.id = V.id + '-screen' videoTag.setAttribute('type', 'application/octet-stream') videoTag.style.width = 'inherit' videoTag.style.height = 'inherit' videoTag.style.position = 'absolute' videoTag.style.backgroundColor = '#000' // application/octet-stream // video/mp4 //videoTag.autoplay = _autoPlay; videoTag.muted = _muted videoTag.preload = 'none' //_preload ? 'auto' : 'none'; V.container.appendChild(videoTag) // must be there incase an MPG is needed AFTER creation V.mpgScreen = new UICanvas({ target: V.container, id: V.id + '-mpg-screen', css: { width: arg.css.width, height: arg.css.height } }) V.underControls = document.createElement('div') V.underControls.id = V.id + '-underControls' V.underControls.style.position = 'absolute' V.container.appendChild(V.underControls) var video = videoTag /** @memberof VideoPlayer @var {video} screen The &amp;lt;video&gt; element, or if autoplay on a device, will return the driver object. */ V.screen = video /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTERS | SETTERS Object.defineProperties(V, { /** @memberof VideoPlayer @var {boolean} autoPlay A Boolean that changes if the video will automatically play. @example myVideoPlayer.autoPlay = false; */ autoPlay: { get: function() { return _autoPlay }, set: function(value) { _autoPlay = value console.log('\\t_autoPlay:', _autoPlay) console.log('\\t_forceInline:', _forceInline) console.log('\\t_muted:', _muted) //console.log('Setting autoplay:', value, _deviceType, _deviceBrand); if (value) { if (_deviceType != 'desktop') { if (_deviceBrand == 'android') { // load MpegPlugin player, or assign player loadMpgPlayer() } else { // apple assign driver prepareInlineDriver() } } } else { if (_forceInline &amp;&amp; Device.product == 'iphone') { //if ( _muted ){ prepareInlineDriver() //} else { // prepareInlineAudio(); //} } else { // kill custom players, reset to regular player V.screen = video = videoTag killInlineDriver() // delete the MpegPlugin canvas ? if (_mpeg) { _mpeg.canvas.style.visibility = 'hidden' } } } } }, /** @memberof VideoPlayer @var {number} currentTime A Number representing the video time position. */ currentTime: { get: function() { return video.currentTime } }, /** @memberof VideoPlayer @var {number} duration A Number representing the length of the video in seconds. */ duration: { get: function() { return video.duration || 0 } }, /** @memberof VideoPlayer @var {boolean} paused A Boolean representing if the video is playing. */ paused: { get: function() { return _driver ? _driver.paused : video.paused } }, /** @memberof VideoPlayer @var {number} percent A Number 0-1 representing the video timeline percent position. */ percent: { get: function() { return video.currentTime / video.duration || 0 } }, /** @memberof VideoPlayer @var {string} source Changes the source of the video. Pass a string of the video file path to set. @example myVideoPlayer.source = 'videos/myVideoFile.mp4'; */ source: { get: function() { return video.src }, set: function(value) { if (Array.isArray(value)) { value.sort(function(a, b) { //console.log( a, b ) var aExt = LoaderUtils.getFileType(a) var bExt = LoaderUtils.getFileType(b) var aIs = aExt == 'mpg' || aExt == 'js' var bIs = bExt == 'mpg' || bExt == 'js' _hasMpg = aIs || bIs //console.log('\\n\\n\\t', aExt, bExt, aIs, bIs, '_hasMpg:', _hasMpg, '\\n\\n') return aIs ? 1 : -1 }) } else { value = [value] } for (var i = 0; i &lt; value.length; i++) { value[i] = matchProtocolTo(value[i]) } _source = value.slice() video.preload = 'none' video.src = value[0] return // TODO - look into creating sources rather than direct assigment /*var source = document.createElement('source'); source.src = value; source.type = 'video/mp4' video.appendChild( source );*/ } }, /** @memberof VideoPlayer @var {number} volume Changes the volume of the video. Assign a number, between 0 - 1 to set the volume. @example myVideoPlayer.volume = .8; */ volume: { get: function() { return _driver &amp;&amp; _driver instanceof Audio ? _driver.volume : videoTag.volume }, set: function(value) { videoTag.volume = value if (_driver) { _driver.volume = value } //console.log(value, videoTag.volume, V.screen.volume, V.screen.muted ); } }, /** @memberof VideoPlayer @var {boolean} muted A Boolean representing if the video volume is muted. */ muted: { get: function() { return _muted } }, // applies only to iphone iOS &lt; 10 forceInline: { get: function() { return _forceInline }, set: function(value) { _forceInline = value // assign autoPlay to itself, but after changing the inline prop V.autoPlay = _autoPlay } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberof VideoPlayer @method load @desc Loads the current video source. If preload is true, this is redundant. @example myPlayer.load(); */ V.load = function() { //console.log( 'VideoPlayer.load()' ) video.load() } /** @memberof VideoPlayer @method play @desc Plays the current video. @example myPlayer.play(); */ V.play = function() { //console.log( 'VideoPlayer.play(), video.paused:', video.paused ) V.complete = false // In Safari, if the preload=none attribute is present, plays will not fire when called manually video.removeAttribute('preload') FrameRate.register(V, handleProgress) V.hasPlayed = true // check for device / inline here, then call play() vs inlinePlay() if (_driver) { inlinePlay() } else { video.play() } if (_IEuseEvent) { console.log('VideoPlayer.play -&gt; dispatch custom &quot;play&quot; event') video.dispatchEvent(new CustomEvent('play')) } } /** @memberof VideoPlayer @method pause Pauses the current video. @example myPlayer.pause(); */ V.pause = function() { //console.log( 'VideoPlayer.pause()' ) FrameRate.unregister(V, handleProgress) // check for device / inline here, then call pause() vs inlinePause() if (_driver) { inlinePause() } else { video.pause() } } /** @memberof VideoPlayer @method seek @param {number} sec The time to skip the video to in seconds. @desc Skips the video to a specific time. @example myPlayer.seek( 4 ); */ V.seek = function(sec) { _cuePoints.seeked = true if (sec &gt; video.duration) sec = video.duration else V.complete = false if (video == _mpeg) { // MpegPlugin video.seek(sec) } else { /*if ( _driver instanceof Audio ) { _driver.currentTime = sec; } else {*/ video.currentTime = sec //} } } /** @memberof VideoPlayer @method stop @desc Stops the video and resets it to the beginning. @example myPlayer.stop(); */ V.stop = function() { //console.log( 'VideoPlayer.stop()' ) V.pause() // for checks in controlBar V.complete = true video.currentTime = 0 video.dispatchEvent(new CustomEvent('stop')) } /** @memberof VideoPlayer @method mute @desc Mutes the Video Player, does not change the volume. @example myVideoPlayer.mute() */ V.mute = function() { console.log('VideoPlayer.mute()', video.muted) video.muted = _muted = true if (_driver) { _driver.muted = true } } /** @memberof VideoPlayer @method unmute @desc Unmutes the Video Player, does not change the volume. @example myVideoPlayer.unmute() */ V.unmute = function() { console.log('VideoPlayer.unmute()', video.muted) video.muted = _muted = false if (_driver) { _driver.muted = false } } /** @memberof VideoPlayer @method resize @param {number} width A number of the width @param {number} height A number of the height @desc Changes the size of the Video Player @example myVideoPlayer.resize( 400, 300 ) */ V.resize = function(width, height) { video.width = V.css.width = width video.height = V.css.height = height V.container.style.width = width + 'px' V.container.style.height = height + 'px' } /** @memberof VideoPlayer @method addCuePoint @param {number} time The time, in seconds, to fire the call back. @param {function} handler A callback function. @param {object} params Optional parameters to pass back through the call back. @desc Add to the load queue: a single or array of files or even another Loader. @example // myVideoPlayer.addCuePoint( 3, handleCuePoint, [ true, .3, {} ]); function handleCuePoint ( isVar, num, obj ) { console.log( 'cue point', isVar, num, obj ); } */ V.addCuePoint = function(time, handler, params) { _cuePoints.active = true var cuePoint = { time: time, handler: handler, frame: -1, params: params || null, past: false } _cuePoints.pool.push(cuePoint) _cuePoints.pool.sort(function(a, b) { return a.time - b.time }) console.log('addCuePoint:', _cuePoints) } /** @memberof VideoPlayer @method addControls @desc Adds VideoControls to the VideoPlayer instance. Used only if controls NOT passed thru on instantiation. @param {object} obj An object of desired controls, see {@link VideoControls} @example // myVideoPlayer.addControls({ controlBar : { buttonPlayPause : true, progressControl : true, buttonFullScreen : true } }); */ V.addControls = function(obj) { if (!V.controls) V.controls = new VideoControls(V, obj) } V.addPoster = function(obj) { if (!V.poster) { if (typeof obj == 'string') { obj = { source: obj } } V.poster = new UIPoster(V, obj) } } V.show = V.container.show V.hide = V.container.hide /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function checkCuePoint() { if (_cuePoints.active) { for (var i = 0; i &lt; _cuePoints.pool.length; i++) { if (_cuePoints.seeked) { _cuePoints.pool[i].past = _cuePoints.pool[i].time &lt; V.currentTime } else { if (_cuePoints.pool[i].time &lt; V.currentTime &amp;&amp; !_cuePoints.pool[i].past) { _cuePoints.pool[i].handler.apply(V, _cuePoints.pool[i].params) _cuePoints.pool[i].past = true } } } } _cuePoints.seeked = false } function prepareInlineAudio(event) { console.log('~ ~ ~ prepareInlineAudio() ~ ~ ~') console.log('\\tvideo.currentSrc:', video.currentSrc) console.log('\\tvideo.src:', video.src) var audio = new Audio() audio.src = video.currentSrc || video.src _driver = audio } function prepareInlineDriver() { console.log('prepareInlineDriver(), _muted =', _muted) _driver = { muted: true, paused: true, pause: function pause() { _driver.paused = true }, play: function play() { _driver.paused = false if (video.currentTime === video.duration) { video.currentTime = 0 } }, volume: 0 } /* TODO - test this video.addEventListener ( 'webkitbeginfullscreen', function() { if ( !V.paused ) { // possibly call inlinePause() ? _driver.pause(); video.play() // NOT WORKING } else if ( !_muted &amp;&amp; !_driver.buffered.length ) { // not tested _driver.load(); } }); if ( !_muted ) { video.addEventListener ( 'webkitendfullscreen', function() { _driver.currentTime = video.currentTime; }) } */ toggleInlineEventKillers(true) } function killInlineDriver() { _driver = null toggleInlineEventKillers(false) } function toggleInlineEventKillers(enabled) { var listener = enabled ? 'addEventListener' : 'removeEventListener' video[listener]('seeking', handleEventKill, false) video[listener]('seeked', handleEventKill, false) video[listener]('ended', handleEventKill, false) } function inlinePlay() { console.log('inlinePlay(), video.buffered.length:', video.buffered.length) if (video.webkitDisplayingFullscreen) { video.play() //_defaultPlay(); return } if (!_muted) { prepareInlineAudio() // call play here because it is in the chain of the click event V.hasPlayed = true _driver.play() _driver.pause() } if (!video.buffered.length) { video.addEventListener('canplay', handleInlineLoadedData, false) V.load() console.log('__ __ video.load() __ __ ??') } else { inlineCanPlay() } } function handleInlineLoadedData(event) { console.log('.... handleInlineLoadedData() ....') inlineCanPlay() } function inlineCanPlay() { console.log('_ _ _ inlineCanPlay() _ _ _ through _ _ _') V.hasPlayed = true _driver.play() FrameRate.register(V, handleFrameRate) video.dispatchEvent(new CustomEvent('play')) video.dispatchEvent(new CustomEvent('playing')) } function inlinePause() { console.log('* * * inlinePause() * * *') _driver.pause() FrameRate.unregister(V, handleFrameRate) video.dispatchEvent(new CustomEvent('pause')) if (video.ended || video.currentTime &gt;= video.duration) { video.dispatchEvent(new CustomEvent('ended')) } if (video.webkitDisplayingFullscreen) { video.pause() //_defaultPause() } } function loadMpgPlayer() { console.log('VideoPlayer.loadMpgPlayer(), window.MpegPlugin:', window.MpegPlugin, ', _hasMpg:', _hasMpg) if (window.MpegPlugin == undefined &amp;&amp; _hasMpg) { new InlineLoader(runtimeIncludes.mpegPluginPath, { onComplete: function(event) { console.log('MpegPlugin load complete') V.screen = video = _mpeg = new MpegPlugin({ source: _source[_source.length - 1], tag: videoTag, target: V, onReady: function() { console.log('MpegPlugin.onReady()') handleCanPlay() V.hasPlayed = true }, onComplete: function() { //console.log( '_mpeg.onComplete()'); // pass in handleComplete() ? } }) }, onFail: handleError }).load() } else { V.screen = video = _mpeg } } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handleFrameRate(event) { var time = void 0 if (_muted) { time = video.currentTime + event.diffTime / 1000 } else { time = _driver.currentTime } var duration = video.duration || 0 var min = Math.min(duration, time) video.currentTime = min //console.log( _driver.currentTime, video.currentTime ) //console.log( video.paused, duration, video.duration, time, min, video.currentTime ) //console.log( 'handleFrameRate()', video.ended, video.currentTime, duration, video.currentTime &gt;= video.duration ) if (video.ended || video.currentTime &gt;= video.duration) { V.pause() } } function handleCanPlay(event) { //console.log( '\\n\\n\\t\\t\\t...CAN PLAY\\n\\n') V.onReady.call(V, event) } function handleProgress(event) { //console.log( 'handleProgress()') V.onProgress.call(V, event) checkCuePoint() } function handleComplete(event) { _cuePoints.seeked = true if (!_driver) V.pause() V.complete = true V.onComplete.call(V, event) video.dispatchEvent(new CustomEvent('complete')) _IEuseEvent = document.createEventObject != undefined || Device.browser == 'ie' } function handleError(event) { V.onFail.call(V, event) } function handleBuffer(event) { V.onBuffer.call(V, event) } function handleEventKill(event) { /*if ( event.type == 'seeking' || event.type == 'seeked' ){ console.log( ':: Event Kill :: seeked|seeking' ) }else{ console.log( ':: Event Kill ::', event.type ) }*/ event.stopImmediatePropagation() } function handleVolumeChange(event) { _muted = video.muted } /* ------------------------------------------------------------------------------------------------------------------------------- */ // COMPONENTS if (arg.poster) V.addPoster(arg.poster) if (arg.controls) V.addControls(arg.controls) if (arg.cuePoints) { var a = arg.cuePoints for (var i = 0; i &lt; a.length; i++) { var b = a[i] V.addCuePoint(b.time, b.handler, b.params) } } /* ------------------------------------------------------------------------------------------------------------------------------- */ video.addEventListener('ended', handleComplete, false) video.addEventListener('error', handleError, false) video.addEventListener('waiting', handleBuffer, false) video.addEventListener('canplay', handleCanPlay, false) video.addEventListener('volumechange', handleVolumeChange, false) if (arg.crossOrigin) { video.setAttribute('crossOrigin', arg.crossOrigin) if (V.mpgScreen) V.mpgScreen.setAttribute('crossOrigin', arg.crossOrigin) } if (arg.source) V.source = arg.source V.autoPlay = _autoPlay if (!_muted &amp;&amp; arg.volume) { V.volume = arg.volume } if (arg.source) { if (_autoPlay) { if (_deviceType == 'desktop') { V.play() } else { if (_muted &amp;&amp; _deviceBrand != 'android') { V.play() } } } else if (_preload) { V.load() } } } export default VideoPlayer × Search results Close "},"ad-video_lib_YouTubePlayer.js.html":{"id":"ad-video_lib_YouTubePlayer.js.html","title":"Source: ad-video/lib/YouTubePlayer.js","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Source: ad-video/lib/YouTubePlayer.js /** @npmpackage @class YouTubePlayer @desc Import from &lt;a href=&quot;https://github.com/ff0000-ad-tech/ad-video&quot;&gt;ad-video&lt;/a&gt; &lt;br&gt; &lt;codeblock&gt; // importing into an ES6 class import { YouTubePlayer } from 'ad-video' &lt;/codeblock&gt; &lt;br&gt;&lt;br&gt; This Object creates and manages a YouTube player embed. &lt;br&gt;&lt;br&gt; The native YouTube API has many flaws in its logic along with several limtations. YouTubePlayer attempts to bridge some of those short comings, while at the same time following as closely as possible the same methods and patterns of our native VideoPlayer. &lt;br&gt;&lt;br&gt; Something to note: The initial call to the YouTube API actually loads in an iFrame, so there can be a delay when first seeing your player, there is nothing that can be doen about that. Since it is loading an iFrame, things such as the controls, fullscreen ability, showing video info are set on the load. This class can toggle those things, but it will cause the whole iFrame to reload. If you are only changing videos, with no other updates, there will be a seemless transition to the next video. &lt;br&gt;&lt;br&gt; @example // adds a player on the Main container T.videoPlayer = new YouTubePlayer({ id: 'intro', target: T, css : { x: 0, y: 0, width : 446, height : 250 }, videoId: 'EcB59kdjJfw', autoPlay: true, muted: true, quality: 'hd720', showInfo: false, inlineYouTubeLogo: true, allowFullScreen: false, allowAnnotations: true, onReady: null, onComplete : null, onPlay: null, onPause: null, onBuffer: null, onFail: null, controls: false }); */ import { UIComponent, UIDiv } from 'ad-ui' import { FrameRate } from 'ad-events' import MediaEvent from './events/MediaEvent' import VideoControls from './VideoControls' import UIPoster from './ui/UIPoster' // YT from globally available YouTube Player API function YouTubePlayer(arg) { var V = this var _initMuted = !!arg.muted V.id = (arg.id || '' + Date.now()) + '-youTubePlayer' V.css = arg.css // create a dummy dom element to dispatch events thru V.screen = document.createElement('span') V.isReplay = false /** @memberof YouTubePlayer @var {boolean} paused A Boolean representing if the video is playing. */ V.paused = !arg.autoPlay /** @memberof YouTubePlayer @var {number} percent A Number 0-1 representing the video timeline percent position. */ V.percent = 0 /** @memberof YouTubePlayer @var {number} currentTime A Number representing the video time position. */ V.currentTime = 0 V.duration = 0 /** @memberof YouTubePlayer @var {boolean} complete A Boolean representing if the video has ended. */ V.complete = false // Constructor arguments /** @memberof YouTubePlayer @var {function} onReady A callback for when the Video is able to be played. Can be set as optional parameter on instantiation. */ V.onReady = arg.onReady || function() {} /** @memberof YouTubePlayer @var {function} onComplete A callback for when the Video is finished. Can be set as optional parameter on instantiation. */ V.onComplete = arg.onComplete || function() {} /** @memberof YouTubePlayer @var {function} onFail A callback for when the Video fails. Can be set as optional parameter on instantiation. */ V.onFail = arg.onFail || function() {} /** @memberof YouTubePlayer @var {function} onBuffer A callback for when the Video pauses due to buffering. Can be set as optional parameter on instantiation. */ V.onBuffer = arg.onBuffer || function() {} /** @memberof YouTubePlayer @var {function} onProgress A callback for when as Video progresses while playing. Can be set as optional parameter on instantiation. */ V.onProgress = arg.onProgress || function() {} /** @memberof YouTubePlayer @var {function} onPlay A callback for when as Video plays, helpful since controls are internal to iFrame. Can be set as optional parameter on instantiation. */ V.onPlay = arg.onPlay || function() {} /** @memberof YouTubePlayer @var {function} onAutoPlay A callback for when as Video auto-plays. Can be set as optional parameter on instantiation. */ V.onAutoPlay = arg.onAutoPlay || function() {} /** @memberof YouTubePlayer @var {function} onStop A callback for when as Video is stopped. Can be set as optional parameter on instantiation. */ V.onStop = arg.onStop || function() {} /** @memberof YouTubePlayer @var {function} onPause A callback for when as Video pauses, helpful since controls are internal to iFrame. Can be set as optional parameter on instantiation. */ V.onPause = arg.onPause || function() {} /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE PROPERTIES var _videoId = arg.videoId var _autoPlay = arg.autoPlay var _sourceCalled = false var _readyHeard = false var _hasAutoPlayed = false var _isStopCalled = false // a class level object holding the NEXT state of the player, used in conjunction with getter/setters var _classPlayerParams = { autoplay: arg.autoPlay ? 1 : 0, controls: arg.nativeControls ? 1 : 0, showinfo: arg.showInfo ? 1 : 0, modestbranding: arg.inlineYouTubeLogo ? 0 : 1, fs: arg.allowFullScreen ? 1 : 0, rel: arg.showRelatedVideos ? 1 : 0, iv_load_policy: arg.allowAnnotations ? 1 : 3, vq: arg.quality || 'medium' } // a player level obect holding the current state of the player when instantiated. Initally equal to _classPlayerParams var _currentPlayerParams = {} for (var p in _classPlayerParams) { _currentPlayerParams[p] = _classPlayerParams[p] } var _cuePoints = { pool: [], first: null, active: false, seeked: false } /* ------------------------------------------------------------------------------------------------------------------------------- */ // MARKUP arg.id = V.id if (!arg.css.hasOwnProperty('backgroundColor')) arg.css.backgroundColor = '#000000' /** @memberof YouTubePlayer @var {UIComponent} container A &amp;lt;div&gt;, the top level container for the entire player instance. */ V.container = new UIComponent(arg) var holder = new UIDiv({ target: V.container, css: { width: V.css.width, height: V.css.height } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // GETTERS | SETTERS Object.defineProperties(V, { /** @memberof YouTubePlayer @var {number} volume Changes the volume of the video. Assign a number, between 0 - 1 to set the volume. @example myVideoPlayer.volume = .8; */ volume: { /*get: function() { return _autoPlay; },*/ get: function() { return V.player &amp;&amp; V.player.getVolume ? V.player.getVolume() : -1 }, set: function(value) { V.player.setVolume(value) } }, /** @memberof YouTubePlayer @var {string} source Changes the source of the video by passing in a string of the video YouTube ID to set. @example myVideoPlayer.source = &quot;k_5IXGmoLMY&quot;; */ source: { get: function() { return _videoId }, set: function(value) { _sourceCalled = true _videoId = value console.log('YouTubePlayer.source:', value) FrameRate.unregister(V, handleTimeUpdate, 3) if (_readyHeard) { updateSource() } } }, /** @memberof YouTubePlayer @var {string} url Gets the URL to current playing YouTube video. @example console.log( myVideoPlayer.url ); */ url: { get: function() { return V.player &amp;&amp; V.player.getVideoUrl ? V.player.getVideoUrl() : '' } }, /** @memberof YouTubePlayer @var {boolean} autoPlay A boolean to define if the video will automatically play. @example myVideoPlayer.autoPlay = false; */ autoPlay: { get: function() { return video.autoplay }, set: function(value) { _autoPlay = value } }, /** @memberof YouTubePlayer @var {boolean} muted A boolean to read if the player is muted @example console.log( myVideoPlayer.muted ); */ muted: { get: function() { return V.player &amp;&amp; V.player.isMuted ? V.player.isMuted() : false } }, /* ---------------------------------------------- */ // GETTERS | SETTERS for on reload / next video /** @memberof YouTubePlayer @var {boolean} nativeControls A boolean whether or not the player has nativeControls/progress bar. NOTE: Requires a iFrame reload, so only take place on a video load or replay @example myVideoPlayer.nativeControls = false; */ nativeControls: { get: function() { return _classPlayerParams.controls }, set: function(value) { _classPlayerParams.controls = value ? 1 : 0 } }, /** @memberof YouTubePlayer @var {boolean} allowFullScreen A boolean whether or not the fullscreen button is displayed. NOTE: Requires a iFrame reload, so only take place on a video load or replay @example myVideoPlayer.allowFullScreen = false; */ allowFullScreen: { get: function() { return _classPlayerParams.fs }, set: function(value) { _classPlayerParams.fs = value ? 1 : 0 } }, /** @memberof YouTubePlayer @var {string} quality A string representing the quality type, follows YouTube paradigm, that assigns the playback quality of the video. NOTE: Requires a iFrame reload, so only take place on a video load or replay @example myVideoPlayer.quality = &quot;hd720&quot;; */ quality: { get: function() { return _classPlayerParams.vq }, set: function(value) { _classPlayerParams.vq = str // manually set thru API V.player.setPlaybackQuality(str) // assign to current params to avoid a player reload unnecessarily _currentPlayerParams.vq = str } } }) /* ------------------------------------------------------------------------------------------------------------------------------- */ // PUBLIC METHODS /** @memberof YouTubePlayer @method hide @desc Hides the entire player. @example myVideoPlayer.hide(); */ /*V.hide = function(){ console.log( V.player ) V.player.a.style.display = 'none'; }*/ V.hide = V.container.hide /** @memberof YouTubePlayer @method show Shows the entire player. @desc myVideoPlayer.show(); */ /*V.show = function(){ try { //console.log( &quot; try V.player.f.style.removeProperty ( 'display' )&quot;) V.player.a.style.removeProperty ( 'display' ); } catch (e) { //console.log( ' catch V.player.f.style.display = null;') V.player.a.style.display = null; } }*/ V.show = V.container.show /** @memberof YouTubePlayer @method play @desc Plays the current video. @example myVideoPlayer.play(); */ V.play = function() { //console.log( ' -- YouTubePlayer.play()') V.player.playVideo() } /** @memberof YouTubePlayer @method pause @desc Pauses the current video. @example myVideoPlayer.pause(); */ V.pause = function() { //console.log( ' -- YouTubePlayer.pause()') if (V.player.pauseVideo) V.player.pauseVideo() } /** @memberof YouTubePlayer @method seek @param {number} sec The time to skip the video to in seconds. @desc Skips the video to a specific time. @example myVideoPlayer.seek(4); */ V.seek = function(sec) { console.log('seekTo:', sec) _cuePoints.seeked = true if (sec &gt; V.duration) sec = V.duration else V.complete = false V.player.seekTo(sec) } V.stop = function() { fireEvent(MediaEvent.STOP, V.onStop) // if complete, the seek event will fire a pause event, if not, then // set this to the opposite state of paused, because onStateChange not fired when already paused // so reset won't get called _isStopCalled = V.complete ? true : !V.paused V.player.seekTo(0) V.pause() } /** @memberof YouTubePlayer @method mute @desc Mutes the Video Player, does not change the volume. @example myVideoPlayer.mute() */ V.mute = function() { if (V.player.mute) { V.player.mute() fireEvent(MediaEvent.MUTE) } V.muted = true } /** @memberof YouTubePlayer @method unmute @desc Unmutes the Video Player, does not change the volume. @example myVideoPlayer.unmute() */ V.unmute = function() { if (V.player.unMute) { V.player.unMute() fireEvent(MediaEvent.UNMUTE) } V.muted = false } //V.resize = function(){} /** @memberof YouTubePlayer @method addCuePoint @param {number} time The time, inseconds, to fire the call back. @param {function} handler A callback function. @param {object} params Optional parameters to pass back through the call back. @desc Add to the load queue: a single or array of files or even another Loader. @example myVideoPlayer.addCuePoint ( 3, handleCuePoint, [ true, .3, {} ]) function handleCuePoint ( isVar, num, obj ){ console.log( 'cue point', isVar, num, obj ); } */ V.addCuePoint = function(time, handler, params) { _cuePoints.active = true var cuePoint = { time: time, handler: handler, frame: -1, params: params || null, past: false } _cuePoints.pool.push(cuePoint) _cuePoints.pool.sort(function(a, b) { return a.time - b.time }) //_cuePoints.first = _cuePoints.pool[0].time; console.log('add:', _cuePoints) } V.addControls = function(obj) { if (!V.controls) V.controls = new VideoControls(V, obj) } V.addPoster = function(obj) { if (!V.poster) { if (typeof obj == 'string') { obj = { source: obj } } V.poster = new UIPoster(V, obj) } } /* ------------------------------------------------------------------------------------------------------------------------------- */ // PRIVATE METHODS function updateSource() { console.log('*******&gt; updateSource()') if (checkPlayerParams()) { _readyHeard = false createPlayer() } else { V.player.cueVideoById(_videoId) //.loadVideoById } } function createPlayer() { console.log('++++++++++ YouTubePlayer.createPlayer()') if (V.player) { V.player.destroy() } V.player = new YT.Player(holder, { width: arg.css.width, height: arg.css.height, videoId: _videoId, playerVars: _currentPlayerParams }) V.player.addEventListener('onReady', handlePlayerReady) V.player.addEventListener('onStateChange', handleStateChange) V.player.addEventListener('onError', handleFail) _hasAutoPlayed = false } function checkPlayerParams() { var recreate = false console.log('checkPlayerParams():', _currentPlayerParams) for (var p in _classPlayerParams) { console.log(' -&gt;', p, '=', _currentPlayerParams[p], _classPlayerParams[p]) if (_currentPlayerParams[p] != _classPlayerParams[p]) { _currentPlayerParams[p] = _classPlayerParams[p] recreate = true console.log(' ==== RECREATE ====') } } return recreate } function checkCuePoint() { if (_cuePoints.active) { //&amp;&amp; V.currentTime &gt; _cuePoints.first ){ // console.log( _cuePoints.active, ' checkCuePoint()') for (var i = 0; i &lt; _cuePoints.pool.length; i++) { if (_cuePoints.seeked) { _cuePoints.pool[i].past = _cuePoints.pool[i].time &lt; V.currentTime } else { if (_cuePoints.pool[i].time &lt; V.currentTime &amp;&amp; !_cuePoints.pool[i].past) { _cuePoints.pool[i].handler.apply(V, _cuePoints.pool[i].params) _cuePoints.pool[i].past = true } } } } _cuePoints.seeked = false } function fireEvent(type, callback, event) { if (callback) callback.call(V, event) V.screen.dispatchEvent(new CustomEvent(type)) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // EVENT HANDLERS function handlePlayerReady(event) { console.log(' -- READY -- handlePlayerReady()') _readyHeard = true console.log('\\t\\t muted:', V.muted) if (_sourceCalled) { updateSource() return } //V.duration = V.player.getDuration(); _initMuted ? V.player.mute() : V.player.unMute() fireEvent(MediaEvent.READY, V.onReady, event) console.log('\\t\\t after ready fire, muted:', V.muted) if (arg.autoPlay) V.play() } function handleStateChange(event) { console.log(' -- YoutubePlayer stageChange()') switch (event.data) { // YT.PlayerState.UNSTARTED case -1: console.log('\\t UNSTARTED = -1') _initMuted ? V.player.mute() : V.player.unMute() V.paused = true break // YT.PlayerState.BUFFERING case 3: console.log('\\t BUFFERING = 3') fireEvent(MediaEvent.WAITING, V.onBuffer, event) break // YT.PlayerState.PLAYING case 1: console.log('\\t PLAYING = 1', V.player.getDuration()) V.duration = V.player.getDuration() V.paused = false V.complete = false // checks for a SEEK faux event, for use with cue points if (Math.abs(V.player.getCurrentTime() - V.currentTime) &gt; 0.5) { _cuePoints.seeked = true } FrameRate.register(V, handleTimeUpdate, 3) if (_autoPlay &amp;&amp; !_hasAutoPlayed) { _hasAutoPlayed = true fireEvent(MediaEvent.AUTOPLAY, V.onAutoPlay, event) } else { fireEvent(MediaEvent.PLAY, V.onPlay, event) } V.isReplay = false break // YT.PlayerState.ENDED case 0: console.log('\\t ENDED = 0') // this ensures the ue points get reset _cuePoints.seeked = true V.isReplay = true //V.paused = true; V.complete = true fireEvent(MediaEvent.COMPLETE, V.onComplete, event) // YT.PlayerState.PAUSED case 2: console.log('\\t PAUSED = 2') FrameRate.unregister(V, handleTimeUpdate, 3) if (!_isStopCalled) { fireEvent(MediaEvent.PAUSE, V.onPause, event) } _isStopCalled = false V.paused = true break case 5: console.log('\\t video cued = 5') break } } function handleTimeUpdate() { V.currentTime = V.player.getCurrentTime() V.percent = V.currentTime / V.duration //console.log( '-#####-', V.player.getPlayerState(), ':', V.currentTime, '/', V.duration, '|', V.percent ) fireEvent(MediaEvent.PROGRESS, V.onProgress) checkCuePoint() if (V.player.getCurrentTime() &gt;= V.player.getDuration()) { V.pause() } } function handleFail(event) { console.log('YouTubePlayer.handleFail()') fireEvent(MediaEvent.FAIL, V.onFail, event) } /* ------------------------------------------------------------------------------------------------------------------------------- */ // COMPONENTS if (arg.poster) V.addPoster(arg.poster) if (arg.controls) V.addControls(arg.controls) if (arg.cuePoints) { var a = arg.cuePoints for (var i = 0; i &lt; a.length; i++) { var b = a[i] V.addCuePoint(b.time, b.handler, b.params) } } /* ------------------------------------------------------------------------------------------------------------------------------- */ // INIT createPlayer() console.log('after create, muted:', V.muted) return V } export default YouTubePlayer × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Global Members _collection ---------------------------------------------------------------------------------------------------------------------------------------------------------- Class: StaticGenerator Description: This class controls the communication with the backend to enable static snap shots of the ad's endframe, including the ability to take a shot of every date for a unit with a DateSchedule determining its messaging. // importing into an ES6 class import { StaticGenerator } from 'ad-external' Adding a Schedule: (start code) // within AdData.js import { StaticGenerator } from 'ad-external' // create a schedule var schedule = new DateSchedule({ target: new TzDate({ datetime: Velvet.get('tune_in.datetime'), outputTimezone: Velvet.get('tune_in.timezone') }), isStandard: true }); // add the schedule to StaticGenerator StaticGenerator.addSchedule(schedule); // make a call that will be heard by Velvet StaticGenerator.dispatchData(); (end code) Adding custom data to be passed into the ad: (start code) // within AdData.js import { StaticGenerator } from 'ad-external' StaticGenerator.addCustomData({ type:'yellow' }); StaticGenerator.dispatchData(); (end code) Calling the snap shot at the end of the ad: (start code) // within Control this.animationComplete = function() { console.log( 'Control.animationComplete()' ); StaticGenerator.dispatchSnapshot(); } // then from the end of the animation, call Control.animationComplete() (end code) Notes: Some notes forthcoming. ---------------------------------------------------------------------------------------------------------------------------------------------------------- Source: ad-external/lib/StaticGenerator.js, line 60 Methods add(path, src) Add a path to a component asset. Update a path with a data-src. Parameters: Name Type Description path string relative path to an asset, like `'./images/rubber_ducky.png'` src string base64-encoded asset, optional Source: ad-assets/lib/inline-src.js, line 6 addiFrame() Method: addIframe() Deprecated. Add an iframe to the containerData.target, pointing at containerData.source. Source: ad-view/lib/Markup.js, line 102 addSvg() Method: addSvg() Deprecated. _containerData - object with the necessary keys for creating an element. Source: ad-view/lib/Markup.js, line 127 get(path) If the asset path has been declared, and: - if a src has been provided, the asset data will be returned. - if a src has NOT been provided, the asset path will be returned. If the asset path has NOT been declared: - the path will be returned. Parameters: Name Type Description path string relative path to an asset, like `'./images/rubber_ducky.png'` Source: ad-assets/lib/inline-src.js, line 24 × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Modules Classes Align AlphaVideoPlayer ArrayUtils AudioPlayer CanvasBlendMode CanvasBlur CanvasCircle CanvasColoring CanvasDrawer CanvasElement CanvasImage CanvasLineTo CanvasPath CanvasRect CanvasShape CanvasSprite CanvasText CanvasTexture CanvasTiling CanvasTweener CanvasUtils Clamp ColorUtils Core Countdown CssManager DateFormatter DateManager DateSchedule DcsUtils Device Effects Emitter Expandable ExpandableDcs FrameRate Gesture GestureBase GestureEvent Event Circle Image Rect Shape Sprite ImageManager ImageUtils Loader LocationUtils Markup MathUtils Matrix2D Matrix3D MediaEvent MonetUtils MotionUtils NetUtils ObjectUtils ParentTransform Particle ParticleModel Ratio RecurringSchedule SheetManager SimpleNoise2D SpritePlayer Styles TextFormat TextSplitType Timezone TzDate UIBorder UIButton UIButtonFullScreen UIButtonMute UIButtonPlayPause UIButtonReplay UICanvas UIComponent UIControlBar UIDiv UIEvent UIFlex UIGroup UIImage UISlider UISplitText UISvg UITextField UITimeDisplay Vector2D Velvet VideoControls VideoPlayer YouTubePlayer × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Classes Classes Align AlphaVideoPlayer ArrayUtils AudioPlayer CanvasBlendMode CanvasBlur CanvasCircle CanvasColoring CanvasDrawer CanvasElement CanvasImage CanvasLineTo CanvasPath CanvasRect CanvasShape CanvasSprite CanvasText CanvasTexture CanvasTiling CanvasTweener CanvasUtils Clamp ColorUtils Core Countdown CssManager DateFormatter DateManager DateSchedule DcsUtils Device Effects Emitter Expandable ExpandableDcs FrameRate Gesture GestureBase GestureEvent Event Circle Image Rect Shape Sprite ImageManager ImageUtils Loader LocationUtils Markup MathUtils Matrix2D Matrix3D MediaEvent MonetUtils MotionUtils NetUtils ObjectUtils ParentTransform Particle ParticleModel Ratio RecurringSchedule SheetManager SimpleNoise2D SpritePlayer Styles TextFormat TextSplitType Timezone TzDate UIBorder UIButton UIButtonFullScreen UIButtonMute UIButtonPlayPause UIButtonReplay UICanvas UIComponent UIControlBar UIDiv UIEvent UIFlex UIGroup UIImage UISlider UISplitText UISvg UITextField UITimeDisplay Vector2D Velvet VideoControls VideoPlayer YouTubePlayer × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer × Search results Close "},"Align.html":{"id":"Align.html","title":"Class: Align","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-view Align new Align() Import from ad-view // importing into an ES6 class import { Align } from 'ad-view' Utility for aligning objects, which works for DOM elements and CanvasDrawer elements. The x and y alignments are split up into separate assignemnts in one call. There are extra parameters that can be passed into the object to handle more complex logic. Notes: Align, by default, snaps to a full pixel. To change this, see Sample 3 ( snap: false ) Sample 1 // simple classic usage Align.set( myDiv, Align.LEFT ); // only align left Align.set( myDiv, Align.BOTTOM ); // only align bottom Align.set( myDiv, Align.CENTER ); // align both x and y to the center Sample 2 // simply align the x and y seperately Align.set( myDiv, { x: Align.RIGHT, y: Align.BOTTOM }); Sample 3 'against' is an object to which we align our given object, like making myDiv perfectly centered against myOtherDiv 'against' could also be a number, as in align myDiv centered against adParams.adWidth / 2 'outer' is an optional complex parameter which determines how we align to the 'against' object; default to false If 'against' is a number, then 'outer' will have no affect. // complex alignment, align in relation to another div with an offset shift of 10 pixels, without snapping to a whole pixel Align.set( myDiv, { x: { type: Align.RIGHT, against: myOtherDiv offset: 10, outer: true }, y: { type: Align.BOTTOM, offset: 14 }, snap: false }); Sample 4 // complex alignment, align in relation to a fixed number with an offset shift of 10 pixels Align.set( myDiv, { x: { type: Align.RIGHT, against: 200 offset: 10, }, y: { type: Align.BOTTOM, against: 30 offset: 14 }, }); Source: ad-view/lib/Align.js, line 1 Members &lt;static, constant&gt; BOTTOM :string Synonymous with &quot;alignBottom&quot; Type: string Source: ad-view/lib/Align.js, line 104 &lt;static, constant&gt; BOTTOM_LEFT :string Synonymous with &quot;alignBottomLeft&quot;, used for UITextField.alignText Type: string Source: ad-view/lib/Align.js, line 139 &lt;static, constant&gt; BOTTOM_RIGHT :string Synonymous with &quot;alignBottomRight&quot; used for UITextField.alignText Type: string Source: ad-view/lib/Align.js, line 146 &lt;static, constant&gt; CENTER :string Synonymous with &quot;alignCenter&quot; Type: string Source: ad-view/lib/Align.js, line 111 &lt;static, constant&gt; LEFT :string Synonymous with &quot;alignLeft&quot; Type: string Source: ad-view/lib/Align.js, line 118 &lt;static, constant&gt; RIGHT :string Synonymous with &quot;alignRight&quot; Type: string Source: ad-view/lib/Align.js, line 125 &lt;static, constant&gt; TOP :string Synonymous with &quot;alignTop&quot; Type: string Source: ad-view/lib/Align.js, line 132 &lt;static, constant&gt; TOP_LEFT :string Synonymous with &quot;alignTopLeft&quot; used for UITextField.alignText Type: string Source: ad-view/lib/Align.js, line 153 &lt;static, constant&gt; TOP_RIGHT :string Synonymous with &quot;alignTopRight&quot; used for UITextField.alignText Type: string Source: ad-view/lib/Align.js, line 160 Methods &lt;static&gt; get() Calculates but does not apply the amount the source element will move horizontally and/or vertically, relative to its parent according to provided mode. The constants allow for picking which coordinate to apply. Source: ad-view/lib/Align.js, line 170 &lt;static&gt; set() Moves the source element horizontally and/or vertically, relative to its parent according to provided mode. The constants allow for picking which coordinate to apply. Source: ad-view/lib/Align.js, line 264 × Search results Close "},"AlphaVideoPlayer.html":{"id":"AlphaVideoPlayer.html","title":"Class: AlphaVideoPlayer","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-video AlphaVideoPlayer new AlphaVideoPlayer() Import from ad-video // importing into an ES6 class import { AlphaVideoPlayer } from 'ad-video' This object creates a VideoPlayer instance and attaches HTML Canvas masking. This player has the ability to function exactly the same as a regular VideoPlayer instance. Note: If using a dynamic video mask (rather than a static mask from a PNG, JPG, or other bitmap source) then ensure the runtimeIncludes object of your index.html file contains MpegPlugin.min.js: var runtimeIncludes = { get mpegPluginPath(){ return adParams.corePath + &quot;js/video/MpegPlugin.min.js&quot;; }, }; For more info about building an AlphaVideoPlayer masked video, visit https://confluence.ff0000.com/display/AT/Alpha+Video There are two key properties which make AlphaVideoPlayer unique to VideoPlayer: mask: An object with two parameters: source: the image source to use as the mask alphaMatte: if true, uses the image's natural transparancies to create the masking. If false, will use black and white values to determine masking. By adding a mask, the video will have STATIC MASKING. If The video's mask needs to move, this requires a DYNAMIC MASKING solution. videoStacked: If true, the video to render and video's luma matte are stacked within the video source. If false, the two are side by side. Default to false. Will be overwritten if a static mask is used. WARNING: If you are using a Dynamic Mask, the video format must be MPG and the index's runtimeIncludes must import the MpegPlugin.min.js var runtimeIncludes = { get mpegPluginPath(){ return adParams.corePath + &quot;js/video/MpegPlugin.min.js&quot;; }, }; In addition, if you are using building an inline autoplay unit, Android devices require a video format that must be MPG. The source can either be an MPG or an array. Use an array for STATIC, not DYNAMIC, masking so that only Android needs to load the MpegPlugin script: other devices should be able to use MP4 just fine. source: adParams.videosPath + 'myVideo.mpg' // or source: [ adParams.videosPath + 'myVideo.mp4', adParams.videosPath + 'myVideo.mpg', ], Sample Player - Uses a video with a stacked masking source. (NOTE THE MPG VIDEO FORMAT) View.main.AlphaVideoPlayer = new AlphaVideoPlayer ({ id: 'myAlphaVideoPlayer', target: View.main, css: { width: 970, height: 650, }, source: adParams.videosPath + 'alpha_intro_vid_v2_withAlpha.mpg', videoStacked: true, preload: true, autoPlay: false, muted: true, } ); View.main.AlphaVideoPlayer.play(); Sample - Uses a PNG - named 'red_png' - as a mask. The native alpha channel defines the visible area. (NOTE THE MP4 VIDEO FORMAT) View.main.AlphaVideoPlayer = new AlphaVideoPlayer ({ id: 'myAlphaVideoPlayer', target: View.main, css: { width: 970, height: 650, }, source: adParams.videosPath + 'alpha_intro_vid_v2_noAlpha.mp4', mask: { source: 'red_png', alphaMatte: true }, preload: true, autoPlay: false, muted: true, } ); View.main.AlphaVideoPlayer.play(); Sample - Uses a JPG - named 'red_jpg' - as a mask. The image's blacks and whites define the visible area. (NOTE THE MP4 VIDEO FORMAT) View.main.AlphaVideoPlayer = new AlphaVideoPlayer ({ id: 'myAlphaVideoPlayer', target: View.main, css: { width: 970, height: 650, }, source: adParams.videosPath + 'alpha_intro_vid_v2_noAlpha.mp4', mask: { source: 'red_jpg', }, preload: true, autoPlay: false, muted: true, } ); View.main.AlphaVideoPlayer.play(); Source: ad-video/lib/AlphaVideoPlayer.js, line 1 × Search results Close "},"ArrayUtils.html":{"id":"ArrayUtils.html","title":"Class: ArrayUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils ArrayUtils new ArrayUtils() Import from ad-utils // importing into an ES6 class import { ArrayUtils } from 'ad-utils' This object contains additional methods for manipulating arrays. Source: ad-utils/lib/ArrayUtils.js, line 1 Methods &lt;static&gt; combine(arr1, arr2) A 'more friendly' concat function. Parameters: Name Type Description arr1 array first array arr2 array second array appended to the first Source: ad-utils/lib/ArrayUtils.js, line 16 &lt;static&gt; contains(array, item) Determines if a given array contains a given element. Returns a boolean. Parameters: Name Type Description array array the array to check item number | string the item to check for in the array Source: ad-utils/lib/ArrayUtils.js, line 108 &lt;static&gt; copy(array) Creates a unique duplicate of the given array. Parameters: Name Type Description array array the array to duplicate Source: ad-utils/lib/ArrayUtils.js, line 30 &lt;static&gt; insertAt(array, index, arguments) Adds elements at a provided index. Returns a new array. Parameters: Name Type Description array array the array to modify index number the index to insert elements arguments arguments the elements to insert Source: ad-utils/lib/ArrayUtils.js, line 42 &lt;static&gt; remove(array, item) Removes all instances of an element from the given array. Returns a new array. Parameters: Name Type Description array array the array to modify item number | string the item to remove from the array Source: ad-utils/lib/ArrayUtils.js, line 78 &lt;static&gt; removeAt(array, index) Removes an element at a provided index. Returns a new array. Parameters: Name Type Description array array the array to modify index number the index of the element to remove Source: ad-utils/lib/ArrayUtils.js, line 62 &lt;static&gt; shuffle(array) Shuffles the array into a random order. Parameters: Name Type Description array array the array to modify Source: ad-utils/lib/ArrayUtils.js, line 94 × Search results Close "},"AudioPlayer.html":{"id":"AudioPlayer.html","title":"Class: AudioPlayer","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-video AudioPlayer new AudioPlayer() Import from ad-video // importing into an ES6 class import { AudioPlayer } from 'ad-video' This object creates a custom Audio Player instance, which is an extension of the native DOM tag. All native functionality is available, such as load(), play(), pause(), and volume Source: ad-video/lib/AudioPlayer.js, line 1 Example // instantiate new audio player View.main.audioPlayer = new AudioPlayer({ source: 'mySoundFile.mp3', target: View.main, id: 'My_Unique_ID', preload : false, autoPlay : false, muted : false, volume: .8, onReady: function(event){ console.log( 'audio ready') }, onProgress: function(event){ console.log( 'audio progress' ) }, onComplete: function(event){ console.log( 'audio complete' ) }, onFail: global.failAd, }) View.main.audioPlayer.play(); Members &lt;static&gt; autoPlay :boolean A Boolean that changes if the audio will automatically play. Type: boolean Source: ad-video/lib/AudioPlayer.js, line 64 Example myPlayer.autoPlay = false; &lt;static&gt; percent :number A Number 0-1 representing the audio timeline percent position. Type: number Source: ad-video/lib/AudioPlayer.js, line 82 &lt;static&gt; source :string Changes the source of the audio. Pass a string of the audio file path to set. Type: string Source: ad-video/lib/AudioPlayer.js, line 93 Example myPlayer.source = 'audio/myAudio.mp3'; &lt;static&gt; volume :number Changes the volume of the audio. Assign a number, between 0 - 1 to set the volume. Type: number Source: ad-video/lib/AudioPlayer.js, line 111 Example myPlayer.volume = .8; Methods &lt;static&gt; load() Loads the current audio source. If preload is true, this is redundant. Source: ad-video/lib/AudioPlayer.js, line 122 Example myPlayer.load(); &lt;static&gt; mute() Mutes the Video Player, does not change the volume. Source: ad-video/lib/AudioPlayer.js, line 183 Example myPlayer.mute() &lt;static&gt; pause() Pauses the current audio. Source: ad-video/lib/AudioPlayer.js, line 140 Example myPlayer.pause(); &lt;static&gt; play() Plays the current audio. Source: ad-video/lib/AudioPlayer.js, line 131 Example myPlayer.play(); &lt;static&gt; seek(sec) Skips the audio to a specific time. Parameters: Name Type Description sec number The time to skip the audio to in seconds. Source: ad-video/lib/AudioPlayer.js, line 149 Example myPlayer.seek( 4 ); &lt;static&gt; stop() Stops the audio and resets it to the beginning. Source: ad-video/lib/AudioPlayer.js, line 167 Example myPlayer.stop(); &lt;static&gt; unmute() Unmutes the Video Player, does not change the volume. Source: ad-video/lib/AudioPlayer.js, line 196 Example myPlayer.unmute() × Search results Close "},"CanvasBlendMode.html":{"id":"CanvasBlendMode.html","title":"Class: CanvasBlendMode","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasBlendMode new CanvasBlendMode() Import from ad-canvas // importing into an ES6 class import { CanvasBlendMode } from 'ad-canvas' See also http://www.w3schools.com/tags/canvas_globalcompositeoperation.asp and here https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation WARNING: If you try to apply a blend mode of any kind (masking) to a CanvasImage whose source is an SVG, it will not render properly in FireFox. This is a known browser issue Try drawing the SVG into a dummy canvas and then use that dummy canvas as the image source in place of the SVG for your masking Use a PNG instead DEFAULT / PLACEMENTS: NONE UNDER MASKING BLENDS: Use the existing canvas drawings to act as the mask to the given drawing with this mode: SOURCE_IN SOURCE_OUT SOURCE_ATOP Use the given drawing with this mode to act as the mask to existing canvas drawings: DEST_IN DEST_OUT DEST_ATOP Miscellaneous: XOR COPY UNIVERSAL BLEND MODES: ADD NOT SUPPORTED BY THESE BROWSER VERSIONS AND EARLIER: Internet Explorer, Edge 12, Opera Mini 8, Android Browser 4.3: DARKEN LIGHTEN OVERLAY MULTIPLY SCREEN DODGE BURN HARD SOFT DIFFERENCE EXCLUSION HUE SATURATION COLOR LUMINOSITY Source: ad-canvas/lib/CanvasBlendMode.js, line 1 Members &lt;static, constant&gt; ADD :string Represents 'lighter'. Where both shapes overlap, the color is values are added together. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 189 Example CanvasBlendMode.ADD &lt;static, constant&gt; BURN :string Represents 'color-burn'. Divides the inverted bottom layer by the top layer, and then inverts the result. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 253 Example CanvasBlendMode.BURN &lt;static, constant&gt; COLOR :string Represents 'color'. Preserves the luma of the bottom layer, while adopting the hue and chroma of the top layer. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 316 Example CanvasBlendMode.COLOR &lt;static, constant&gt; COPY :string Represents 'copy'. Displays the source content. The destination content is ignored. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 177 Example CanvasBlendMode.COPY &lt;static, constant&gt; DARKEN :string Represents 'darken'. Retains the darkest pixels of both layers. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 199 Example CanvasBlendMode.DARKEN &lt;static, constant&gt; DEST_ATOP :string Represents 'destination-atop'. Displays the destination content on top of the source content. The part of the destination content that is outside the source content is not shown. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 155 Example CanvasBlendMode.DEST_ATOP &lt;static, constant&gt; DEST_IN :string Represents 'destination-in'. Displays the destination content within the source content. Only the part of the destination content that is INSIDE the source content is shown, and the source content is transparent. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 133 Example CanvasBlendMode.DEST_IN &lt;static, constant&gt; DEST_OUT :string Represents 'destination-out'. Displays the destination content outside of the source content. Only the part of the destination content that is OUTSIDE the source content is shown, and the source content is transparent. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 144 Example CanvasBlendMode.DEST_OUT &lt;static, constant&gt; DIFFERENCE :string Represents 'difference'. Subtracts the bottom layer from the top layer or the other way round to always get a positive value. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 280 Example CanvasBlendMode.DIFFERENCE &lt;static, constant&gt; DODGE :string Represents 'color-dodge'. Divides the bottom layer by the inverted top layer. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 244 Example CanvasBlendMode.DODGE &lt;static, constant&gt; EXCLUSION :string Represents 'exclusion'. Like difference, but with lower contrast. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 289 Example CanvasBlendMode.EXCLUSION &lt;static, constant&gt; HARD :string Represents 'hard-light'. A combination of multiply and screen like overlay, but with top and bottom layer swapped. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 262 Example CanvasBlendMode.HARD &lt;static, constant&gt; HUE :string Represents 'hue'. Preserves the luma and chroma of the bottom layer, while adopting the hue of the top layer. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 298 Example CanvasBlendMode.HUE &lt;static, constant&gt; LIGHTEN :string Represents 'lighten'. Retains the lightest pixels of both layers. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 208 Example CanvasBlendMode.LIGHTEN &lt;static, constant&gt; LUMINOSITY :string Represents 'luminosity'. Preserves the hue and chroma of the bottom layer, while adopting the luma of the top layer. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 325 Example CanvasBlendMode.LUMINOSITY &lt;static, constant&gt; MULTIPLY :string Represents 'multiply'. The pixels are of the top layer are multiplied with the corresponding pixel of the bottom layer. A darker picture is the result. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 226 Example CanvasBlendMode.MULTIPLY &lt;static, constant&gt; NONE :string Represents 'source-over'. Displays the source content over the destination content. This is the default setting. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 77 Example CanvasBlendMode.NONE &lt;static, constant&gt; OVERLAY :string Represents 'overlay'. A combination of multiply and screen. Dark parts on the base layer become darker, and light parts become lighter. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 217 Example CanvasBlendMode.OVERLAY &lt;static, constant&gt; SATURATION :string Represents 'saturation'. Preserves the luma and hue of the bottom layer, while adopting the chroma of the top layer. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 307 Example CanvasBlendMode.SATURATION &lt;static, constant&gt; SCREEN :string Represents 'screen'. The pixels are inverted, multiplied, and inverted again. A lighter picture is the result (opposite of multiply) Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 235 Example CanvasBlendMode.SCREEN &lt;static, constant&gt; SOFT :string Represents 'soft-light'. A softer version of hard-light. Pure black or white does not result in pure black or white. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 271 Example CanvasBlendMode.SOFT &lt;static, constant&gt; SOURCE_ATOP :string Represents 'source-atop'. Displays the destination content on top of the source content. The part of the destination content that is outside the source content is not shown. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 122 Example CanvasBlendMode.SOURCE_ATOP &lt;static, constant&gt; SOURCE_IN :string Represents 'source-in'. Displays the source content within the destination content. Only the part of the source content that is INSIDE the destination content is shown, and the destination content is transparent. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 100 Example CanvasBlendMode.SOURCE_IN &lt;static, constant&gt; SOURCE_OUT :string Represents 'source-out'. Displays the source content outside of the destination content. Only the part of the source content that is OUTSIDE the destination content is shown, and the destination content is transparent. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 111 Example CanvasBlendMode.SOURCE_OUT &lt;static, constant&gt; UNDER :string Represents 'destination-over'. Displays the destination content over the source content. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 88 Example CanvasBlendMode.UNDER &lt;static, constant&gt; XOR :string Represents 'xor'. Only areas where the destination content and source content do not overlap are displayed. The parts that do overlap are not shown. Type: string Source: ad-canvas/lib/CanvasBlendMode.js, line 166 Example CanvasBlendMode.XOR × Search results Close "},"CanvasBlur.html":{"id":"CanvasBlur.html","title":"Class: CanvasBlur","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasBlur new CanvasBlur() Import from ad-canvas // importing into an ES6 class import { CanvasBlur } from 'ad-canvas' Blurs all the imagery of a canvas given a Canvas element or CanvasDrawer instance. Source: ad-canvas/lib/CanvasBlur.js, line 1 Methods &lt;static&gt; set(obj) Blur the content of a canvas DOM element EXAMPLES:: Starting with this image:: Blur while preserving alpha:: CanvasBlur.set({ target: _myCanvasDrawer.canvas, amount: 3, alpha: true }); Blur while preserving outline:: // because clear: true, will redraw the canvas to remove the previous blur of amount: 3 // alpha: false will preserve the outline of the target while blurring its innards CanvasBlur.set({ target: _myCanvasDrawer, amount: 10, clear: true, alpha: false }); Blur content horizontally only:: CanvasBlur.set({ target: _myCanvasDrawer, amount: { x: 20 } }); Parameters: Name Type Description obj object an object with parameters for overall blurring, see properties for more information Properties: Name Type Description target CanvasDrawer | UICanvas | canvas a CanvasDrawer or CANVAS DOM element used to determine what to blur amount number | object a NUMBER by which blur the content of the target or an OBJECT containing unique X and Y blur amounts Properties Name Type Description x number NUMBER by which to blur the content horizontally (will average with a given Y blur) y number NUMBER by which to blur the content vertically (will average with a given X blur) alpha boolean a BOOLEAN to toggle whether or not to blur a target's alpha values. Defaults to false, which will blur the content but preserve the shape of the imagery clear boolean a BOOLEAN which will redraw a CanvasDrawer (but not any other canvas element). Defaults to false, which will compound previous effects Source: ad-canvas/lib/CanvasBlur.js, line 53 × Search results Close "},"CanvasCircle.html":{"id":"CanvasCircle.html","title":"Class: CanvasCircle","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasCircle new CanvasCircle(circObj) Import from ad-canvas // importing into an ES6 class import { CanvasCircle } from 'ad-canvas' Add a circle shape to a CanvasDrawer based on a given object, and return a reference to that shape. Sample 1 Adding an semi-circle arc with a red fill and no lines:: var _myShape = new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x: 150, y: 125, radius: 100, startRad: MathUtils.toRadians(0), endRad: MathUtils.toRadians(180) }, fill: 'red' }); Sample 2 adding the same circle using WIDTH and DEGREES instead of RADIUS and RADIANS:: var _myShape = new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x:150, y:125, width:200, startAngle:0, endAngle:180 }, fill: 'red' }); Parameters: Name Type Description circObj object an object containing the arguments for defining / orienting the circle, see Properties for more information Properties: Name Type Description target CanvasDrawer the CanvasDrawer element in which to draw the circle. id string an optional STRING defining the name by which the circle will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a CanvasDrawer. params object an object with the following properites: Properties Name Type Description x number NUMBER X coordinate for where to draw the image data y number NUMBER Y coordinate for where to draw the image data radius number NUMBER for the radius of the circle width number NUMBER for the width (diameter) of the circle. Overrides radius startRad number NUMBER IN RADIANS for starting angle of circle's arc endRad number NUMBER IN RADIANS for ending angle of circle's arc startAngle number NUMBER IN DEGREES for starting angle of circle's arc (overrides startRad) endAngle number NUMBER IN DEGREES for ending angle of circle's arc (overrides endRad) scale number NUMBER for uniform scale of the drawing, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY. scaleX number NUMBER for X scale of the drawing, scaling from drawing center unless transformOrigin is changed scaleY number NUMBER for Y scale of the drawing, scaling from drawing center unless transformOrigin is changed rotation number NUMBER IN DEGREES for the start rotation of the given drawing transformOrigin string an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '50% 50%'. alpha number NUMBER for alpha of the drawing dropShadow number an optional OBJECT defining properties of the circle's drop shadow Properties Name Type Description angle number NUMBER IN DEGREES for the angle to position the shadow distance number NUMBER for how far away from the circle the shadow is blur number NUMBER for how blurry the shadow is color string | object optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' alpha number NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color. blendMode string | CanvasBlendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over'. fill string | CanvasTexture an optional STRING or gradiant variable defining the color fill of the circle. Defaults to none / invisible. stroke string an optional OBJECT defining properties of the circle's stroke Properties Name Type Description fill string | CanvasTexture an optional STRING or gradiant variable defining the color fill of the circle stroke. Defaults to none / invisible. width number an optional NUMBER value determining stroke width. Defaults to 0. position string an optional STRING determining if the stroke will be 'outer' or 'center'. Defaults to 'outer', there is no 'inner'. cap string an optional STRING value determining a line's cap style: 'butt', 'round', and 'square'. Defaults to 'butt'. join string an optional STRING value determining how two lines/corners connect: 'round', 'bevel', and 'miter'. Defaults to 'miter'. dashSize number an optional NUMBER value determining the length of each segment in a dashed line. dashGap number an optional NUMBER value determining the gap between each segment in a dashed line. Defaults to 0, unless dashSize is defined, then defaults to dashSize. dashOffset number an optional NUMBER value which offsets the positioning of the dash segments. A positive number moves them counter-clockwise. Defaults to 0. visible string an optional BOOLEAN that, when set to false, will not render the element. Defaults to true. Source: ad-canvas/lib/CanvasCircle.js, line 1 Members &lt;static&gt; alpha :number NUMBER representing the opacity of the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 169 &lt;static&gt; blendMode :number NUMBER representing the blend or masking style applied to the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 193 &lt;static&gt; fill :string STRING, gradient, or texture representing the color used to fill the shape Type: string Source: ad-canvas/lib/CanvasCircle.js, line 227 &lt;static, constant&gt; id :string READ-ONLY: STRING representing the id of the element Type: string Source: ad-canvas/lib/CanvasCircle.js, line 133 &lt;static&gt; radius :number NUMBER representing the radius of the element, Type: number Source: ad-canvas/lib/CanvasCircle.js, line 157 &lt;static&gt; rotation :number NUMBER representing the rotation, in degrees, of the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 163 &lt;static&gt; scale :number NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY Type: number Source: ad-canvas/lib/CanvasCircle.js, line 175 &lt;static&gt; scaleX :number NUMBER representing the horizontal scale of the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 181 &lt;static&gt; scaleY :number NUMBER representing the vertical scale of the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 187 &lt;static&gt; shadowAngle :number NUMBER representing the angle, in degrees, of the drop shadow Type: number Source: ad-canvas/lib/CanvasCircle.js, line 293 &lt;static&gt; shadowBlur :number NUMBER representing the amount of blur on the drop shadow Type: number Source: ad-canvas/lib/CanvasCircle.js, line 287 &lt;static&gt; shadowColor :string STRING representing the color of the drop shadow in RGBA format Type: string Source: ad-canvas/lib/CanvasCircle.js, line 281 &lt;static&gt; shadowDistance :number NUMBER representing the distance of the drop shadow from the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 299 &lt;static&gt; strokeCap :string STRING representing how the two ends of a line form: 'butt', 'round', and 'square', Type: string Source: ad-canvas/lib/CanvasCircle.js, line 245 &lt;static&gt; strokeDashGap :number NUMBER representing the gap between each segment in a dashed line Type: number Source: ad-canvas/lib/CanvasCircle.js, line 269 &lt;static&gt; strokeDashOffset :number NUMBER representing the offset positioning of the dash segments Type: number Source: ad-canvas/lib/CanvasCircle.js, line 275 &lt;static&gt; strokeDashSize :number NUMBER representing the length of each segment in a dashed line Type: number Source: ad-canvas/lib/CanvasCircle.js, line 263 &lt;static&gt; strokeFill :string STRING, gradient, or texture representing the color used to fill the shape's stroke Type: string Source: ad-canvas/lib/CanvasCircle.js, line 233 &lt;static&gt; strokeJoin :string STRING representing how two lines/corners form: 'round', 'bevel', and 'miter' Type: string Source: ad-canvas/lib/CanvasCircle.js, line 251 &lt;static&gt; strokePosition :string STRING repsenting the position of the shape's stroke, 'outer' or 'center'; there is no 'inner' Type: string Source: ad-canvas/lib/CanvasCircle.js, line 257 &lt;static&gt; strokeWidth :number NUMBER representing the width of the shape's outline Type: number Source: ad-canvas/lib/CanvasCircle.js, line 239 &lt;static&gt; transformOrigin :string STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). NOTE:: 50% 50% is centered, based on percentage. 50px 50px is 50 px away from 0% 0% vertically and horizontally. 50 50 is the same as 50px 50px. Values can be mixed: 50% 10px, for instance. EXAMPLES:: View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; Type: string Source: ad-canvas/lib/CanvasCircle.js, line 205 &lt;static&gt; visible :boolean BOOLEAN representing whether or not the element should be drawn, Type: boolean Source: ad-canvas/lib/CanvasCircle.js, line 199 &lt;static&gt; width :number NUMBER representing the total width or diameter of the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 151 &lt;static&gt; x :number NUMBER representing the horizontal position of the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 139 &lt;static&gt; y :number NUMBER representing the vertical position of the element Type: number Source: ad-canvas/lib/CanvasCircle.js, line 145 × Search results Close "},"CanvasColoring.html":{"id":"CanvasColoring.html","title":"Class: CanvasColoring","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasColoring new CanvasColoring() Import from ad-canvas // importing into an ES6 class import { CanvasColoring } from 'ad-canvas' Apply letious color effects to a canvas given a Canvas element or CanvasDrawer instance. All examples in this class demonstrate effects applied to this image: Source: ad-canvas/lib/CanvasColoring.js, line 1 Methods &lt;static&gt; contrast(obj) Change the contrast of the target. EXAMPLE:: // get your whites whiter and brights brighter CanvasColoring.contrast({ target: _myCanvasDrawer, amount: 10, }); Parameters: Name Type Description obj object an object with paramaters for overall saturation, see Properties for more info: Properties: Name Type Description target CanvasDrawer | UICanvas | canvas a CanvasDrawer or CANVAS DOM to which the effect is applied amount number a NUMBER representing the contrast of the target. 0 = no contrast, 1 = original contrast, &gt;1 = more and more, to infinity and beyond! clear boolean a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects Source: ad-canvas/lib/CanvasColoring.js, line 50 &lt;static&gt; invert(obj) Invert the colors of the target. EXAMPLE:: CanvasColoring.invert({ target: _myCanvasDrawer }); Parameters: Name Type Description obj object an object with parameters for overall inversion, see Properties for more info: Properties: Name Type Description target CanvasDrawer | UICanvas | canvas a CanvasDrawer or CANVAS DOM to which the effect is applied clear boolean a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects. Source: ad-canvas/lib/CanvasColoring.js, line 199 &lt;static&gt; saturation(obj) EXAMPLE:: // convert to full grayscale CanvasColoring.saturation({ target: _myCanvasDrawer, amount: 0, }); Parameters: Name Type Description obj object an object with paramaters for overall saturation, see Properties for more info: Properties: Name Type Description target CanvasDrawer | UICanvas | canvas a CanvasDrawer or CANVAS DOM to which the effect is applied amount number a NUMBER representing the total saturation of the target. 0 = grayscale, 1 = full, original color clear boolean a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects Source: ad-canvas/lib/CanvasColoring.js, line 22 &lt;static&gt; tint(obj) Tint the target uniformly to a given color. EXAMPLE:: // tint to GREEN CanvasColoring.tint({ target: _myCanvasDrawer, color: 'rgb(0, 255, 0)', amount: 1 }); // tint to MAGENTA CanvasColoring.tint({ target: _myCanvasDrawer, color: { r: 255, g: 0, b: 255 }, amount: 1 }); // 50% tint to BLUE CanvasColoring.tint({ target: _myCanvasDrawer, color: '#0000ff', amount: 0.5 }); Parameters: Name Type Description obj object an object with paramaters for overall saturation, see Properties for more info: Properties: Name Type Description target CanvasDrawer | UICanvas | canvas a CanvasDrawer or CANVAS DOM to which the effect is applied amount number a NUMBER representing the percentage of color to apply to the target. Defaults to 1, which is 100% color tinting color string | object a HEX, RGB/A STRING, or RGB/A OBJECT represeting the color to tint to. Color-name strings such as 'red' and 'blue' will throw errors clear boolean a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects Source: ad-canvas/lib/CanvasColoring.js, line 80 &lt;static&gt; transform(obj) Color Transforms the target to a given color by pulling colors out of image; preserves shading. EXAMPLE:: // pulls all colors EXCEPT for GREEN values out of the target CanvasColoring.transform({ target: _myCanvasDrawer, color: 'rgb(0, 255, 0)', amount: 1 }); // pulls all colors EXCEPT for RED and BLUE values out of the target CanvasColoring.transform({ target: _myCanvasDrawer, color: { r: 255, g: 0, b: 255 }, amount: 1 }); // pulls 50% of all colors EXCEPT for BLUE values out of the target CanvasColoring.transform({ target: _myCanvasDrawer, color: '#0000ff', amount: 0.5 }); Parameters: Name Type Description obj object an object with paramaters for overall saturation, see Properties for more info: Properties: Name Type Description target CanvasDrawer | UICanvas | canvas a CanvasDrawer or CANVAS DOM to which the effect is applied amount number a NUMBER representing the percentage of color to apply to the target. Defaults to 1, which is 100% color transform color string | object a HEX, RGB/A STRING, or RGB/A OBJECT represeting the color to transform to. Color-name strings such as 'red' and 'blue' will throw errors clear boolean a BOOLEAN which will redraw a CanvasDrawer (but not a canvas DOM element). Defaults to false, which will compound previous effects. Source: ad-canvas/lib/CanvasColoring.js, line 139 × Search results Close "},"CanvasDrawer.html":{"id":"CanvasDrawer.html","title":"Class: CanvasDrawer","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasDrawer new CanvasDrawer(arg) Import from ad-canvas // importing into an ES6 class import { CanvasDrawer } from 'ad-canvas' Is the returned instance of CanvasDrawer. NOTE:: The update() method is key to displaying any element added creating a new CanvasElement. If you add something and don't see it, you might not have used update() You SHOULD NOT run the update() method after every individual element is added, but rather once after the creation of all your elements Parameters: Name Type Description arg object Settings are passed in via this object, see Properties for more info: Properties: Name Type Description id string a STRING id suffix the canvas DOM element will go by; is appeneded to 'cd_' target element the target DOM element in which to place the canvas element; if undefined, element will not be added to DOM css object an optional CSS object defining the style of the canvas. If undefined, will size canvas to the width and height of the target DOM element. clearCanvas boolean an optional BOOLEAN which determines if, on update, the CanvasDrawer clears the contents of its canvas before redrawing every CanvasElement; defaults to true. retina boolean an optional BOOLEAN which determine whether or not to create the canvas and its elements at retina (double) resolution; defaults to false. subPixeling boolean an optional BOOLEAN which will override retina to true but preserve certain width/height values to produce smoother sub-pixeling in animations; defaults to false. debug boolean an optional BOOLEAN value of true will make the canvas background green; defaults to false. Source: ad-canvas/lib/CanvasDrawer.js, line 1 Example View.main.myCanvasDrawer = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, retina: true, debug: false }); Members &lt;static&gt; canvas :UICanvas the actual canvas DOM element in which the CanvasDrawer's instance draws Type: UICanvas Source: ad-canvas/lib/CanvasDrawer.js, line 65 &lt;static&gt; clearCanvas :boolean BOOLEAN for if the canvas drawer should clear itself on every update before re-drawing its CanvasElements Type: boolean Source: ad-canvas/lib/CanvasDrawer.js, line 79 &lt;static&gt; ctx The context2d of the canvas DOM element Source: ad-canvas/lib/CanvasDrawer.js, line 72 &lt;static&gt; elements :object Object containing all of the drawing elements created through new CanvasElements. Type: object Source: ad-canvas/lib/CanvasDrawer.js, line 93 &lt;static&gt; elementsLength :number Number of total elements Type: number Source: ad-canvas/lib/CanvasDrawer.js, line 100 &lt;static&gt; height :number Number to set or retrieve the width of the canvas Type: number Source: ad-canvas/lib/CanvasDrawer.js, line 167 &lt;static&gt; qualityScale :number NUMBER representing the scale of the canvas DOM element: if retina or subPixeling were set to true, is equal to 2. Defaults to 1. Type: number Source: ad-canvas/lib/CanvasDrawer.js, line 86 &lt;static&gt; width :number Number to set or retrieve the width of the canvas Type: number Source: ad-canvas/lib/CanvasDrawer.js, line 154 Methods &lt;static&gt; clear() Wipes the canvas clean of any image data Source: ad-canvas/lib/CanvasDrawer.js, line 219 &lt;static&gt; removeAllElements() Removes everything from CanvasDrawer.elements. Source: ad-canvas/lib/CanvasDrawer.js, line 202 Example View.main.myCanvasDrawer.removeAllElements(); &lt;static&gt; removeElement(target) Removes a specific CanvasElement from CanvasDrawer.elements by either its ID or a direct reference to the CanvasElement. Parameters: Name Type Description target element | string the STRING ID used to reference an element or a reference to the ELEMENT itself Source: ad-canvas/lib/CanvasDrawer.js, line 185 Example View.main.myCanvasDrawer.removeElement('smoke'); View.main.myCanvasDrawer.removeElement( View.main.myCanvasDrawer.elements.smoke ); &lt;static&gt; update() Clear and draw all draw items in the elements dictionary associated with this CanvasDrawer. Renders CanvasElements in order of creation. will not draw the item if elements.visible !== true or elements.alpha === 0 Properties: Name Type Description array array an OPTIONAL array of CanvasElements associated with this CanvasDrawer; rather than rendering all of the CanvasElements in order of creation this will only the CanvasElements within the given array, and in that order - order of creation does not apply in this instance. Source: ad-canvas/lib/CanvasDrawer.js, line 230 × Search results Close "},"CanvasElement.html":{"id":"CanvasElement.html","title":"Class: CanvasElement","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasElement new CanvasElement() Import from ad-canvas // importing into an ES6 class import { CanvasElement } from 'ad-canvas' Is the returned instance of a CanvasElement, which makes up all CanvasShapes and CanvasImages. Never called directly by a user. Properties available to every CanvasElement, except where noted:: id STRING representing the name of the element x NUMBER representing the horizontal position of the element y NUMBER representing the vertical position of the element rotation NUMBER representing the rotation, in degrees, of the element alpha NUMBER representing the opacity of the element scale NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY scaleX NUMBER representing the horizontal scale of the element scaleY NUMBER representing the vertical scale of the element blendMode NUMBER representing the blend or masking style applied to the element visible BOOLEAN representing whether or not the element should be drawn shadowColor STRING representing the color of the drop shadow in RGBA format shadowBlur NUMBER representing the amount of blur on the drop shadow shadowAngle NUMBER representing the angle, in degrees, of the drop shadow shadowDistance NUMBER representing the distance of the drop shadow from the element transformOrigin STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px') The following *ONLY* apply to CanvasImage instances:: sourceX NUMBER representing the horizontal value from which to start drawing data from the source image sourceY NUMBER representing the vertical value from which to start drawing data from the source image sourceW NUMBER representing the width value from which to draw data from the source image sourceH NUMBER representing the height value from which to draw data from the source image The following *ONLY* apply to CanvasText instances:: fontFamily STRING representing the font name fontSize NUMBER or STRING (12, '12', '12px', or '12pt') representing the font size lineHeight NUMBER which determines the line height between lines of text with defined maxWidth values marginLeft NUMBER representing the X offset of the text marginTop NUMBER representing the Y offset of the text maxWidth NUMBER which determines the maximum width of the text field, which is used to create MUTLI-LINE text alignText STRING or Align constant defining text's horizontal alingment: 'center', 'left', or 'right'. Can also use Align.CENTER, Align.LEFT, or Align.RIGHT. The following *ONLY* apply to CanvasImages, CanvasCircles, and CanvasRects instances:: width NUMBER representing the total width or diameter of the element height NUMBER representing the total height or diameter of the element The following *ONLY* apply to CanvasCircles, CanvasRects, and CanvasText instances (heretofore referred to as 'shapes'):: fill STRING, gradient, or texture representing the color used to fill the shape strokeFill STRING, gradient, or texture representing the color used to fill the shape's stroke strokeWidth NUMBER representing the width of the shape's outline strokeJoin STRING representing how two lines/corners form: 'round', 'bevel', and 'miter' strokePosition STRING repsenting the position of the shape's stroke, 'outer' or 'center'; there is no 'inner' strokeDashSize NUMBER representing the length of each segment in a dashed line strokeDashGap NUMBER representing the gap between each segment in a dashed line strokeDashOffset NUMBER representing the offset positioning of the dash segments Source: ad-canvas/lib/CanvasElement.js, line 1 × Search results Close "},"CanvasImage.html":{"id":"CanvasImage.html","title":"Class: CanvasImage","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasImage new CanvasImage(imgObj) Import from ad-canvas // importing into an ES6 class import { CanvasImage } from 'ad-canvas' Add a canvas-image or bitmap-image source to the drawer based on a given object, and return a reference to that CanvasElement; requires ImageManager. Sample 1:: Define a source either with the image name or ImageManager.get: View.main.myCanvasDrawer = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, retina: true, debug: false }); new CanvasImage({ target: View.main.myCanvasDrawer, source: 'smoke', id: 'smoke', params: { x: 0, y: 0, width: 256, height: 256 } }); let _myImage = new CanvasImage({ target: View.main.myCanvasDrawer, source: ImageManager.get('smoke'), id: 'smoke', params: { x: 0, y: 0, width: 256, height: 256 } }); Sample 2:: Define a source with an existing canvas element by referring to the CanvasDrawer or the CanvasDrawer's HTMLCanvasElement element directly: let originalCD = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); // referring to the CanvasDrawer object let _myImage = new CanvasImage({ target: View.main.myCanvasDrawer, source: originalCD, id: 'smoke', params: { x: 0, y: 0, width: 256, height: 256 } }); // referring to the CanvasDrawer object's HTMLCanvasElement element let _myImage2 = new CanvasImage({ target: View.main.myCanvasDrawer, source: originalCD.canvas, id: 'smoke2', params: { x: 0, y: 0, width: 256, height: 256 } }); Parameters: Name Type Description imgObj object an object containing the arguments for defining / orienting the image, see Properties for more info: Properties: Name Type Description target CanvasDrawer the CanvasDrawer element in which to draw the image source canvas | CanvasDrawer | ImageId a canvas element (CanvasDrawer.canvas or CanvasDrawer, NOT the ID of the DOM object), an image ID to be used by ImageManager.get(), or ImageManager.get('id') id string an optional STRING defining the name by which the image will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a CanvasDrawer params object an OBJECT of optional parameters Properties Name Type Description sourceX number left X NUMBER from where to get the image data sourceY number top Y NUMBER from where to get the image data sourceW number NUMBER width value from where to get the image data sourceH number NUMBER height value from where to get the image data x number NUMBER X coordinate for where to draw the image data y number NUMBER Y coordinate for where to draw the image data width number NUMBER width value for how wide to draw the image height number NUMBER height value for how tall to draw the image scale number NUMBER for uniform scale of the drawing, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY. scaleX number NUMBER for X scale of the drawing, scaling from drawing center unless transformOrigin is changed scaleY number NUMBER for Y scale of the drawing, scaling from drawing center unless transformOrigin is changed rotation number NUMBER IN DEGREES for the start rotation of the given drawing transformOrigin string an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '50% 50%'. alpha number NUMBER for alpha of the drawing fitTo object OBJECT containing sizing and origin data in which the CanvasImage should fit, without distortion of the aspect ratio; will overwrite aspectRatio Properties Name Type Description width number NUMBER determining the width to fit the CanvasImage into - affects CanvasImage.width and CanvasImage.sourceW height number NUMBER determining the height to fit the CanvasImage into - affects CanvasImage.height and CanvasImage.sourceH origin object OBJECT containing orientation coordinates for the image's fitTo positioning Properties Name Type Description x number NUMBER for X coordinate around which to focus resizing and fitting of the image horizontally y number NUMBER for Y coordinate around which to focus resizing and fitting of the image vertically debug number BOOLEAN determining whether or not a circle is drawn representing the origin / transformOrigin of a fitTo aspectRatio boolean BOOLEAN determining if the image should conform to its natural aspect ratio if only width or height - NOT BOTH - params are provided. Defaults to false dropShadow number an optional OBJECT defining properties of the image's drop shadow Properties Name Type Description angle number NUMBER IN DEGREES for the angle to position the shadow distance number NUMBER for how far away from the image the shadow is blur number NUMBER for how blurry the shadow is color string | object optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' alpha number NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color blendMode string | CanvasBlendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over'. Will not work on SVG image sources in Firefox. visible boolean an optional BOOLEAN that, when set to false, will not render the element. Defaults to true Source: ad-canvas/lib/CanvasImage.js, line 1 Members &lt;static, constant&gt; id :string READ-ONLY: STRING representing the id of the element Type: string Source: ad-canvas/lib/CanvasImage.js, line 169 × Search results Close "},"CanvasLineTo.html":{"id":"CanvasLineTo.html","title":"Class: CanvasLineTo","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasLineTo new CanvasLineTo() Import from ad-canvas // importing into an ES6 class import { CanvasLineTo } from 'ad-canvas' Custom constants to identify the functions used for drawing shapes based on lines and curves. Source: ad-canvas/lib/CanvasLineTo.js, line 1 Members &lt;static, constant&gt; ARC :string Represents 'arcTo'. Type: string Source: ad-canvas/lib/CanvasLineTo.js, line 51 Example CanvasLineTo.ARC &lt;static, constant&gt; BEZIER :string Represents 'bezierCurveTo'. Type: string Source: ad-canvas/lib/CanvasLineTo.js, line 42 Example CanvasLineTo.BEZIER &lt;static, constant&gt; LINE :string Represents 'lineTo'. Type: string Source: ad-canvas/lib/CanvasLineTo.js, line 24 Example CanvasLineTo.LINE &lt;static, constant&gt; MOVE :string Represents 'moveTo' Type: string Source: ad-canvas/lib/CanvasLineTo.js, line 15 Example CanvasLineTo.MOVE &lt;static, constant&gt; QUAD :string Represents 'quadraticCurveTo'. Type: string Source: ad-canvas/lib/CanvasLineTo.js, line 33 Example CanvasLineTo.QUAD × Search results Close "},"CanvasPath.html":{"id":"CanvasPath.html","title":"Class: CanvasPath","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasPath new CanvasPath(pathObj) Import from ad-canvas // importing into an ES6 class import { CanvasPath } from 'ad-canvas' Add a path shape to a CanvasDrawer based on a given object containing lines and coordinate data, and return a reference to that shape NOTE:: width and height properties do NOT affect CanvasPaths - use scaleX and scaleY to manipulate the size of these objects. POINT FORMATS:: CanvasLineTo.MOVE (or 'moveTo') requires ONE x-y value - points: [x1, y1] CanvasLineTo.LINE (or 'lineTo') requires ONE x-y value - points: [x1, y1] CanvasLineTo.ARC (or 'arcTo') requires TWO x-y values and ONE radius of the arc value - points: [x1, y1, x2, y2, radius] CanvasLineTo.QUAD (or 'quadraticCurveTo') requires TWO x-y values - points: [x1, y1, x2, y2] CanvasLineTo.BEZIER (or 'bezierCurveTo') requires THREE x-y values - points: [x1, y1, x2, y2, x3, y3] EXAMPLES:: Adding a shape defined by lines with a screen blend, red fill, 10px black stroke var _myShape = new CanvasPath({ target: View.main.myCanvasDrawer, id: 'myLines', params: { x: 100, y: 100, }, points: [ { fun: CanvasLineTo.MOVE, points: [.5, -3.5] }, { fun: CanvasLineTo.BEZIER, points: [-3.5, -2.8, -3, .2, -2.5, .2] }, { fun: CanvasLineTo.QUAD, points: [2, -3, .5, -3.5] } ], blendMode: 'screen', fill: 'red', stroke: { fill: 'black', width: 10, cap: 'round' } }); Parameters: Name Type Description pathObj object an object containing the arguments for defining / orienting the circle, see Properties for more info: Properties: Name Type Description target CanvasDrawer the CanvasDrawer element in which to draw the shape id string an optional STRING defining the name by which the path will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a CanvasDrawer params object Object with the following properties: Properties Name Type Description x number NUMBER X coordinate for the shape's center point y number NUMBER Y coordinate for shape's center point scale number NUMBER for uniform scale of the drawing, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY scaleX number NUMBER for X scale of the drawing, scaling from drawing center unless transformOrigin is changed scaleY number NUMBER for Y scale of the drawing, scaling from drawing center unless transformOrigin is changed rotation number NUMBER IN DEGREES for the start rotation of the given drawing transformOrigin string an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '50% 50%'. alpha number NUMBER for alpha of the drawing points array ARRAY OF OBJECTS to define the point placement and draw type of the path. Each Point object has following signature: Properties Name Type Description point.fun function a reference to the CanvasLineTo function to use point.points array Array contains whatever points the line function requires dropShadow object an optional OBJECT defining properties of the shape's drop shadow Properties Name Type Description angle number NUMBER IN DEGREES for the angle to position the shadow distance number NUMBER for how far away from the image the shadow is blur number NUMBER for how blurry the shadow is color string | object optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' alpha number NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color blendMode string | CanvasBlendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over' fill string an optional STRING or gradiant variable defining the color fill of the shape. Defaults to none / invisible stroke object an optional OBJECT defining properties of the shape's stroke. Object has the following properties: Properties Name Type Description fill string an optional STRING or gradiant variable defining the color fill of the shape stroke. Defaults to none / invisible width number an optional NUMBER value determining stroke width. Defaults to 0 position string an optional STRING determining if the stroke will be 'outer' or 'center'. Defaults to 'outer', there is no 'inner' cap string an optional STRING value determining a line's cap style: 'butt', 'round', and 'square'. Defaults to 'butt' join string an optional STRING value determining how two lines/corners connect: 'round', 'bevel', and 'miter'. Defaults to 'miter' dashSize number an optional NUMBER value determining the length of each segment in a dashed line dashGap number an optional NUMBER value determining the gap between each segment in a dashed line. Defaults to 0, unless dashSize is defined, then defaults to dashSize dashOffset number an optional NUMBER value which offsets the positioning of the dash segments. A positive number moves them counter-clockwise. Defaults to 0 closePath boolean an optional BOOLEAN which, on instantiation, determines if the path should be closed or not. Defaults to true; set to false if you don't want the first and last points connecting. drawScale number an optional NUMBER which does a one-time recalculation of the given points to a new scale. Usefull for changing a shape's size without a transform scale or recalculating points beforehand visible boolean an optional BOOLEAN that, when set to false, will not render the element. Defaults to true. Source: ad-canvas/lib/CanvasPath.js, line 1 Members &lt;static&gt; alpha :number NUMBER representing the opacity of the element, Type: number Source: ad-canvas/lib/CanvasPath.js, line 177 &lt;static&gt; blendMode :number NUMBER representing the blend or masking style applied to the element, Type: number Source: ad-canvas/lib/CanvasPath.js, line 201 &lt;static&gt; fill :string STRING, gradient, or texture representing the color used to fill the shape, Type: string Source: ad-canvas/lib/CanvasPath.js, line 232 &lt;static, constant&gt; height :number READ-ONLY: NUMBER representing the approximate height of the text, Type: number Source: ad-canvas/lib/CanvasPath.js, line 165 &lt;static, constant&gt; id :string READ-ONLY: STRING representing the id of the element Type: string Source: ad-canvas/lib/CanvasPath.js, line 141 &lt;static&gt; rotation :number NUMBER representing the rotation, in degrees, of the element, Type: number Source: ad-canvas/lib/CanvasPath.js, line 171 &lt;static&gt; scale :number NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY, Type: number Source: ad-canvas/lib/CanvasPath.js, line 183 &lt;static&gt; scaleX :number NUMBER representing the horizontal scale of the element, Type: number Source: ad-canvas/lib/CanvasPath.js, line 189 &lt;static&gt; scaleY :number NUMBER representing the vertical scale of the element, Type: number Source: ad-canvas/lib/CanvasPath.js, line 195 &lt;static&gt; shadowAngle :number NUMBER representing the angle, in degrees, of the drop shadow, Type: number Source: ad-canvas/lib/CanvasPath.js, line 298 &lt;static&gt; shadowBlur :number NUMBER representing the amount of blur on the drop shadow, Type: number Source: ad-canvas/lib/CanvasPath.js, line 292 &lt;static&gt; shadowColor :string STRING representing the color of the drop shadow in RGBA format, Type: string Source: ad-canvas/lib/CanvasPath.js, line 286 &lt;static&gt; shadowDistance :number NUMBER representing the distance of the drop shadow from the element, Type: number Source: ad-canvas/lib/CanvasPath.js, line 304 &lt;static&gt; strokeCap :string STRING representing how the two ends of a line form: 'butt', 'round', and 'square', Type: string Source: ad-canvas/lib/CanvasPath.js, line 250 &lt;static&gt; strokeDashGap :number NUMBER representing the gap between each segment in a dashed line, Type: number Source: ad-canvas/lib/CanvasPath.js, line 274 &lt;static&gt; strokeDashOffset :number NUMBER representing the offset positioning of the dash segments, Type: number Source: ad-canvas/lib/CanvasPath.js, line 280 &lt;static&gt; strokeDashSize :number NUMBER representing the length of each segment in a dashed line, Type: number Source: ad-canvas/lib/CanvasPath.js, line 268 &lt;static&gt; strokeFill :string STRING, gradient, or texture representing the color used to fill the shape's stroke, Type: string Source: ad-canvas/lib/CanvasPath.js, line 238 &lt;static&gt; strokeJoin :string STRING representing how two lines/corners form: 'round', 'bevel', and 'miter', Type: string Source: ad-canvas/lib/CanvasPath.js, line 256 &lt;static&gt; strokePosition :string STRING repsenting the position of the shape's stroke, 'outer' or 'center'; there is no 'inner', Type: string Source: ad-canvas/lib/CanvasPath.js, line 262 &lt;static&gt; strokeWidth :number NUMBER representing the width of the shape's outline, Type: number Source: ad-canvas/lib/CanvasPath.js, line 244 &lt;static&gt; transformOrigin :string STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). NOTE:: '50% 50%' is centered, based on percentage. '50px 50px' is 50 px away from '0% 0%' vertically and horizontally. '50 50' is the same as '50px 50px'. Values can be mixed: '50% 10px', for instance. Type: string Source: ad-canvas/lib/CanvasPath.js, line 213 Example View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; &lt;static&gt; visible :boolean BOOLEAN representing whether or not the element should be drawn, Type: boolean Source: ad-canvas/lib/CanvasPath.js, line 207 &lt;static, constant&gt; width :number READ-ONLY: NUMBER representing the approximate width of the text, Type: number Source: ad-canvas/lib/CanvasPath.js, line 159 &lt;static&gt; x :number NUMBER representing the horizontal position of the element, Type: number Source: ad-canvas/lib/CanvasPath.js, line 147 &lt;static&gt; y :number NUMBER representing the vertical position of the element, Type: number Source: ad-canvas/lib/CanvasPath.js, line 153 × Search results Close "},"CanvasRect.html":{"id":"CanvasRect.html","title":"Class: CanvasRect","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasRect new CanvasRect(rectObj) Import from ad-canvas // importing into an ES6 class import { CanvasRect } from 'ad-canvas' Add a rectangle shape to a CanvasDrawer based on a given object, and return a reference to that shape. EXAMPLE:: Adding a rectangle with an overlay blend, blue fill, 5px yellow stroke var _myShape = new CanvasRect({ target: View.main.myCanvasDrawer, id: 'myRect', params: { x: 20, y: 20, width: 100, height: 100 }, blendMode: 'overlay', fill: 'blue', stroke: { fill: 'yellow', width: 5 } }); Parameters: Name Type Description rectObj object an object containing the arguments for defining / orienting the rectangle, see Properties for more info: Properties: Name Type Description target CanvasDrawer the CanvasDrawer element in which to draw the rectangle id string an optional STRING defining the name by which the rectangle will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a CanvasDrawer. params object an object with the following properties: Properties Name Type Description x number NUMBER X coordinate for where to draw the image data y number NUMBER Y coordinate for where to draw the image data width number NUMBER for the width of the rectangle. Default to height value height number NUMBER for the height of the rectangle. Defaults to width value scale number NUMBER for uniform scale of the drawing, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY scaleX number NUMBER for X scale of the drawing, scaling from drawing center unless transformOrigin is changed scaleY number NUMBER for Y scale of the drawing, scaling from drawing center unless transformOrigin is changed rotation number NUMBER IN DEGREES for the start rotation of the given drawing transformOrigin string an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '50% 50%'. alpha number NUMBER for alpha of the drawing dropShadow object an optional OBJECT defining properties of the rectangle's drop shadow Properties Name Type Description angle number NUMBER IN DEGREES for the angle to position the shadow distance number NUMBER for how far away from the rectangle the shadow is blur number NUMBER for how blurry the shadow is color string | object optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' alpha number NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color blendMode string | CanvasBlendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over' fill string | CanvasTexture an optional STRING or gradiant variable defining the color fill of the rectangle. Defaults to none / invisible stroke object an optional OBJECT defining properties of the rectangle's stroke Properties Name Type Description fill string | CanvasTexture an optional STRING or gradiant variable defining the color fill of the rectangle stroke. Defaults to none / invisible width string an optional NUMBER value determining stroke width. Defaults to 0 position string an optional STRING determining if the stroke will be 'outer' or 'center'. Defaults to 'outer', there is no 'inner' cap string an optional STRING value determining a line's cap style: 'butt', 'round', and 'square'. Defaults to 'butt' join string an optional STRING value determining how two lines/corners connect: 'round', 'bevel', and 'miter'. Defaults to 'miter' dashSize number an optional NUMBER value determining the length of each segment in a dashed line dashGap number an optional NUMBER value determining the gap between each segment in a dashed line. Defaults to 0, unless dashSize is defined, then defaults to dashSize dashOffset number an optional NUMBER value which offsets the positioning of the dash segments. A positive number moves them counter-clockwise. Defaults to 0 visible boolean an optional BOOLEAN that, when set to false, will not render the element. Defaults to true Source: ad-canvas/lib/CanvasRect.js, line 1 Members &lt;static&gt; alpha :number NUMBER representing the opacity of the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 158 &lt;static&gt; blendMode :number NUMBER representing the blend or masking style applied to the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 188 &lt;static&gt; fill :string STRING, gradient, or texture representing the color used to fill the shape, Type: string Source: ad-canvas/lib/CanvasRect.js, line 221 &lt;static&gt; height :number NUMBER representing the total height of the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 146 &lt;static, constant&gt; id :string READ-ONLY: STRING representing the id of the element Type: string Source: ad-canvas/lib/CanvasRect.js, line 110 &lt;static&gt; left :number NUMBER representing a reference to the x property, Type: number Source: ad-canvas/lib/CanvasRect.js, line 122 &lt;static&gt; opacity :number NUMBER representing a reference to the alpha property, Type: number Source: ad-canvas/lib/CanvasRect.js, line 164 &lt;static&gt; rotation :number NUMBER representing the rotation, in degrees, of the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 152 &lt;static&gt; scale :number NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY, Type: number Source: ad-canvas/lib/CanvasRect.js, line 170 &lt;static&gt; scaleX :number NUMBER representing the horizontal scale of the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 176 &lt;static&gt; scaleY :number NUMBER representing the vertical scale of the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 182 &lt;static&gt; shadowAngle :number NUMBER representing the angle, in degrees, of the drop shadow, Type: number Source: ad-canvas/lib/CanvasRect.js, line 287 &lt;static&gt; shadowBlur :number NUMBER representing the amount of blur on the drop shadow, Type: number Source: ad-canvas/lib/CanvasRect.js, line 281 &lt;static&gt; shadowColor :string STRING representing the color of the drop shadow in RGBA format, Type: string Source: ad-canvas/lib/CanvasRect.js, line 275 &lt;static&gt; shadowDistance :number NUMBER representing the distance of the drop shadow from the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 293 &lt;static&gt; strokeCap :string STRING representing how the two ends of a line form: 'butt', 'round', and 'square', Type: string Source: ad-canvas/lib/CanvasRect.js, line 239 &lt;static&gt; strokeDashGap :number NUMBER representing the gap between each segment in a dashed line, Type: number Source: ad-canvas/lib/CanvasRect.js, line 263 &lt;static&gt; strokeDashOffset :number NUMBER representing the offset positioning of the dash segments, Type: number Source: ad-canvas/lib/CanvasRect.js, line 269 &lt;static&gt; strokeDashSize :number NUMBER representing the length of each segment in a dashed line, Type: number Source: ad-canvas/lib/CanvasRect.js, line 257 &lt;static&gt; strokeFill :string STRING, gradient, or texture representing the color used to fill the shape's stroke, Type: string Source: ad-canvas/lib/CanvasRect.js, line 227 &lt;static&gt; strokeJoin :string STRING representing how two lines/corners form: 'round', 'bevel', and 'miter', Type: string Source: ad-canvas/lib/CanvasRect.js, line 245 &lt;static&gt; strokePosition :string STRING repsenting the position of the shape's stroke, 'outer' or 'center'; there is no 'inner', Type: string Source: ad-canvas/lib/CanvasRect.js, line 251 &lt;static&gt; strokeWidth :number NUMBER representing the width of the shape's outline, Type: number Source: ad-canvas/lib/CanvasRect.js, line 233 &lt;static&gt; top :number NUMBER representing a reference to the y property, Type: number Source: ad-canvas/lib/CanvasRect.js, line 134 &lt;static&gt; transformOrigin :string STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). NOTE:: 50% 50% is centered, based on percentage. 50px 50px is 50 px away from 0% 0% vertically and horizontally. 50 50 is the same as 50px 50px. Values can be mixed: 50% 10px, for instance. EXAMPLES:: View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; Type: string Source: ad-canvas/lib/CanvasRect.js, line 200 &lt;static&gt; visible :number BOOLEAN representing whether or not the element should be drawn, Type: number Source: ad-canvas/lib/CanvasRect.js, line 194 &lt;static&gt; width :number NUMBER representing the total width of the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 140 &lt;static&gt; x :number NUMBER representing the horizontal position of the element Type: number Source: ad-canvas/lib/CanvasRect.js, line 116 &lt;static&gt; y :number NUMBER representing the vertical position of the element, Type: number Source: ad-canvas/lib/CanvasRect.js, line 128 × Search results Close "},"CanvasShape.html":{"id":"CanvasShape.html","title":"Class: CanvasShape","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasShape new CanvasShape() Import from ad-canvas // importing into an ES6 class import { CanvasShape } from 'ad-canvas' Is the returned instance of a CanvasShape, which makes up all CanvasCircles, CanvasRects, and CanvasPaths. Never called directly by a user. Source: ad-canvas/lib/CanvasShape.js, line 1 × Search results Close "},"CanvasSprite.html":{"id":"CanvasSprite.html","title":"Class: CanvasSprite","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasSprite new CanvasSprite() Import from ad-canvas // importing into an ES6 class import { CanvasSprite } from 'ad-canvas' Uses a CanvasDrawer's CanvasImage to create an animated sprite using JSON data for positioning and sizing. NOTE:: This class is a work in progress and was built specifically for game dev Source: ad-canvas/lib/CanvasSprite.js, line 1 Example var _mySprite = new CanvasSprite({ element: _myCanvasDrawer.elements.character, data: AnimationJSON.character, sequences: { run: [0, 4], jump: [5, 10], fall: [11, 16], }, scale: _scale, id: 'character', offsetX: 10, offsetY: 2, }); _mySprite.sequence = 'fall'; _mySprite.nextFrame(); Members &lt;inner&gt; _sequenceName ----------------------------------------------------------------------------------------------- Source: ad-canvas/lib/CanvasSprite.js, line 64 Methods &lt;inner&gt; updateAtlas() ----------------------------------------------------------------------------------------------- Source: ad-canvas/lib/CanvasSprite.js, line 129 × Search results Close "},"CanvasText.html":{"id":"CanvasText.html","title":"Class: CanvasText","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasText new CanvasText(textObj) Import from ad-canvas // importing into an ES6 class import { CanvasText } from 'ad-canvas' Add a text field to the drawer based on a given object, and return a reference to that text NOTE transformOrigin is based on the text alignment. '0% 0%' for text aligned right will be at that text's TOP-RIGHT, '100% 0%' would be its TOP-LEFT. Centered and left-aligned text's '0% 0%' is its TOP-LEFT. EXAMPLE Adding a red text field with a yellow 4px outer stroke and an overlay blend mode. var _myText = new CanvasText({ target: View.main.myCanvasDrawer, id: 'textItem', text: 'Watch the Trailer', css: { x: 0, y: 0, fontSize: 40, fontFamily: 'FuturaBold', alignText: Align.LEFT, offsetX: -5, offsetY: 5, maxWidth: 50, lineHeight: 100 }, fill: 'red', stroke: { fill: 'yellow', position: 'outer', width: 4 }, blendMode: CanvasBlendMode.OVERLAY }); Parameters: Name Type Description textObj object an object containing the arguments for defining / orienting the text, see Properties for more info: Properties: Name Type Description target CanvasDrawer the CanvasDrawer element in which to draw the text id string an optional STRING defining the name by which the text will be referenced. Defaults to 'canvasdItemX' where X = the number of elements in a CanvasDrawer text string the string of text for the canvas textfield. Supports line breaks &lt;br&gt; css object standard css object, see properties: Properties Name Type Description x number NUMBER X coordinate for where to draw the image data y number NUMBER Y coordinate for where to draw the image data fontSize number | string NUMBER or STRING (12, '12', '12px', or '12pt') representing the font size fontFamily string STRING defining the font name alignText string | Align STRING or Align constant defining text's horizontal alingment: 'center', 'left', or 'right'. Can also use Align.CENTER, Align.LEFT, or Align.RIGHT. scale number NUMBER for uniform scale of the text, scaling from drawing center unless transformOrigin is changed. Will compound with but not change values of scaleX or scaleY scaleX number NUMBER for X scale of the text, scaling from drawing center unless transformOrigin is changed scaleY number NUMBER for Y scale of the text, scaling from drawing center unless transformOrigin is changed rotation number NUMBER IN DEGREES for the start rotation of the text transformOrigin string an optional STRING defining an element's origin for scale and rotation, written as two values in a string with either a '%' or 'px' marker. Defaults to '0% 0%' alpha number NUMBER for alpha of the drawing dropShadow object an optional OBJECT defining properties of the text's drop shadow, see following properties: Properties Name Type Description angle number NUMBER IN DEGREES for the angle to position the shadow distance number NUMBER for how far away from the text the shadow is blur number NUMBER for how blurry the shadow is color string | object optional color of shadow as either a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to '#000000' alpha number NUMBER for the alpha of the shadow. Defaults to 1, overrides the alpha of an RGBA color offsetX number NUMBER representing the X offset of the text offsetY number NUMBER representing the Y offset of the text maxWidth number NUMBER which determines the maximum width of the text field, which is used to create MUTLI-LINE text lineHeight number NUMBER which determines the line height between lines of text with defined maxWidth values blendMode string | CanvasBlendMode an optional STRING for the globalCompositeOperation - controls overlays, screens, multiply, masking, etc. Defaults to 'source-over' fill string | CanvasTexture an optional STRING or gradiant variable defining the color fill of the text. Defaults to none / invisible. stroke object an optional OBJECT defining properties of the shape's stroke Properties Name Type Description fill string | CanvasTexture an optional STRING or gradiant variable defining the color fill of the shape stroke. Defaults to none / invisible width number an optional NUMBER value determining stroke width. Defaults to 0 position string an optional STRING determining if the stroke will be 'outer' or 'center'. Defaults to 'outer', there is no 'inner' cap string an optional STRING value determining a line's cap style: 'butt', 'round', and 'square'. Defaults to 'butt' join string an optional STRING value determining how two lines/corners connect: 'round', 'bevel', and 'miter'. Defaults to 'round' dashSize number an optional NUMBER value determining the length of each segment in a dashed line dashGap number an optional NUMBER value determining the gap between each segment in a dashed line. Defaults to 0, unless dashSize is defined, then defaults to dashSize visible boolean an optional BOOLEAN that, when set to false, will not render the element. Defaults to true Source: ad-canvas/lib/CanvasText.js, line 1 Members &lt;static&gt; alignText :string STRING or Align constant defining text's horizontal alingment: 'center', 'left', or 'right'. Can also use Align.CENTER, Align.LEFT, or Align.RIGHT, Type: string Source: ad-canvas/lib/CanvasText.js, line 304 &lt;static&gt; alpha :number NUMBER representing the opacity of the element, Type: number Source: ad-canvas/lib/CanvasText.js, line 217 &lt;static&gt; blendMode :number NUMBER representing the blend or masking style applied to the element, Type: number Source: ad-canvas/lib/CanvasText.js, line 247 &lt;static&gt; fill :string STRING, gradient, or texture representing the color used to fill the text, Type: string Source: ad-canvas/lib/CanvasText.js, line 310 &lt;static&gt; fontFamily :string STRING representing the font name, Type: string Source: ad-canvas/lib/CanvasText.js, line 280 &lt;static&gt; fontSize :number NUMBER or STRING (12, '12', '12px', or '12pt') representing the font size, Type: number Source: ad-canvas/lib/CanvasText.js, line 286 &lt;static, constant&gt; height :number READ-ONLY: NUMBER representing the approximate height of the text, Type: number Source: ad-canvas/lib/CanvasText.js, line 206 &lt;static, constant&gt; id :string READ-ONLY: STRING representing the id of the element Type: string Source: ad-canvas/lib/CanvasText.js, line 170 &lt;static&gt; left :number NUMBER representing a reference to the x property, Type: number Source: ad-canvas/lib/CanvasText.js, line 182 &lt;static&gt; lineHeight :number NUMBER which determines the line height between lines of text with defined maxWidth values, Type: number Source: ad-canvas/lib/CanvasText.js, line 292 &lt;static&gt; maxWidth :number NUMBER which determines the maximum width of the text field, which is used to create MUTLI-LINE text, Type: number Source: ad-canvas/lib/CanvasText.js, line 298 &lt;static&gt; opacity :number NUMBER representing a reference to the alpha property, Type: number Source: ad-canvas/lib/CanvasText.js, line 223 &lt;static&gt; rotation :number Type: number Source: ad-canvas/lib/CanvasText.js, line 212 &lt;static&gt; scale :number NUMBER representing the scale of the element. Will compound with but not change values of scaleX or scaleY, Type: number Source: ad-canvas/lib/CanvasText.js, line 229 &lt;static&gt; scaleX :number NUMBER representing the horizontal scale of the element, Type: number Source: ad-canvas/lib/CanvasText.js, line 235 &lt;static&gt; scaleY :number NUMBER representing the vertical scale of the element, Type: number Source: ad-canvas/lib/CanvasText.js, line 241 &lt;static&gt; shadowAngle :number NUMBER representing the angle, in degrees, of the drop shadow, Type: number Source: ad-canvas/lib/CanvasText.js, line 370 &lt;static&gt; shadowBlur :number NUMBER representing the amount of blur on the drop shadow, Type: number Source: ad-canvas/lib/CanvasText.js, line 364 &lt;static&gt; shadowColor :string STRING representing the color of the drop shadow in RGBA format, Type: string Source: ad-canvas/lib/CanvasText.js, line 358 &lt;static&gt; shadowDistance :number NUMBER representing the distance of the drop shadow from the element, Type: number Source: ad-canvas/lib/CanvasText.js, line 376 &lt;static&gt; strokeDashGap :number NUMBER representing the gap between each segment in a dashed line, Type: number Source: ad-canvas/lib/CanvasText.js, line 346 &lt;static&gt; strokeDashOffset :number NUMBER representing the offset positioning of the dash segments, Type: number Source: ad-canvas/lib/CanvasText.js, line 352 &lt;static&gt; strokeDashSize :number NUMBER representing the length of each segment in a dashed line, Type: number Source: ad-canvas/lib/CanvasText.js, line 340 &lt;static&gt; strokeFill :string STRING, gradient, or texture representing the color used to fill the text's stroke, Type: string Source: ad-canvas/lib/CanvasText.js, line 316 &lt;static&gt; strokeJoin :string STRING representing how two lines/corners form: 'round', 'bevel', and 'miter', Type: string Source: ad-canvas/lib/CanvasText.js, line 328 &lt;static&gt; strokePosition :string STRING repsenting the position of the text's stroke, 'outer' or 'center'; there is no 'inner', Type: string Source: ad-canvas/lib/CanvasText.js, line 334 &lt;static&gt; strokeWidth :number NUMBER representing the width of the text's outline, Type: number Source: ad-canvas/lib/CanvasText.js, line 322 &lt;static&gt; top :number NUMBER representing a reference to the y property, Type: number Source: ad-canvas/lib/CanvasText.js, line 194 &lt;static&gt; transformOrigin :string STRING representing the origin from which to perform scales and rotations. Written as two values in a string with either a '%' or 'px' marker (ie '50% 50%' or '5px 100px'). NOTE:: 50% 50% is centered, based on percentage. 50px 50px is 50 px away from 0% 0% vertically and horizontally. 50 50 is the same as 50px 50px. Values can be mixed: 50% 10px, for instance. EXAMPLES:: View.main.myCanvasDrawer.elements.smoke.transformOrigin = '50% 50%'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10px 100px'; View.main.myCanvasDrawer.elements.smoke.transformOrigin = '10 100'; Type: string Source: ad-canvas/lib/CanvasText.js, line 259 &lt;static&gt; visible :boolean BOOLEAN representing whether or not the element should be drawn, Type: boolean Source: ad-canvas/lib/CanvasText.js, line 253 &lt;static, constant&gt; width :number READ-ONLY: NUMBER representing the approximate width of the text, Type: number Source: ad-canvas/lib/CanvasText.js, line 200 &lt;static&gt; x :number NUMBER representing the horizontal position of the element Type: number Source: ad-canvas/lib/CanvasText.js, line 176 &lt;static&gt; y :number NUMBER representing the vertical position of the element, Type: number Source: ad-canvas/lib/CanvasText.js, line 188 × Search results Close "},"CanvasTexture.html":{"id":"CanvasTexture.html","title":"Class: CanvasTexture","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasTexture new CanvasTexture() Import from ad-canvas // importing into an ES6 class import { CanvasTexture } from 'ad-canvas' Texture generating methods for CanvasDrawer. Source: ad-canvas/lib/CanvasTexture.js, line 1 Methods &lt;static&gt; makeLinearGradient(args) Returns a linear gradient between two given points as part of thie CanvasDrawer's context element EXAMPLES adding a 100x100 rectangle at 0, 0 with a linear gradient going from coordinate 0,0 to coordinate 0,100 fading from solid black to transparent black: View.main.myCanvasDrawer = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); var gradient = CanvasTexture.makeLinearGradient({ target: View.main.myCanvasDrawer, xStart: 0, yStart: 0, xEnd: 0, yEnd: 200, colors: [ {stopVal: 0, color: 'rgb(0, 0, 0)'}, {stopVal: 1, color: 'rgba(0, 0, 0, 0)'} ] }); new CanvasRect({ target: View.main.myCanvasDrawer, id: 'myRect', params: { x: 0, y: 0, width: 100, height: 100 }, fill: gradient, }); Parameters: Name Type Description args object See properties for more info: Properties: Name Type Description target CanvasDrawer the CanvasDrawer instance in which to create the gradient x1 number X coordinate of start of gradient y1 number Y coordinate of start of gradient x2 number X coordinate of end of gradient y2 number Y coordinate of end of gradient colors array ARRAY of objects, see below for color object properites: Properties Name Type Description color.stopVal number Percentage from 0-1 inclusive for where the color is at its maximum value, color.color string 'rgb()' or 'rgba()' string of color values Source: ad-canvas/lib/CanvasTexture.js, line 17 &lt;static&gt; makePattern(args) Returns a pattern given an image source and repeat style. EXAMPLES: Adding a circle with a radius of 400 at 0, 0 with a pattern from an image named 'tileJPG' which only repeats horizontally: View.main.myCanvasDrawerPattern = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); var pattern = CanvasTexture.makePattern({ target: View.main.myCanvasDrawerPattern, source: 'tileJPG', repeat: CanvasTiling.X }); new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x: 0, y: 0, radius: 400, startAngle: 0, endAngle: 360 }, fill: pattern }); Adding a circle with a radius of 400 at 0, 0 with a pattern from an the above canvas source which repeats horizontally and vertically: View.main.myCanvasDrawerCanvasTiling = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); var pattern = CanvasTexture.makePattern({ target: View.main.myCanvasDrawer, source: View.main.myCanvasDrawerPattern.canvas, repeat: CanvasTiling.COVER }); new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x: 0, y: 0, radius: 400, startAngle: 0, endAngle: 360 }, fill: pattern }); Parameters: Name Type Description args object See properties for more info: Properties: Name Type Description target CanvasDrawer the CanvasDrawer instance in which to create the gradient img canvas | CanvasDrawerInstance | ImageId A canvas element (CanvasDrawerInstance.canvas or CanvasDrawerInstance, NOT the ID of the DOM object), an image ID to be used by ImageManager.get(), or ImageManager.get('id') repeat string STRING determining repeat style, see CanvasTiling. Source: ad-canvas/lib/CanvasTexture.js, line 160 &lt;static&gt; makeRadialGradient(args) Returns a radial gradient between two given points as part of thie CanvasDrawer's context element. EXAMPLES adding a circle with a radius of 400 at 0, 0 with a radial gradient starting from a radius of 50 to a radius of 200 and fading from solid red to transparent green: : View.main.myCanvasDrawer = new CanvasDrawer({ id: 'myCanvasDrawer', target: View.main, css: { x: 0, y: 0, width: 300, height: 250 }, debug: false }); var gradient = CanvasTexture.makeRadialGradient({ target: View.main.myCanvasDrawer, xInner: 0, yInner: 0, radiusInner: 50, xOuter: 0, yOuter: 0, radiusOuter: 200, colors: [ {stopVal: 0, color: 'rgb(255, 0, 0)'}, {stopVal: 1, color: 'rgba(0, 255, 0, 0)'} ] }); new CanvasCircle({ target: View.main.myCanvasDrawer, id: 'myCircle', params: { x:0, y:0, radius: 400, startAngle: 0, endAngle: 360 }, fill: gradient }); Parameters: Name Type Description args object See properties for more info: Properties: Name Type Description target CanvasDrawer the CanvasDrawer instance in which to create the gradient x1 number X coordinate of start of gradient y1 number Y coordinate of start of gradient rad1 number Radius of start color of gradient x2 number X coordinate of end of gradient y2 number Y coordinate of end of gradient rad2 number Radius of end color of gradient colors array ARRAY of objects, see below for color object properites: Properties Name Type Description color.stopVal number Percentage from 0-1 inclusive for where the color is at its maximum value, color.color string 'rgb()' or 'rgba()' string of color values Source: ad-canvas/lib/CanvasTexture.js, line 85 × Search results Close "},"CanvasTiling.html":{"id":"CanvasTiling.html","title":"Class: CanvasTiling","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasTiling new CanvasTiling() Import from ad-canvas // importing into an ES6 class import { CanvasTiling } from 'ad-canvas' Custom constants to identify how patterns will repeat. Source: ad-canvas/lib/CanvasTiling.js, line 1 Members &lt;static, constant&gt; NONE :string Represents 'no-repeat'. Used for fillStyle patterns with no repetition. Type: string Source: ad-canvas/lib/CanvasTiling.js, line 41 Example CanvasTiling.NONE &lt;static, constant&gt; X :string Represents 'repeat-x'. Used for fillStyle patterns with only horizontal repetiion (infinite columns, 1 rows). Type: string Source: ad-canvas/lib/CanvasTiling.js, line 14 Example CanvasTiling.X &lt;static, constant&gt; XY :string Represents 'repeat'. Used for patterns which repeat infinitely vertically and horizontally. Type: string Source: ad-canvas/lib/CanvasTiling.js, line 32 Example CanvasTiling.XY &lt;static, constant&gt; Y :string Represents 'repeat-y'. Used for fillStyle patterns with only vertical repetiion (1 column, infinite rows). Type: string Source: ad-canvas/lib/CanvasTiling.js, line 23 Example CanvasTiling.Y × Search results Close "},"CanvasTweener.html":{"id":"CanvasTweener.html","title":"Class: CanvasTweener","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasTweener new CanvasTweener() Import from ad-canvas // importing into an ES6 class import { CanvasTweener } from 'ad-canvas' Tween engine for CanvasDrawer Source: ad-canvas/lib/CanvasTweener.js, line 1 Members &lt;static&gt; tween :object Object containing functions to create a paused TweenLite animation which will re-draw this CanvasDrawer on tween.start(). These animation functions have the same parameters and formatting as Greensock tweens: tween.to() tween.from() tween.fromTo() tween.set() See greensock docs: http://greensock.com/docs/#/HTML5/GSAP/TweenLite/ PREFERRED METHOD First example uses CanvasTwener to execute the tweens: // referring to an object to tween directly through the elements object View.main.myCanvasDrawer.tween.to(View.main.myCanvasDrawer.elements.circle, 1, {x: 100 }); // referring to an object to tween by its ID, which is a string View.main.myCanvasDrawer.tween.from('arc', 1, { x: 100 }); View.main.myCanvasDrawer.tween.start(); DISCOURAGED METHOD TweenLite.to('circle', 3, {x: 100, onUpdate: View.main.myCanvasDrawer.update.bind(View.main.myCanvasDrawer)}); TweenLite.to('arc', 3, {x: 100, onUpdate: View.main.myCanvasDrawer.update.bind(View.main.myCanvasDrawer)}); THE REASON WHY: Notice how directly calling TweenLite requires an onUpdate function for each tween? Doing so calls CanvasDrawer.update() simultaneously from two sources (one per tween; in this case, two in total), increasing the work done to clear and re-draw the canvas Using TweenLite.to() instead of CanvasDrawer.tween.to() might make sense for single tweens, but not multiple starting at the same time. Type: object Properties: Name Type Description to function from function fromTo function set function start function CanvasTweener.start kill function CanvasTweener.kill Source: ad-canvas/lib/CanvasTweener.js, line 32 Methods &lt;static&gt; init(target) Apply tweening capabilities to a given CanvasDrawer Parameters: Name Type Description target CanvasElement | CanvasDrawer either a CanvasElement or a CanvasDrawer to which to apply and enable tweening Source: ad-canvas/lib/CanvasTweener.js, line 16 Example // directly to a CanvasDrawer CanvasTweener.init(_myCanvasDrawer); // using an element, for some reason CanvasTweener.init(_myCanvasDrawer.elements.rectangle); (end) &lt;static&gt; kill() Kills all active tweens of this CanvasDrawer instance; clears CanvasDrawer._allTweens as well NOTE!!! This method is on the CanvasTweener.tween object! Source: ad-canvas/lib/CanvasTweener.js, line 113 Example // referring to an object to tween directly through the elements object View.main.myCanvasDrawer.tween.to('circle', 1, {rotation: 360, width: 100, delay: 5 }); View.main.myCanvasDrawer.tween.start(); View.main.myCanvasDrawer.tween.kill(); (end) &lt;static&gt; start(args) Starts tweening all tweens created by CanvasDrawer.tween and creates a dummy tween which runs CanvasDrawer.update so drawings will get cleared and re-drawn NOTE!!! This method is on the CanvasTweener.tween object! Parameters: Name Type Description args object An object with parameters for overall tween. See properties for more info. Properties: Name Type Description delay number a NUMBER by which to delay the entirety of a CanvasDrawer tween. Defaults to 0 timePadding number a NUMBER by which to pad the total duration of a CanvasDrawer tween. Useful if a tween appears to be completing early. Defaults to 0 onStart function a FUNCTION to run at the beginning of the CanvasDrawer tween onStartParams array an ARRAY of paramters for the onStart function onUpdate function a FUNCTION to run during the life of the CanvasDrawer tween onUpdateParams array an ARRAY of paramters for the onUpdate function onComplete number a FUNCTION to run at the conclussion of the CanvasDrawer tween onCompleteParams array an ARRAY of paramters for the onComplete function Source: ad-canvas/lib/CanvasTweener.js, line 81 Example View.main.myCanvasDrawer.tween.to(View.main.myCanvasDrawer.elements.circle, 1, {rotation: 360, width: 100, delay: 5 }); View.main.myCanvasDrawer.tween.to(View.main.myCanvasDrawer.elements.arc, 1, {rotation: 360, width: 100, delay: 5 }); View.main.myCanvasDrawer.tween.start( { delay: 2, timePadding: 0.02, onUpdate: trace, onUpdateParams:['look at this tween go!'] } ); × Search results Close "},"CanvasUtils.html":{"id":"CanvasUtils.html","title":"Class: CanvasUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-canvas CanvasUtils new CanvasUtils() Import from ad-canvas // importing into an ES6 class import { CanvasUtils } from 'ad-canvas' Utilities for Canvas DOM elements Source: ad-canvas/lib/CanvasUtils.js, line 1 Methods &lt;static&gt; getImageData(source) Gets the image data associated with a canvas Parameters: Name Type Description source canvas | UICanvas | CanvasDrawer a CANVAS DOM element or CanvasDrawer from whcih to get image data Source: ad-canvas/lib/CanvasUtils.js, line 16 Example CanvasUtils.getImageData(_myCanvas); &lt;static&gt; setImageData(target, data) Applies image data to a canvas. Parameters: Name Type Description target canvas | UICanvas | CanvasDrawer a CANVAS DOM element or CanvasDrawer to apply image data data array the image data to apply to the canvas Source: ad-canvas/lib/CanvasUtils.js, line 35 Example var _imageData = CanvasUtils.getImageData(_sourceCanvas); CanvasUtils.setImageData(_targetCanvas, _imageData); × Search results Close "},"Clamp.html":{"id":"Clamp.html","title":"Class: Clamp","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-view Clamp new Clamp() Import from ad-view // importing into an ES6 class import { Clamp } from 'ad-view' Utility for resizing a DOM element to the size of all its content, sort of like shrink wrapping. This will clamp the bounds and potentially move the x and y so that visually the content stays where it is. There is the option to clamp both horizontally and vertically, or you can just do one. Additionally there is a optional object to add some buffer space on any of the sides. Source: ad-view/lib/Clamp.js, line 1 Example // clamp both directions Clamp.set( View.main.myDiv, Clamp.XY ); // clamp both directions while adding some buffer padding on each side Clamp.set( View.main.myDiv, Clamp.XY, { top : 5, left : 10, bottom : 5, right : 10 }); // clamp only horizontally and add a buffer padding on the left Clamp.set( View.main.myDiv, Clamp.X, { left : 10 }); Members &lt;static, constant&gt; X :string Synonymous with &quot;clampX&quot; - clamp on the horizontal direction only Type: string Source: ad-view/lib/Clamp.js, line 43 &lt;static, constant&gt; XY :string Synonymous with &quot;clampXY&quot; - clamp on all sides Type: string Source: ad-view/lib/Clamp.js, line 57 &lt;static, constant&gt; Y :string Synonymous with &quot;clampY&quot; - clamp on the vertical direction only Type: string Source: ad-view/lib/Clamp.js, line 50 Methods &lt;static&gt; set(source, type, buffer) Resizes and moves the source element horizontally and/or vertically, relative to all its children. Parameters: Name Type Description source element The DOM element to resize and move. type string A String/Constant representing what directions to clamp on. buffer object (optional) An Object that has the values to add buffer padding to each side. See properties for more info: Properties: Name Type Description buffer.left number Amount of left padding buffer.right number Amount of right padding buffer.top number Amount of top padding buffer.bottom number Amount of bottom padding Source: ad-view/lib/Clamp.js, line 67 × Search results Close "},"ColorUtils.html":{"id":"ColorUtils.html","title":"Class: ColorUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils ColorUtils new ColorUtils() Import from ad-utils // importing into an ES6 class import { ColorUtils } from 'ad-utils' This class contains methods for manipulating color. Source: ad-utils/lib/ColorUtils.js, line 1 Methods &lt;static&gt; contrast(obj) Change the contrast of the target; returns either an 'rgba()' string or an rgba{} object Parameters: Name Type Description obj object an object with paramaters for overall saturation, see Properties for more info Properties: Name Type Description from string | object the source color to begin with, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}., color string | object synonymous with the from parameter amount number the contrast of the target. 0 = no contrast, 1 = original contrast, &gt;1 = more and more, to infinity and beyond! format string | object either 'object' or 'string' - which determines whether to return an 'rgba()' string or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. Source: ad-utils/lib/ColorUtils.js, line 140 Example // get your whites whiter and brights brighter ColorUtils.contrast({ from: '#aa0011' amount: 1.3, format: 'object' }); // returns {r: 221, g: 0, b: 22, a: 1} &lt;static&gt; invert(obj) Invert the color; returns either an 'rgba()' string or an rgba{} object Parameters: Name Type Description obj object an object with parameters for overall inversion, see Properties for more info Properties: Name Type Description from string | object the color to invert, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. color string | object synonymous with the from parameter format string either 'object' or 'string' - which determines whether to return an 'rgba()' string or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. Source: ad-utils/lib/ColorUtils.js, line 278 Example // invert and return result as object ColorUtils.invert({ color: '#ff0000', format: 'object' }); // returns {r: 0, g: 255, b: 255, a: 1 }; // invert and return result as string ColorUtils.invert({ color: '#ff0000' }); // returns 'rgba(0, 255, 255, 1)' &lt;static&gt; saturation(obj) Change the color saturation of a given color; returns either an 'rgba()' string or an rgba{} object Parameters: Name Type Description obj object an object with paramaters for overall saturation, see Properties for more info Properties: Name Type Description from string | object the source color to saturate, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. color string | object synonymous with the from parameter amount number the total saturation of the from. 0 = grayscale, 1 = full, original color format string either 'object' or 'string' - which determines whether to return an 'rgba()' string or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. Source: ad-utils/lib/ColorUtils.js, line 91 Example // convert to full grayscale ColorUtils.saturation({ from: '#99aa33', amount: 0, format: 'object' }); // returns {r: 86, g: 86, b: 86, a: 1} &lt;static&gt; tint(obj) Tint a color uniformly to a given color; returns either an 'rgba()' string or an rgba{} object Parameters: Name Type Description obj object an object with paramaters for overall saturation, see Properties for more info Properties: Name Type Description from string | object the source color to begin with, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. color string | object synonymous with the from parameter to string | object the target color to tint to, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. amount number the percentage of color to apply to the target. Defaults to 1, which is 100% color tinting format string | object either 'object' or 'string' - which determines whether to return an 'rgba()' string, or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. Source: ad-utils/lib/ColorUtils.js, line 175 Example // tint to green ColorUtils.tint({ from: '#ffff00', to: '#00ff00', amount: 1, format: 'object' }); // returns {r: 0, g: 255, b: 0, a: 1 }; (end) (start code) // tint 50% to green ColorUtils.tint({ from: '#ffff00', to: '#00ff00', amount: 0.5 }); // returns 'rgba(128, 128, 0, 1)' &lt;static&gt; toRgba(color, alpha) Returns an object containing r, g, b, a properties Parameters: Name Type Description color string | object the color to convert, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. alpha number the optional alpha value for the return string: overrides the alpha value of an RGBA color. If undefined, will default to the alpha value of the color. Source: ad-utils/lib/ColorUtils.js, line 16 &lt;static&gt; toRgbaString(color, alpha) Returns the rgba() string representing a given color and optional alpha Parameters: Name Type Description color string | object the color to convert, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. alpha number the optional alpha value for the return string: overrides the alpha value of an RGBA color. If undefined, will default to the alpha value of the color. Source: ad-utils/lib/ColorUtils.js, line 74 &lt;static&gt; transform(obj) Color Transforms a color to another color by pulling colors out of original source; Parameters: Name Type Description obj object an object with paramaters for overall saturation, see Properties for more info Properties: Name Type Description from string | object the source color to begin with, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. color string | object synonymous with the from parameter to string | object the target color to transform to, represented as a HEX string:&quot;#ff0000&quot;, an RGB/A string: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot; ), or an RGB/A object: {r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. amount number the percentage of color to apply to the target. Defaults to 1, which is 100% color transform format string either 'object' or 'string' - which determines whether to return an 'rgba()' string or an {r:, g:, b:, a:} object. If undefined, defaults to 'string'. Source: ad-utils/lib/ColorUtils.js, line 226 Returns: either an 'rgba()' string or an rgba{} object Type string | object Example // remove all colors but greens ColorUtils.transform({ from: '#ffff00', to: '#00ff00', amount: 1, format: 'object' }); // returns {r: 0, g: 255, b: 0, a: 1 }; // remove all colors but greens ColorUtils.transform({ from: '#ffff00', to: '#00ff00', amount: 1 }); // returns 'rgba(0, 255, 0, 1)' × Search results Close "},"Core.html":{"id":"Core.html","title":"Class: Core","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-control Core new Core() Import from ad-control // importing into an ES6 class import { Core } from 'ad-control' Boilerplate logic that is attempted for all ad templates happens here. The build of an ad should not need to affect this scope. Source: ad-control/lib/Core.js, line 1 Methods &lt;static&gt; init(fbaLoader) This is the first step in the build file. The init() returns a Promise, which allows for chaining of .then() methods. For synchronous actions, such as declaring AdData or FtData, simply wrap it in an anonymous function. For asynchronous actions, such a inititalizing something with a created callback, this will need to be wrapped in a returned callback. This will ensure that the chain will wait for the previous .then() to be fulfilled before moving on. Parameters: Name Type Description fbaLoader Loader Optionally passed in Loader when compiled Source: ad-control/lib/Core.js, line 19 Example Core.init(fbaContent) .then(function() { global.adData = new AdData(); }) .then(function() { return new Promise((resolve, reject) =&gt; { // pass the resolve as the completed callback SomeCustomClass.init(resolve) }) }) .then(Core.loadDynamic) .then(Control.prepareBuild) &lt;static&gt; loadDynamic() This is the last step before preparing the build. The loadDynamic() loads all of the images that have been added to the ImageLoader. After this method is called from the .then() promise chain, Control.prepareBuild can be called as the entire prepare process is now complete when its Promise is fulfilled. Source: ad-control/lib/Core.js, line 67 Example Core.init(fbaContent) .then(function() { global.adData = new AdData(); }) .then(Core.loadDynamic) .then(Control.prepareBuild) × Search results Close "},"Countdown.html":{"id":"Countdown.html","title":"Class: Countdown","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-view Countdown new Countdown() Import from ad-view // importing into an ES6 class import { Countdown } from 'ad-view' WARN: This class has been deprecated. See the DateSchedule.getCountdown() A utility that maintains the remaining days, hours, minutes, and seconds to the target date. Source: ad-view/lib/Countdown.js, line 1 Example var countdown = new Countdown(); countdown.init( '2015-08-28 12:00:00', DateUtils.TZ_LOCAL ); var intervalId = setInterval( updateClock, 1000 ); function updateClock() { if( countdown.isComplete()) clearInterval( intervalId ); console.log( 'countdown clock: ' + TextUtils.pad( countdown.getDays(), 2 ) + ':' + TextUtils.pad( countdown.getHours(), 2 ) + ':' + TextUtils.pad( countdown.getMinutes(), 2 ) + ':' + TextUtils.pad( countdown.getSeconds(), 2 ) ); } Methods &lt;static&gt; getDays() Source: ad-view/lib/Countdown.js, line 64 Returns: The number of days left until the target-date. Type number &lt;static&gt; getHours() Source: ad-view/lib/Countdown.js, line 75 Returns: The number of hours left until the target-date. Type number &lt;static&gt; getMinutes() Source: ad-view/lib/Countdown.js, line 86 Returns: The number of minutes left until the target-date. Type number &lt;static&gt; getSeconds() Source: ad-view/lib/Countdown.js, line 97 Returns: The number of seconds left until the target-date. Type number &lt;static&gt; init(_targetDate, _tzDesignation) Starts a timer that will dispatch an update event every second counting down to the specified date Parameters: Name Type Description _targetDate Date a date in the future _tzDesignation object DateUtils constant representing a timezone Source: ad-view/lib/Countdown.js, line 38 &lt;static&gt; isComplete() Source: ad-view/lib/Countdown.js, line 55 Returns: Type boolean × Search results Close "},"CssManager.html":{"id":"CssManager.html","title":"Class: CssManager","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-control CssManager new CssManager() Import from ad-control // importing into an ES6 class import { CssManager } from 'ad-control' This is a css-interface class, which is intended to proxy all css applications. The goal is to accept css in any format( see below ), standardize the keys, conform the values, and rapidly apply the style to the target, specific to the Device running the ad. Generally, you should not need to use this class directly. Styles.setCss will handle it for you. However, if your css is not being correctly managed, the first step in debugging is to use CssManager.setDebugFilter. Pass the id, as a string, of the misbehaving element to see the exact format of the css being applied to it. You can then locate the problem style, try applying it in the browser inspector. Using this approach you should be able to determine what the correction/exception needs to be. Additional debugging output can be switched on using CssManager.setDebugLevel. Pass a level( 0 is off, 1 is less, 2 is more ). There will be a lot of output, but it is organized and consistent. You should be able to see exactly what is happening to your declarations. Types: CssObject the literal &quot;css&quot; object that is passed to Markup as containerData.css on the creation of the element CssStyleString a literal string of any number of css styles, passed to Markup as containerData.styles on the creation of the element CssDeclaration either an object like &quot;{ position: 'absolute' }&quot; or a string like &quot;background-color: #ff0000;&quot; CssKey ex: in &quot;position: absolute;&quot; the css-key would be &quot;position&quot; CssValue ex: in &quot;position: absolute;&quot; the css-value would be &quot;absolute&quot; CssList a standardized list of objects with Device-specific keys and corresponding values Formats: Hyphen ex: 'border-left', '-webkit-clip-path', '-moz-filter' Camel ex: 'borderLeft', 'webkitClipPath', 'moxFilter' Alt this is to handle arbitrary exceptions, like the &quot;bgImage&quot; key on container-data css objects Key Prefixes: Browser ex: &quot;-webkit-clip-path&quot; or &quot;webkitClipPath&quot; Standard ex: &quot;clip-path&quot; or &quot;clipPath&quot; Source: ad-control/lib/CssManager.js, line 1 × Search results Close "},"DateFormatter.html":{"id":"DateFormatter.html","title":"Class: DateFormatter","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-dates DateFormatter new DateFormatter() Import from ad-dates // importing into an ES6 class import { DateFormatter } from 'ad-dates' This class provides a collection of year, month, date labels along with a utility for mananipulating a TzDate/Date object. Source: ad-dates/lib/DateFormatter.js, line 1 Methods &lt;static&gt; addLanguage() Adds a langauge option. import { spanish } from 'ad-dates' DateFormatter.addLanguage(spanish) Properties: Name Type Description value Object A language object, such as labelSpanish.js Source: ad-dates/lib/DateFormatter.js, line 39 &lt;static&gt; format() Formats a TzDate in any possible mutation by accepting tokens and strings List of possible tokens to use: YYYY Year as full Number2018 YY Year as abbreviated Number 18 MMMM Month as full String September MMM Month as abbreviated String sept MM Month as full Number 08, 09, 10, 11 M Month as shortest Number 8, 9, 10, 11 DDDD Day of the week as full String Monday DDD Day of the week as abbreviated String mon DD Date as full Number 08, 09, 10, 11 D Date as shortest Number 8, 9, 10, 11 o Date Suffix String st, nd, rd, th Do Date AND Suffix as Number/String 1st, 2nd, 3rd, 4th TT Time (Hour:Minute) in full military time as String 19:00, 20:15 T Time (Hour:Minute) in shortest military time as String 19, 20:15 tt Time (Hour:Minute) in full standard time as String 7:00, 8:15 t Time (Hour:Minute) in shortest standard time as String 7, 8:15 HH Hour in full military time as Number 0...23 &gt; 08, 09, 10, 20, 21 H Hour in shortest military time as Number 0...23 &gt; 8, 9, 10, 20, 21 hh Hour in full standard time as Number 1...12 &gt; 08, 09, 10, 11 h Hour in shortest standard time as Number 1...12 &gt; 8, 9, 10, 11 mm Minute in full standard time as Number 0...59 &gt; 08, 09, 10, 11 m Minute in shortest standard time as Number 0...59 &gt; 8, 9, 10, 11 ss Second in full standard time as Number 0...59 &gt; 08, 09, 10, 11 s Second in shortest standard time as Number 0...59 &gt; 8, 9, 10, 11 a Meridiem as String am, pm z Timezone abbreviation as String pt, mt, ct, et ^ Special Character - add to the end of any token will run toUpperCase() the return as String ${Do} = 1st, ${Do^} = 1ST const targetDate = new TzDate({ datetime: ['2015-08-01 14:00:07', 'US/Eastern'] }) const asDateSlashed = targetDate.format('${M}/${D}/${YYYY}') // 8/1/2015 const asDayOfMonth = targetDate.format('Watch this ${DDDD} the ${Do} of ${MMMM}') // Watch this Saturday the 1st of August const asTuneIn = targetDate.format('${M}/${D} ${t}${a^}') // 8/1 2PM Properties: Name Type Description tzDate TzDate The date to format format String Pass in a mark up output of the date, including html, inline styling and spacing. In place of key data, use tokens from chart wrapped in ${} args Object Optional Object to change the outputTimezone, langouage of formatting Source: ad-dates/lib/DateFormatter.js, line 121 Returns: Type String &lt;static&gt; getLabels() Returns an objects that defines labels that date-messaging will use in the ad, used directly by DateSchedule and RecurringSchedule Properties: Name Type Description language String The language that will be used. Currently only &quot;english&quot;. Otheres such as &quot;spanish&quot; must be imported and use addLanguage(). Defaults to the value set on the class level Dateformatter.langauge Source: ad-dates/lib/DateFormatter.js, line 59 Returns: Type TzDate | Date &lt;static&gt; getNumericSuffixFor() Returns the same type of Object provided: TzDate returns TzDate, Date returns Date // adjust the time of a TzDate var myTzDate = new TzDate({ datetime: [ '2017-12-31 12:00:00', 'utc' ] }) var adjustedTzDate = DateFormatter.adjust( myTzDate, { day:-1.5, hour:4.2, minute:90 }); // Sat Dec 30 2017 05:42:00 UTC // adjust the time of a regualar Date object var myDate = new Date(2017,0,1) var adjustedDate = DateFormatter.adjust( myDate, { day:-1.5, hour:4.2, minute:90 }); // Fri Dec 30 2016 17:42:00 GMT-0800 (PST) Properties: Name Type Description value Number The date that will be the starting point for adjustment includeDate Boolean An Object of time keys to adjust the date with. Positive numbers will increase the time, while negative numbers will decrement it. The accepted keys are: week, day, hour, minute, second Source: ad-dates/lib/DateFormatter.js, line 73 Returns: Type TzDate | Date &lt;static&gt; setLanguage() Changes teh language used for date formatting DateFormatter.setLanguage(spanish) Properties: Name Type Description value String The label associated with an added language object, such as 'english' or 'spanish' Source: ad-dates/lib/DateFormatter.js, line 24 × Search results Close "},"DateManager.html":{"id":"DateManager.html","title":"Class: DateManager","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-dates DateManager Import from ad-dates // importing into an ES6 class import { DateManager } from 'ad-dates' This class initailizes the ads understanding of &quot;now&quot; for use with all other Date oriented classes. new DateManager() Source: ad-dates/lib/DateManager.js, line 1 Methods &lt;static&gt; getNow() Returns a TzDate representing the exact time it is called. You can override system time in the following ways: // in the index var adParams = { dateSettings: { dateOverride : function() { return [ '2016-09-16 14:07:00', 'US/Eastern' ]; } } } // with a query string: // add this to your index file's url: ?date=2017-05-17T17:45:00+00:00 // NOTE: the browser address bar will automatically &quot;url encode&quot; some of the characters // so full url would look like: http:/ /10.0.86.13:4200/build/300x250/index.html?date=2017-05-17T17%3A45%3A00%2B00%3A00 NOTE:: Ads built before v2.8.0 (June 2017) use DateUtils whose query-string format is different. Source: ad-dates/lib/DateManager.js, line 96 Returns: Type TzDate &lt;static&gt; init() This function is meant to be called at the very beginning of the ad's lifespan. Automatically, it sets initial time which is used to keep an internal clock that can is used to reference the lifespan of the ad, show countdowns, changes in live states, etc. Additional settings on args include: dateOverride - optionally overrides the system date with a hard-coded one language - optionally sets the default language to be used for date-messaging Source: ad-dates/lib/DateManager.js, line 25 × Search results Close "},"DateSchedule.html":{"id":"DateSchedule.html","title":"Class: DateSchedule","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-dates DateSchedule new DateSchedule(arg) Import from ad-dates // importing into an ES6 class import { DateSchedule } from 'ad-dates' This class creates a schedule of dates that will be compared agains the currentdate/time. There are 2 ways to use this class: standard and custom. AdData.js: It is recommended that you centralize your schedule in AdData. This way, changes to the schedule can easily be achieved with one common update. Standard This will create a schedule of dates leading up to the target date, which was formerly achieved by using the selectMessageForDate() method. This standard way will produce a schedule pre-populated with: DATEreturns the target date, using the toSimpleDateTime() for anything further than a week out from the target WEEKreturns the day of the week the target date is, ie Wednesday TOMORROWreturns the word &quot;Tomorrow&quot;, beginning at midnight the day before the target date TODAYreturns the string &quot;Today&quot;, beginning at midnight on the target date TONIGHTreturns the string &quot;Tonight&quot;, beginning at the time set with tonightStartsAt NOWreturns the string &quot;Live Now&quot; PASTreturns the string &quot;Past&quot;, called after NOW plus the eventDuration value // Standard Schedule this.schedule = new DateSchedule({ target: new TzDate({ datetime: ['2015-08-01 20:00:00', 'US/Eastern'], outputTimezone: 'local' }), isStandard: true }) this.schedule.print() this.dateMessage = this.schedule.currentLabel this.dateHour = this.schedule.target.toDateTime() // Each standard label can be overridded by either assigning a different string or by passing in a callback function // that will return a differently formatted message. Note each callback gets fired at runtime, creating each label. // this.schedule = new DateSchedule({ target: new TzDate({ datetime: ['2015-08-01 20:00:00', 'US/Eastern'], outputTimezone: 'local' }), eventDuration: 120, isStandard: true, standardOverrides: { DATE: date =&gt; date.format('${M}/${D} ${t} ${a^}'), // 8/01 8 PM TOMORROW: (date, label) =&gt; label + date.format(' ${t} ${a^}'), // Tomorrow 8 PM NOW: 'Watch Live Now' } }) this.schedule.print() this.dateMessage = this.schedule.currentLabel Custom This is used to set a specific list of dates to check now against, returning the latest. this.schedule = new DateSchedule() this.schedule.addDate( new TzDate({ datetime: ['2015-08-01 12:00:00', 'US/Eastern'], outputTimezone: 'local' }), &quot;Hey I'm the first date&quot; ) this.schedule.addDate( new TzDate({ datetime: ['2015-08-05 14:00:00', 'utc'], outputTimezone: 'US/Pacific' }), &quot;I'm the last date&quot; ) this.schedule.print() The schedule can also be used to call different markup builds. Use the third param of addDates() to pass in a callback, then simply call it from Control.preMarkup() or where ever makes sense. this.schedule = new DateSchedule() this.schedule.addDate( new TzDate({ datetime: ['2015-08-01 12:00:00', 'US/Eastern'], outputTimezone: 'local' }), &quot;Hey I'm the first date&quot;, View.buildFromDate0 ) this.schedule.addDate( new TzDate({ datetime: ['2015-08-05 14:00:00', 'utc'], outputTimezone: 'US/Pacific' }), &quot;I'm the last date&quot;, View.buildFromDate1 ) this.schedule.print() build.js: In build.View, you can write functions that build out the DOM for each of your states. this.buildFromDate0 = function() { console.log('View.buildFromDate0()') // Markup... } this.buildFromDate1 = function() { console.log('View.buildFromDate1()') // Markup... } In build.Control or build.buildMarkup, you simply call the callback of the current date on the schedule. This will find the current added date object and fire that callback const message = adData.schedule.current.callback() console.log(message) const myTextField = new UITextField({ target: T, id: 'my-textfield', css: { width: 300, height: 90 }, fontSize: 30, fontFamily: 'template_font', format: TextFormat.INLINE, alignText: Align.CENTER, text: message.label }) Parameters: Name Type Description arg object Settings are passed in via this object, see Properties for more info: Properties: Name Type Description target TzDate The date that the schedule will count down to isStandard boolean If true, will create a standard schedule with default messaging eventDuration number In a standard schedule, the amount of minutes after the target time the PAST messaging shows. Defaults to 120 which is 2 hours tonightStartsAt string In a standard schedule, when the today message changes to tonight. If the target time is before this value, tonight will never show. Defaults to '17:50' which is 5:30PM hasOneDayOf boolean In a standard schedule, will determine if only 'tonight' OR 'today' will show, or if it is possible to have both. For example, in ESPN units, the need is that only one of the options will show at midnight day of the event. So if the event is before the tonightStartsAt value, it will only show 'today', while if it is after it will only show 'tonight'. If this is set to false, it will allow for both following the logic of tonightStartsAt. Defaults to true. standardOverrides object An object to overwrite any of the standard labels. Using the standard keys, apply a new label string or callback function passing in the target date Source: ad-dates/lib/DateSchedule.js, line 1 Members &lt;static&gt; current :object Getter : An object of the current date, label and optional callback Type: object Source: ad-dates/lib/DateSchedule.js, line 219 Example mySchedule.current.date mySchedule.current.label mySchedule.current.callback() &lt;static&gt; currentDate :TzDate Getter : Is direct access to the current date, same as mySchedule.current.date Type: TzDate Source: ad-dates/lib/DateSchedule.js, line 234 Example mySchedule.currentDate &lt;static&gt; currentIndex :Number Getter : The index, zero based, of the current date Type: Number Source: ad-dates/lib/DateSchedule.js, line 260 Example mySchedule.currentIndex &lt;static&gt; currentLabel :String Getter : Is direct access to the current label, same as mySchedule.current.label Type: String Source: ad-dates/lib/DateSchedule.js, line 247 Example mySchedule.currentLabel &lt;static&gt; isComplete :Boolean Getter : When using a standard schedule, whether or not the target date and eventDuration has been passed Type: Boolean Source: ad-dates/lib/DateSchedule.js, line 348 Example mySchedule.isComplete &lt;static&gt; isLive :Boolean Getter : When using a standard schedule, whether or not the target date has been passed, but not passed the eventDuration Type: Boolean Source: ad-dates/lib/DateSchedule.js, line 334 Example mySchedule.isLive &lt;static&gt; next :object Getter : An object of the next date, label and optional callback Type: object Source: ad-dates/lib/DateSchedule.js, line 280 Example mySchedule.next.date mySchedule.next.label mySchedule.next.callback() &lt;static&gt; nextDate :TzDate Getter : Is direct access to the next date, same as mySchedule.next.date Type: TzDate Source: ad-dates/lib/DateSchedule.js, line 295 Example mySchedule.nextDate &lt;static&gt; nextIndex :Number Getter : The index, zero based, of the next date Type: Number Source: ad-dates/lib/DateSchedule.js, line 321 Example mySchedule.nextIndex &lt;static&gt; nextLabel :String Getter : Is direct access to the next label, same as mySchedule.next.label Type: String Source: ad-dates/lib/DateSchedule.js, line 308 Example mySchedule.nextLabel &lt;static&gt; target :TzDate Getter : The target date of a standard schedule Type: TzDate Source: ad-dates/lib/DateSchedule.js, line 206 Example mySchedule.target.print() Methods &lt;static&gt; addDate(tzDate, label, callback) Add a date to the schedule, which can be either a TzDate or an object to create a date from the target Parameters: Name Type Description tzDate TzDate | Date | Object Expected to be either a Date object, a TzDate or an Object for creating a date from the target using DateFormatter.adjust() label String | function Optionally specify a label as a String or creeate a function to format the date using the TxDate methods callback function Optionally a function that can be called when this date is the current. Does NOT auto fire, must me called. Source: ad-dates/lib/DateSchedule.js, line 365 Example // start with a target date const schedule = new DateSchedule({ target: new TzDate({ datetime: ['2017-08-01 08:00:00', 'US/Eastern'], outputTimezone: 'local' }) }) // add TzDate schedule.addDate( new TzDate({ datetime: '2017-04-01T14:00:00+00:00', outputTimezone: 'US/Eastern' }) ) // creates a date 1 day before and 4 hours ahead of the target date schedule.addDate({ day: -1, hour: 4 }) // uses a callback to get a custom date message schedule.addDate( new TzDate({ datetime: '2017-06-01T22:00:00+00:00', outputTimezone: 'local' }), function(date) { return date.toSimpleTime() + ' ' + date.toMeridiem() + '!!' } ) // add a message and a callback schedule.addDate( new TzDate({ datetime: '2017-05-01T17:00:00+00:00', outputTimezone: 'US/Pacific' }), 'Custom Message', function() { console.log('i am the callback') } ) schedule.print() // DateSchedule.print(), length: 7 // - 0 Sat Jan 01 2000 00:00:00 UTC label: 1/1 12:00 am // - 1 Sat Apr 01 2017 10:00:00 US/Eastern label: undefined // - 2 Mon May 01 2017 10:00:00 US/Pacific label: Custom Message // - 3 Thu Jun 01 2017 15:00:00 Local label: 3:00 pm!! // - 4 Mon Jul 31 2017 09:00:00 Local label: undefined // - 5 Tue Aug 01 2017 05:00:00 Local label: Live Now // - 6 Tue Aug 01 2017 07:00:00 Local label: Past &lt;static&gt; getDates() Returns an Array copy of the dates, leaving the original untouched. Source: ad-dates/lib/DateSchedule.js, line 553 Returns: Type Array Example schedule.getDates() &lt;static&gt; print() Traces out all dates in order Source: ad-dates/lib/DateSchedule.js, line 520 Example // standard schedule const schedule = new DateSchedule({ target: new TzDate({ datetime: ['2017-08-01 20:00:00', 'US/Eastern'], outputTimezone: 'local' }), isStandard: true }) schedule.print() // DateSchedule.print(), length: 7 // - 0 Sat Jan 01 2000 00:00:00 UTC label: 8/1 5:00 pm // - 1 Tue Jul 25 2017 17:00:00 Local label: Tuesday // - 2 Mon Jul 31 2017 00:00:00 Local label: Tomorrow // - 3 Tue Aug 01 2017 00:00:00 Local label: Today // - 4 Tue Aug 01 2017 10:30:00 Local label: Tonight // - 5 Tue Aug 01 2017 17:00:00 Local label: Live Now // - 6 Tue Aug 01 2017 19:00:00 Local label: Past × Search results Close "},"DcsUtils.html":{"id":"DcsUtils.html","title":"Class: DcsUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils DcsUtils new DcsUtils() Import from ad-utils // importing into an ES6 class import { DscUtils } from 'ad-utils' Doubleclick Studio utilities. Source: ad-utils/lib/DcsUtils.js, line 3 Methods &lt;static&gt; addVideoMetrics(player, message) Adds DoubleClick Tracking metrics to a video player. Parameters: Name Type Description player VideoPlayer The video player instance to track message string The message passed as the metric, defaults to 'Video Report 1' Source: ad-utils/lib/DcsUtils.js, line 22 Example DcsUtils.addVideoMetrics( View.main.videoPlayer, 'Intro Video' ); &lt;static&gt; addYouTubeVideoMetrics(player) Adds DoubleClick Tracking metrics to a YouTube video player. The Enabler counter calls are added to the index when a YouTubePlayer is added through Ad App. If manually adding a YouTubePlayer/tracking, the required global vars are: var trackVideoPlay = function() { Enabler.counter( 'YTP Video Play', true ) } var trackVideoReplay = function() { Enabler.counter( 'YTP Video Replay', true ) } var trackVideoPause = function() { Enabler.counter( 'YTP Video Pause', true ) } var trackVideoComplete = function() { Enabler.counter( 'YTP Video Complete', true ) } Parameters: Name Type Description player VideoPlayer The YouTubePlayer instance to track Source: ad-utils/lib/DcsUtils.js, line 40 Example DcsUtils.addYouTubeVideoMetrics( View.main.mainYouTubePlayer ); × Search results Close "},"Device.html":{"id":"Device.html","title":"Class: Device","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-external Device new Device() Import from ad-external // importing into an ES6 class import { Device } from 'ad-external' Global constant that provide information about the Device on which the code is currently executing Source: ad-external/lib/Device.js, line 1 Members &lt;static&gt; agentString :string Current user agent of browser. Type: string Source: ad-external/lib/Device.js, line 18 &lt;static&gt; brand :string Brand of device, possible values are: microsoft, apple, android, rim, unknown. Type: string Source: ad-external/lib/Device.js, line 24 &lt;static&gt; browser :string Brand of browser. Type: string Source: ad-external/lib/Device.js, line 75 &lt;static&gt; browserVersion :string Version of browser. Type: string Source: ad-external/lib/Device.js, line 81 &lt;static&gt; dimensions :object The current dimensions of the device's viewport, returns an object with a width and height value that are direct returns of windowWidth and windowHeight. Type: object Properties: Name Type Description width number window inner-width height number window inner-height Source: ad-external/lib/Device.js, line 108 &lt;static&gt; orientation :string Orientaion of device viewport: landscape or portrait. Type: string Source: ad-external/lib/Device.js, line 98 &lt;static&gt; os :string Operating system of device. Type: string Source: ad-external/lib/Device.js, line 63 &lt;static&gt; osVersion :string Version of operating system of device. Type: string Source: ad-external/lib/Device.js, line 69 &lt;static&gt; pixelRatio :string Pixel ratio of device viewport. Type: string Source: ad-external/lib/Device.js, line 88 &lt;static&gt; product :string Brand subtype, possible values are: windows phone, windows, iphone, ipad, ipod, mac, android, pixel 2, blackberry. Type: string Source: ad-external/lib/Device.js, line 36 &lt;static&gt; type :string Device type, possible values are: mobile, tablet, desktop. Windows &gt; 8 currently returns tablet, currently no way to differentiate from desktop. Type: string Source: ad-external/lib/Device.js, line 52 Methods &lt;static&gt; init() Initializes the module, which is called from within the pipeline. Source: ad-external/lib/Device.js, line 129 × Search results Close "},"Effects.html":{"id":"Effects.html","title":"Class: Effects","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-view Effects new Effects() Import from ad-view // importing into an ES6 class import { Effects } from 'ad-view' Utilities for adding effects to elements Source: ad-view/lib/Effects.js, line 1 Methods &lt;static&gt; blur(obj) Blurs a dom element. Parameters: Name Type Description obj object object containing blur arguments, see Properties for more info: Properties: Name Type Description obj.target element dom element obj.amount number the level of blurriness Source: ad-view/lib/Effects.js, line 22 Example // Effects.blur({ target: _myDiv, amount: 10 }); &lt;static&gt; dropShadow(obj) Adds a drop shadow to a dom element. Follows the same use specs as Photoshop. Parameters: Name Type Description obj object object containing drop shadow arguments, see Properties for more info: Properties: Name Type Description obj.target element dom element obj.angle number optional NUMBER IN DEGREES for the angle at which the shadow will project. Defaults to 0. obj.distance number optional NUMBER for how far away the shadow will offset. Defaults to 0. obj.size number optional NUMBER for shadow radius. Defaults to 0. obj.spread number optional NUMBER for how much extra the shadow will increase before it begins its gradient fade. Defaults to 0. obj.color string | object optional color of shadow as a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to &quot;#000000&quot;. obj.alpha number optional NUMBER of shadow opacity, if set will overwrite color.a. Defaults to 1. obj.inner boolean optional BOOLEAN to set the shadow as inset. Defaults to false. Source: ad-view/lib/Effects.js, line 49 Example // Effects.dropShadow({ target:_myDiv, angle: 135, distance: 50, size: 20, spread: 10, color: 'rgb(90, 0, 0)', alpha: 0.1, inner: true }); &lt;static&gt; glow(obj) Adds a glow to a dom element. Follows the same use specs as Photoshop. Parameters: Name Type Description obj object object containing glow arguments, see Properties for more info: Properties: Name Type Description obj.target element dom element obj.size number optional NUMBER for glow radius. Defaults to 0. obj.spread number optional NUMBER for how much extra the glow will increase before it begins its gradient fade. Defaults to 0. obj.color string | object optional color of glow as a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to &quot;#000000&quot;. obj.alpha number optional NUMBER of glow opacity, if set will overwrite color.a. Defaults to 1. obj.inner boolean optional BOOLEAN to set the glow as inset. Defaults to false. Source: ad-view/lib/Effects.js, line 135 Example // Effects.glow({ target: _myDiv, size: 20, spread: 0, color: 'rgb(90, 0, 0)', alpha: 0.5, inner: true }); &lt;static&gt; linearGradient(obj) Changes the background of a given dom element to be a linear gradient. Example Adding a horizontal gradient from red, to blue, fading to a transparent yellow. Effects.linearGradient({ target: _myDiv, colors: ['red', 'blue', 'rgba(255, 255, 0, 0.5)'], angle: 90 }); Parameters: Name Type Description obj object object containing gradient arguments, see Properties for more info: Properties: Name Type Description obj.target element dom element obj.colors array ARRAY of colors as either a HEX STRING :&quot;#ff0000&quot; or an RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;. obj.angle number NUMBER IN DEGREES of angle to draw linear-gradient at. Defaults to 0. Source: ad-view/lib/Effects.js, line 175 &lt;static&gt; radialGradient(obj) Changes the background of a given dom element to be a radial gradient. Example Adding a gradient from red to blue, with a very large choke on the blue. Effects.radialGradient({ target: _myDiv, colors: ['#ff0000', '#0000ff 10%'] }); Parameters: Name Type Description obj object object containing gradient arguments, see Properties for more info: Properties: Name Type Description obj.target element dom element obj.colors array ARRAY of colors as either a HEX STRING :&quot;#ff0000&quot; or an RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;. To add stops, append a % value to the color string: [&quot;#ff0000 50%, &quot;#00ff00 90%&quot;]. obj.angle number NUMBER IN DEGREES of angle to draw linear-gradient at. Defaults to 0. Source: ad-view/lib/Effects.js, line 206 &lt;static&gt; textDropShadow(obj) Adds a drop shadow to text within a dom element. Follows the same use specs as Photoshop. Parameters: Name Type Description obj object object containing drop shadow arguments, see Properties for more info: Properties: Name Type Description obj.target element dom element obj.angle number optional NUMBER IN DEGREES for the angle at which the shadow will project. Defaults to 0. obj.distance number optional NUMBER for how far away the shadow will offset. Defaults to 0. obj.size number optional NUMBER for shadow radius. Defaults to 0. obj.color string | object optional color of shadow as a HEX STRING :&quot;#ff0000&quot;, RGB/A STRING: &quot;rgb(255, 0, 0)&quot; / &quot;rgba(255, 0, 0, 1)&quot;, or an RGB/A OBJECT:{r:255,g:0,b:0} / {r:255,g:0,b:0,a:1}. Defaults to &quot;#000000&quot;. obj.alpha number optional NUMBER of shadow opacity, if set will overwrite color.a. Defaults to 1. Source: ad-view/lib/Effects.js, line 95 Example // Effects.textDropShadow({ target:_myText, angle: 45, distance: 15, size: 1, color: '#ff0000', alpha: 0.5 }); × Search results Close "},"Emitter.html":{"id":"Emitter.html","title":"Class: Emitter","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles Emitter new Emitter() Import from ad-particles // importing into an ES6 class import { Emitter } from 'ad-particles' ( v1.1 ) Emitter is a particle system that emits and controls particles and renders on a canvas element. It comes with some basic physic features such as gravity, force, bounce and world boundary. The default setting is in js/EmitterData.js that comes with standard-particles template. To tweak the default data, launch particle simulator in AdApp and work with the interface. When you have reached your desired effect, copy the genrated code back to js/EmitterData.js. For more info about the simulator, visit https://confluence.ff0000.com/display/AT/PARTICLES Source: ad-particles/lib/Emitter.js, line 1 Example //create a canvas element View.main.particleCanvas = new UICanvas({ id: 'particle-canvas', target: View.main, css: { width: adParams.adWidth, height: adParams.adHeight } }); //create an instance of Emitter adData.particleSystem = new Emitter(); //initiate the emitter with the target canvas element adData.particleSystem.init( View.main.particleCanvas ); //start emitting adData.particleSystem.emit(); //stop emitting adData.particleSystem.stopEmitting(); Members &lt;static&gt; tween Creates a object to hold tween functions: Properties: Name Type Description tween.to function Emitter.to Source: ad-particles/lib/Emitter.js, line 322 Methods &lt;static&gt; addCustomBehavier(type, func) Adds on custom behavier in the run loop. If the type is 'particle' function, it will be called in each particle iteration in the run loop with the iterated particle as the first parameter and an array of all particles as the second. If the type is 'emitter', it will be called in each run loop with the emitter as a parameter. Parameters: Name Type Description type string 'particle' or 'emitter' func function function to add Source: ad-particles/lib/Emitter.js, line 188 Example function customParticleBehavier1 ( particle, particleGroup ) { var particleLocation = particle.properties.location; var i; //if there is another particle in the range of 60, set the color to red //otherwise set it to yellow for( i=0; i&lt;particleGroup.length; i++ ) { var particle2 = particleGroup[ i ]; var dist = particleLocation.dist( particle2.properties.location ); if( dist &lt; 60 ) { particle.properties.style.color = [ 255, 0, 0 ]; } else { particle.properties.style.color = [ 255, 255, 0 ]; } } } function customParticleBehavier2 ( particle, particleGroup ) { particle.properties.style.scale = particle.properties.location.y * 0.1; } function customEmitterBehavier ( emitter ) { //animate the gravityAmount using frameCount emitter.set( 'gravityAmount', Math.sin( emitter.frameCount * 0.1 )); }; myEmitter.addCustomBehavier( 'particle', customParticleBehavier1 ); myEmitter.addCustomBehavier( 'particle', customParticleBehavier2 ); myEmitter.addCustomBehavier( 'emitter', customEmitterBehavier ); &lt;static&gt; addModel(modelObj) Add a particle model Parameters: Name Type Description modelObj object the object of the particle model to be added Source: ad-particles/lib/Emitter.js, line 429 Example var modelObj = { type: &quot;Circle&quot;, width: 12, properties: {}, id: 'model5' }; myEmitter.addModel( modelObj ); &lt;static&gt; createParticles(amount) Creates particles from the particle models of the emitter. Parameters: Name Type Description amount number the amount of particles to create Source: ad-particles/lib/Emitter.js, line 385 &lt;static&gt; emit() Starts emitting particles. Source: ad-particles/lib/Emitter.js, line 253 Example myEmitter.emit(); &lt;static&gt; empty() Emptys all particles. Source: ad-particles/lib/Emitter.js, line 283 Example myEmitter.empty(); &lt;static&gt; get(key) Gets a sinlge property of emitter properties. Parameters: Name Type Description key string the name of the property (supports nested object key) Source: ad-particles/lib/Emitter.js, line 145 Returns: The value of the property Type number | string | object | array Example var rate = myEmitter.get( 'emitRate' ); var lifeSpanValue = myEmitter.get( 'lifeSpan.value' ); &lt;static&gt; init(canvasElement, setting) Initiates the Emitter. Parameters: Name Type Description canvasElement CanvasElement a canvas element setting object optional, contains fps and emitterData as properties to overide the frame rate and EmitterData, see Properties for more info: Properties: Name Type Description emitterData EmitterData fps number default fps(60) Source: ad-particles/lib/Emitter.js, line 68 Example var myEmitter = new Emitter(); //init emitter with default setting myEmitter.init( canvasElement ); //init emitter with custom setting var customSetting = { fps: 30, emitterData: myCustomEmitterData }; myEmitter.init( canvasElement, customSetting ); &lt;static&gt; pause() Pause the run loop ( freeze it! ). Source: ad-particles/lib/Emitter.js, line 298 Example myEmitter.pause(); &lt;static&gt; removeCustomBehavier(type, func) Removes the custom behavier added. Parameters: Name Type Description type string 'particle' or 'emitter' func function function to remove Source: ad-particles/lib/Emitter.js, line 230 Example myEmitter.removeCustomBehavier( 'particle', customParticleBehavier1 ); myEmitter.removeCustomBehavier( 'emitter', customEmitterBehavier ); &lt;static&gt; removeModel(id) Remove a particle model by its id Parameters: Name Type Description id string the id of the particle model to be removed Source: ad-particles/lib/Emitter.js, line 450 Example myEmitter.removeModel( 'model5' ); &lt;static&gt; resume() Resume the run loop after pause. Source: ad-particles/lib/Emitter.js, line 310 Example myEmitter.resume(); &lt;static&gt; set(key, val, triggerChange) Sets a sinlge property of emitter properties. To set multiple properties at once, please use setProperties. Parameters: Name Type Description key string the name of the property (supports nested object key) val number | string | object | array the value of the property triggerChange boolean optional, it is for internal use Source: ad-particles/lib/Emitter.js, line 120 Example myEmitter.set( 'emitRate', 0.1 ); myEmitter.set( 'origin.value.x', 0 ); &lt;static&gt; setProperties(obj) Sets a group of properties of emitter properties (supports nested object key) Parameters: Name Type Description obj object an object containing properties and values Source: ad-particles/lib/Emitter.js, line 163 Example myEmitter.setProperties({ 'emitRate': 0.1, 'background.type': 'none', 'origin.value.x': 100 }); &lt;static&gt; stopEmitting() Stops emitting particles. Source: ad-particles/lib/Emitter.js, line 271 Example myEmitter.stopEmitting(); &lt;static&gt; to(duration, props) It creates a TweenLite animation for tweening emitter properties. ( The purpose of this is to tween multiple nested keys in property object, since TweenLite doesn't support nested keys. ) NOTE!!! This method is on the Emitter.tween object! Parameters: Name Type Description duration number duration of the tween in seconds props object properties to use Source: ad-particles/lib/Emitter.js, line 332 Example myEmitter.tween.to( 0.3, { 'emitRate': 1, 'velocity.value.angle': 45, 'origin.value.x': 100, 'origin.value.y': 350, delay: 1, onComplete: function () { console.log( 'Done!' ); } }); × Search results Close "},"Expandable.html":{"id":"Expandable.html","title":"Class: Expandable","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-control Expandable new Expandable() Import from ad-control // importing into an ES6 class import { Expandable } from 'ad-control' This class controls the expanding and collapsing of expandable units. The animation relys on the properties set in the index. Therefore, the animation has be removed from the build file and handled internally. This class can be extended with ExpandableDcs when units are used in DoubleClick. Source: ad-control/lib/Expandable.js, line 1 Methods &lt;static&gt; collapse() Collapses the View.expand container. Source: ad-control/lib/Expandable.js, line 100 Example Expandable.collapse(); &lt;static&gt; expand() Expands the View.expand container. Source: ad-control/lib/Expandable.js, line 113 Example Expandable.expand(); &lt;static&gt; init() This method initializes the class, linking all callbacks and the target being set. This should be called Control.postMarkup Source: ad-control/lib/Expandable.js, line 59 Example Expandable.init ({ // required target: View.expanded, // optional methods called when that event happens expandStart: Control.handleExpandStart, expandComplete: Control.handleExpandComplete, collapseStart: Control.handleCollapseStart, collapseComplete: Control.handleCollapseFinish, // optionally you can add time values for expanding/collapsing expandTime: 0.3, collapseTime: 0.3 }); &lt;static&gt; {boolean} hasUserInteracted Indicates if the ad has been interacted by the user() Source: ad-control/lib/Expandable.js, line 127 Example console.log( Expandable.hasUserInteracted() ) × Search results Close "},"ExpandableDcs.html":{"id":"ExpandableDcs.html","title":"Class: ExpandableDcs","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-control ExpandableDcs new ExpandableDcs() Import from ad-control // importing into an ES6 class import { ExpandableDcs } from 'ad-control' This is and extension of Expandable when units are used in DoubleClick. The only difference in the init() method is to pass in this class to the Expandable.init() Expandable.init ({ target : View.expanded, expandStart: Control.handleExpandStart, expandComplete: Control.handleExpandComplete, collapseStart: Control.handleCollapseStart, collapseComplete: Control.handleCollapseFinish, extend: ExpandableDcs }); Source: ad-control/lib/ExpandableDcs.js, line 1 × Search results Close "},"FrameRate.html":{"id":"FrameRate.html","title":"Class: FrameRate","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-events FrameRate new FrameRate() Import from ad-events // importing into an ES6 class import { FrameRate } from 'ad-events' This module is used for constant consistent updates, akin to ENTER_FRAME in AS3, utilizing requestAnimationFrame at its core. Register a function and it will be called on every tick. Optionally, you can register a function with a frame rate value for specific frequency calls. This is useful when working with multiple animation sequences at once. Source: ad-events/lib/FrameRate.js, line 1 Example // have any methods function myFunctionA () { console.log( 'myFunctionA' ); } function myFunctionB() { console.log( 'myFunctionB' ); } function myFunctionC() { console.log( 'myFunctionC' ); } // Register any method, anywhere FrameRate.register ( this, myFunctionA ); FrameRate.register ( this, myFunctionB ); // Register with custom time, say only 7 calls per second FrameRate.register ( this, myFunctionC, 7 ); // Pause the whole engine so no methods are called FrameRate.pause(); // Then start is back up FrameRate.resume(); // or remove a method later FrameRate.unregister ( this, myFunctionA ); // or pause all methods at a specific frame rate FrameRate.pause ( 7 ) // this pauses only myFunctionC, but myFunctionB will continue to be called × Search results Close "},"Gesture.html":{"id":"Gesture.html","title":"Class: Gesture","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-events Gesture new Gesture() Import from ad-events // importing into an ES6 class import { Gesture } from 'ad-events' This module is used for seamless use of Mouse / Touch Events, such as click vs tap, mousedown vs touch down, etc. This class figures which to use and reports custom events. See GestureEvent for available events. Source: ad-events/lib/Gesture.js, line 4 Methods &lt;static&gt; add | addEventListener(target, name, handler) Registers an event so that the listener receives notification of an event. Parameters: Name Type Description target element The DOM element name string The event's name as a String or GestureEvent constant handler function The function to be called on event trigger Source: ad-events/lib/Gesture.js, line 37 Example Gesture.addEventListener( myDiv, GestureEvent.CLICK, handleClick ); function handleClick( event ) { console.log( 'Click heard' ); } &lt;static&gt; disable(target) Disables a DOM element from responding the mouse/touch/gesture events. For bubbling events, such as click, this will disable its children as well. Parameters: Name Type Description target element The DOM element Source: ad-events/lib/Gesture.js, line 88 Example Gesture.disable( myDiv ); &lt;static&gt; disableChildren(target) Disables all child DOM elements from responding the mouse/touch/gesture events. For bubbling events, such as click, this is unnecessary Parameters: Name Type Description target element The DOM element Source: ad-events/lib/Gesture.js, line 111 Example Gesture.disableChildren ( myDiv ); &lt;static&gt; enable(target) Enables all a DOM element to responding the mouse/touch/gesture events. For bubbling events, such as click, this will enable its children as well. Parameters: Name Type Description target element The DOM element Source: ad-events/lib/Gesture.js, line 125 Example Gesture.disable ( myDiv ); &lt;static&gt; enableChildren(target) Enables all child DOM elements to responding the mouse/touch/gesture events. For bubbling events, such as click, this is unnecessary Parameters: Name Type Description target element The DOM element Source: ad-events/lib/Gesture.js, line 152 Example Gesture.enableChildren ( myDiv ); &lt;static&gt; remove | removeEventListener(target, name, handler) Unregisters an event of notifications. Parameters: Name Type Description target element The DOM element name string The event's name as a String or GestureEvent constant handler function The function registered for call on event trigger Source: ad-events/lib/Gesture.js, line 64 Example Gesture.removeEventListener ( myDiv, GestureEvent.CLICK, handleClick ); × Search results Close "},"GestureBase.html":{"id":"GestureBase.html","title":"Class: GestureBase","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-events GestureBase new GestureBase() Import from ad-events // importing into an ES6 class import { GestureBase } from 'ad-events' -- INTERNAL MODULE -- This module is used exclusively by Gesture. When a dom element has an event listener registered, it creates an instance of this module to hold all the event handlers for the dom element. Every dom element gets a new GestureBase instance. Gesture Source: ad-events/lib/GestureBase.js, line 1 × Search results Close "},"GestureEvent.html":{"id":"GestureEvent.html","title":"Class: GestureEvent","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-events GestureEvent new GestureEvent() Import from ad-events // importing into an ES6 class import { GestureEvent } from 'ad-events' This module has custom events to be used with the Gesture module. Gesture Source: ad-events/lib/GestureEvent.js, line 1 Classes Event Members &lt;static, constant&gt; CLICK :string Represents a 'click', fired on click / touch end Type: string Source: ad-events/lib/GestureEvent.js, line 200 Example GestureEvent.CLICK &lt;static, constant&gt; DRAG :string Represents an 'onDrag', fired after an element is selected and before released. Element data objects included: selection position, element position, velocity of move Type: string Source: ad-events/lib/GestureEvent.js, line 210 Example GestureEvent.DRAG &lt;static, constant&gt; DRAG_START :string Represents an 'onDragStart', fired after an element is selected, when first moved and before released. Element data objects included: selection position, element position Type: string Source: ad-events/lib/GestureEvent.js, line 221 Example Gesture.addEventListener ( myDiv, GestureEvent.DRAG_START, handleDragStart ); // function handleDragStart ( event ){ // coordinate position of mouse/touch console.log( event.position ); // coordinate position of target element console.log( event.element ); } &lt;static, constant&gt; DRAG_STOP :string Represents an 'onDragStop', fired after an element is selected, moved, then released. Element data objects included: selection position, velocity of last move Type: string Source: ad-events/lib/GestureEvent.js, line 240 Example Gesture.addEventListener ( myDiv, GestureEvent.DRAG_STOP, handleDragStop ); // function handleDragStop ( event ){ // coordinate position of mouse/touch console.log( event.position ); // velocity, ie change in distance, of target element console.log( event.velocity ); } &lt;static, constant&gt; MOVE :string Represents a 'mousemove', fired on desktop cursor move Type: string Source: ad-events/lib/GestureEvent.js, line 170 Example GestureEvent.MOVE &lt;static, constant&gt; OUT :string Represents a 'mouseout', fired on desktop cursor roll out Type: string Source: ad-events/lib/GestureEvent.js, line 160 Example GestureEvent.OUT &lt;static, constant&gt; OVER :string Represents a 'mouseover', fired on desktop cursor roll over Type: string Source: ad-events/lib/GestureEvent.js, line 150 Example GestureEvent.OVER &lt;static, constant&gt; PRESS :string Represents an 'onPress', fired on mousedown / touch start Type: string Source: ad-events/lib/GestureEvent.js, line 180 Example GestureEvent.PRESS &lt;static, constant&gt; RELEASE :string Represents an 'onRelease', fired on mouseup / touch end Type: string Source: ad-events/lib/GestureEvent.js, line 190 Example GestureEvent.RELEASE &lt;static, constant&gt; SWIPE :string Represents an 'onSwipe', fired just after a DRAG_STOP, but different event properties available. Element data objects included: direction, distance, velocity Type: string Source: ad-events/lib/GestureEvent.js, line 259 Example Gesture.addEventListener ( myDiv, GestureEvent.SWIPE, handleSwipe ); // function handleSwipe ( event ){ // direction of swipe, as strings console.log( event.direction ); // distance covered from down to release console.log( event.distance ); // velocity, aka speed of swipe console.log( event.velocity ); } Methods &lt;static&gt; stop(event) Stops all future events of the type during the event loop, is a native equivilent to event.stopImmediatePropogation(). It does NOT remove any listeners, simply stops the event from bubbling up through the chain. Parameters: Name Type Description event event The event parameter from the event handler Source: ad-events/lib/GestureEvent.js, line 107 Example Gesture.add ( parentDiv, GestureEvent.CLICK, handleParentClick ); function handleParentClick( event ) { // This will not be heard console.log( 'parent click heard' ) } Gesture.add ( childDiv, GestureEvent.CLICK, handleChildClick ); function handleChildClick( event ) { GestureEvent.stop ( event ) console.log( 'child click heard' ) } × Search results Close "},"GestureEvent.Event.html":{"id":"GestureEvent.Event.html","title":"Class: Event","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: Event GestureEvent. Event new Event(name, mouseGlobalX, mouseGlobalY, mouseLocalX, mouseLocalY, elementX, elementY, distanceX, distanceY, velocityX, velocityY) Creates a new CustomEvent with properties assigned to it, accessible fomr the passed through event to the handler Parameters: Name Type Description name string The event type name mouseGlobalX number The mouse x on the page mouseGlobalY number The mouse y on the page mouseLocalX number The mouse x relative to the element position mouseLocalY number The mouse y relative to the element position elementX number The element x position elementY number The element y position distanceX number The distance moved on the x, only used for drags and swipes distanceY number The distance moved on the y, only used for drags and swipes velocityX number The distance moved on the x since previous event fired, essentially the speed velocityY number The distance moved on the y since previous event fired, essentially the speed Source: ad-events/lib/GestureEvent.js, line 19 Example Gesture.add ( myDiv, GestureEvent.CLICK, handleClick ); function handleClick( event ) { console.log( event ) console.log( 'global mouse:', event.mouse.global.x, event.mouse.global.y ) console.log( 'local mouse:', event.mouse.local.x, event.mouse.local.y ) console.log( 'element:', event.element.x, event.element.y ) } Gesture.add ( dragDiv, GestureEvent.DRAG, handleDrag ); function handleDrag( event ) { console.log( event ) console.log( 'element:', event.element.x, event.element.y ) console.log( 'distance:', event.distance.x, event.distance.y ) console.log( 'velocity:', event.velocity.x, event.velocity.y ) } × Search results Close "},"Graphic.Circle.html":{"id":"Graphic.Circle.html","title":"Class: Circle","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles Circle new Circle(size, style) A class for rendering circles on canvas Parameters: Name Type Description size number diameter of the circle style object Default to Graphic.DEFAULTSTYLE Source: ad-particles/lib/Graphic.js, line 133 × Search results Close "},"Graphic.Image.html":{"id":"Graphic.Image.html","title":"Class: Image","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles Image new Image() A class for rendering images on canvas. The size parameter applys to width. The height is calculated base the the image width and height ratio and call draw method of the child class. Source: ad-particles/lib/Graphic.js, line 110 × Search results Close "},"Graphic.Rect.html":{"id":"Graphic.Rect.html","title":"Class: Rect","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles Rect new Rect(width, height, style) A class for rendering rectangles on canvas. Parameters: Name Type Description width number width of the rectangle height number height of the rectangle style object Default to Graphic.DEFAULTSTYLE Source: ad-particles/lib/Graphic.js, line 158 × Search results Close "},"Graphic.Shape.html":{"id":"Graphic.Shape.html","title":"Class: Shape","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles Shape new Shape() The parent class of other Graphic classes. It handles color, alpha, translation, rotation and scaling. Source: ad-particles/lib/Graphic.js, line 43 × Search results Close "},"Graphic.Sprite.html":{"id":"Graphic.Sprite.html","title":"Class: Sprite","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles Sprite new Sprite(image, size, style, spriteSetting) A class for rendering spritesheet animation on canvas. Parameters: Name Type Description image Image image of the sprite sheet size number display width of per frame style object Default to Graphic.DEFAULTSTYLE spriteSetting object Object with the following properties: Properties: Name Type Description frameWidth number width of per frame frameHeight number height of per frame frameNumber number number of total frames speed number the speed of the animation loop boolean Source: ad-particles/lib/Graphic.js, line 186 × Search results Close "},"ImageManager.html":{"id":"ImageManager.html","title":"Class: ImageManager","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-control ImageManager new ImageManager() Import from ad-control // importing into an ES6 class import { ImageManager } from 'ad-control' This module is used to add/load/manage all Images. Source: ad-control/lib/ImageManager.js, line 1 Methods &lt;static&gt; addLoader(loader) Add a Loader to loaded along with any other queued image requests. Parameters: Name Type Description loader Loader A Loader. Source: ad-control/lib/ImageManager.js, line 68 Example ImageManager.addLoader( new Loader( assets.images, { name: 'imageLocalLoader', prepend: adParams.imagesPath })); &lt;static&gt; addToLoad(file, arg) Add an image file-path to be loaded. Parameters: Name Type Description file string A filename or path arg object Optional. Determines if the image should be loaded with a crossOrigin:'anonymous' for images used in a canvas. An object with one boolean key: forCanvas Source: ad-control/lib/ImageManager.js, line 32 Returns: An &quot;imageId&quot; which can be used to get an image by its id, see: ImageManager.get Example // Add an image from the &quot;images/&quot; folder ImageManager.addToLoad( adParams.imagesPath + 'sample.png' ); // Add an image full path, and get the result key back var sampleImageId = ImageManager.addToLoad( 'http://some/full/file/path/sample.png' ); // Add an image for use with CanvasDrawer, and get the result key back // NOTE: The object must be there or images will error when used in Canvas var sampleImageId = ImageManager.addToLoad( 'http://some/full/file/path/sample.png', { forCanvas:true }); &lt;static&gt; available(imageId) Returns a boolean stating if an image by the given imageID has been loaded Parameters: Name Type Description imageId string A String id of an Image Source: ad-control/lib/ImageManager.js, line 102 Example ImageManager.available( 'sample' ); &lt;static&gt; get(imageId) Returns the &lt;img&gt; that was created when the requested image was loaded in. Parameters: Name Type Description imageId string A String id of an Image Source: ad-control/lib/ImageManager.js, line 87 Example ImageManager.get( 'sample' ); &lt;static&gt; load(callback, onFail) Executes load queue, which, on success, will yield all of the requested images available with ImageManager.get Parameters: Name Type Description callback function Callback to execute when all images are loaded. onFail function Optional onFail callback - if not specified a failed load will cause the ad to failover. Source: ad-control/lib/ImageManager.js, line 129 × Search results Close "},"ImageUtils.html":{"id":"ImageUtils.html","title":"Class: ImageUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils ImageUtils new ImageUtils() Import from ad-utils // importing into an ES6 class import { ImageUtils } from 'ad-utils' This object contains methods necessary for manipulating images. Source: ad-utils/lib/ImageUtils.js, line 1 Methods &lt;static&gt; fitImageAtCoordinate(source, originX, originY) Positions a background image to fit the div size while centering around a point. If the point is beyond the size bounds, it will align to that side. Parameters: Name Type Description source element The div with a background image originX number The x position to center on originY number The y position to center on Source: ad-utils/lib/ImageUtils.js, line 16 × Search results Close "},"Loader.html":{"id":"Loader.html","title":"Class: Loader","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer ad-docs Loader new Loader(arg, arg) Import from ad-load This class is designed to handle all load processes: images, fonts and data, even other Loaders! Below are multiple use case scenarios. Single Load: var singleLoader = new Loader('images/img0.jpg', { onComplete:handleLoadComplete, scope:this }); singleLoader.load(); function handleLoadComplete( target ) { console.log( target.content[0].dataRaw ); } Array of loads from one Constructor: // Array load - you can pass in multiple files on creation of a Loader var arrayLoader = new Loader(['font1.ttf', 'font2.ttf'], { name:'fontLoader', onComplete:handleLoadComplete, prepend:adParams.commonPath + 'fonts/' }); arrayLoader.load(); function handleLoadComplete( target ) { console.log( target.content[0].dataRaw ); } Complex Load: var myLoader = new Loader('images/img0.jpg', { onComplete:handleLoadComplete, scope:this }); // append to that loader myLoader.add('images/img1.jpg'); // append multiple myLoader.add(['images/img2.jpg', 'images/img3.jpg']); myLoader.load(); function handleLoadComplete( target ) { console.log( target.content[0].dataRaw ); } Nested Loads: // Nested loads - best practice is to make a loader for one file type var masterLoader = new Loader({ name:'master', onComplete:handleAllComplete, onProgress:handleAllProgress, onFail:handleLoadFail, scope:this }); // declare a var to reference later, then add it to main loader var _imgLoader = new Loader( [ 'images/img2.jpg', 'images/img3.jpg' ], { name:'load_images', prepend:'images/' }); masterLoader.add( _imgLoader ); // or just add a new loader instance masterLoader.add( new Loader( [ 'font1.ttf', 'font2.ttf' ], { name:'load_fonts', prepend:adParams.commonPath + 'fonts/' }) ); masterLoader.add( new Loader( ['Ad_Data.js', 'NetUtils.js', 'Align.js', 'Analytics.js'], { name:'load_js', prepend:adParams.corePath + 'utils/' }) ); masterLoader.load(); function handleLoadComplete( target ) { console.log( target.content[0].dataRaw ); } function handleLoadProgress( target ) { console.log( target.progress, target.rawProgress ) } function handleLoadFail( target ) { console.log( target ); } function handleAllComplete( target ) { var a = target.getLoader( _imgLoader ) console.log( &quot;Loader found by var:&quot;, a ) var b = target.getContent( 'font1.ttf' ); console.log( &quot;Content found by name:&quot;, b ); var c = target.getLoader( 'load_fonts' ); console.log( &quot;Loader found by url:&quot;, c ); } Parameters: Name Type Description arg string | array | Loader load target arg object Object with any of the following optional parameters for customizing the load routine. Properties: Name Type Description query string name string prioritize boolean cacheBuster boolean method string &quot;POST&quot; or &quot;GET&quot; scope object onComplete function onProgress function onFail function prepend string A file path to be added to all loader targets. platformGetUrl function A callback method to wrap the url, such as DoubleClick's Enabler.getUrl. fileType string Manually assign the file type, eg: jpg, svg. Source: ad-load/index.js, line 1 Methods &lt;static&gt; add(arg) Add to the load queue: a single or array of files or even another Loader. Parameters: Name Type Description arg string | array | Loader a file, array of files, or Loader instance Source: ad-load/index.js, line 153 Example // Single load var imgLoader = new Loader({ name:'img_loader' }); // add to that loader imgLoader.add('images/img1.jpg'); // add multiple imgLoader.add(['images/img2.jpg', 'images/img3.jpg']); // Nested loads - best practice is to make a loader for one file type var mainLoader = new Loader({ name:'main', onComplete:handleComplete }); mainLoader.add( imgLoader ); // or just add a new loader instance mainLoader.add( new Loader(['font1.ttf', 'font2.ttf'], { name:'load_fonts' }) ); &lt;static&gt; getAllContent() Get all loaded content from the Loader and all nested Loaders Source: ad-load/index.js, line 233 Returns: An array of LoaderData Objects with relevant loading information (like an Event Object). Access the loaded content via the property 'dataRaw': an image, raw Json, raw XML, or font name Type array Example var myLoader = new Loader(['img1.jpg', 'img2.jpg', 'img3.jpg'], { onComplete:handleComplete }); myLoader.load(); function handleComplete( target ) { var myContent = target.getAllContent(); console.log( &quot;Content found:&quot;, myContent ); } &lt;static&gt; getAllContentRaw() Get all raw loaded content from the Loader and all nested Loaders, no LoaderData Objects Source: ad-load/index.js, line 269 Returns: An array of only the raw data: an image, raw Json, raw XML, or font name Type array Example var myLoader = new Loader(['img1.jpg', 'img2.jpg', 'img3.jpg'], { onComplete:handleComplete }); myLoader.load(); function handleComplete( target ) { var myContent = target.getAllContentRaw(); console.log( &quot;Content found:&quot;, myContent ); } &lt;static&gt; getLoader(id) Get the Loader instance from the Loader or any nested Loader Parameters: Name Type Description id string the string optionally assigned to the 'name' property or the variable assigned to the Loader instance Source: ad-load/index.js, line 292 Returns: Type Loader Example var mainLoader = new Loader({ name:'main', onComplete:handleLoadComplete }); mainLoader.add( new Loader( [ 'font1.ttf', 'font2.ttf' ], { name:'load_fonts', prepend:adParams.commonPath + 'fonts/' }) ); mainLoader.add( new Loader( ['Ad_Data.js', 'NetUtils.js'], { name:'load_js', prepend:adParams.corePath + 'utils/' }) ); mainLoader.load(); function handleLoadComplete( target ) { var fontLoader = target.getLoader('load_fonts'); } &lt;static&gt; load() Starts the load process. Source: ad-load/index.js, line 196 Example // Single load var imgLoader = new Loader({ onComplete:handleComplete }); imgLoader.load(); × Search results Close "},"LocationUtils.html":{"id":"LocationUtils.html","title":"Class: LocationUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils LocationUtils new LocationUtils() Import from ad-utils // importing into an ES6 class import { LocationUtils } from 'ad-utils' This object contains utilities for interfacing with the device's GPS. Source: ad-utils/lib/LocationUtils.js, line 1 Methods &lt;static&gt; getGPSData(callbackSuccess, callbackFail) Queries the device for current location. Asyncronous and dependent on user permission, so callback functions must be used. Parameters: Name Type Description callbackSuccess function upon successful acquisition of device location, this funciton is called with global coordinates. callbackFail function called if the query fails Source: ad-utils/lib/LocationUtils.js, line 19 × Search results Close "},"Markup.html":{"id":"Markup.html","title":"Class: Markup","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-view Markup new Markup() Import from ad-view // importing into an ES6 class import { Markup } from 'ad-view' This object contains utilities relateed to dom elements. Source: ad-view/lib/Markup.js, line 1 Methods &lt;static&gt; applyToElements(arg) Apply a method to multiple elements. Currently assuming the method accepts element as the first argument, and a second argument as the setting. Parameters: Name Type Description arg object See properties for more info: Properties: Name Type Description arg.scope object the scope of this arg.method function the function to use arg.element element | array the element(s) to apply the method to, can be a single element or an array arg.methodArg string | number | array | object the argument to pass to the method function Source: ad-view/lib/Markup.js, line 151 Example var myElements = Markup.get( '.centered-blocks' ); Markup.applyToElements({ scope: Align, method: Align.set, elements: myElements, methodArg: { x: Align.CENTER } }); &lt;static&gt; get(selector, parent) Used to select elements. Parameters: Name Type Description selector string A string selector. It defaults to find the string as an id, or if the string starts with '#'. If starts with '.', it selects by class name. If wrapped with '&lt;&gt;', it selects by tag name. parent element Optional parent element to get the element(s) from. Defaults to document. Source: ad-view/lib/Markup.js, line 16 Returns: One single element if the selector is an id. With class name or tag name, it returns an HTML collection ( similiar to an array ). Type element | HTMLCollection Example // get element by its id called 'myId' Markup.get( 'myId' ); // same as above Markup.get( '#myId' ); // get element by CSS classname 'myClass' Markup.get( '.myClass' ); // get elements by tag name 'head' Markup.get( '&lt;head&gt;' ); &lt;static&gt; removeChildren(_target) Removes all the children elements of an element Parameters: Name Type Description _target element element to be targeted Source: ad-view/lib/Markup.js, line 73 × Search results Close "},"MathUtils.html":{"id":"MathUtils.html","title":"Class: MathUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils MathUtils new MathUtils() Import from ad-utils // importing into an ES6 class import { MathUtils } from 'ad-utils' Common math utilities. Source: ad-utils/lib/MathUtils.js, line 1 Methods &lt;static&gt; getAngle() Source: ad-utils/lib/MathUtils.js, line 204 &lt;static&gt; getAnglePoint() Assumes original coordinate rotation is 0 radians Source: ad-utils/lib/MathUtils.js, line 188 Returns: containing an [xValue, yValue] given x1, y1, distance from that starting coordinate, and angle (in *radians*) which the new point should be from the starting coordinate Type array &lt;static&gt; getDistance() Source: ad-utils/lib/MathUtils.js, line 216 Returns: The distance between two points given x1, y1, x2, y2 Type number &lt;static&gt; inRange(val, a, b) Checks if a value is in the range of two numbers. Parameters: Name Type Description val number the number to check a number the first value of the range b number the second value of the range Source: ad-utils/lib/MathUtils.js, line 130 Returns: Type boolean Example MathUtils.inRange ( 5, 1, 10 ); // true MathUtils.inRange ( -5, 1, 10 ); // false &lt;static&gt; isNumber(num) Returns true if the passed var is a number. Parameters: Name Type Description num number the variable to check Source: ad-utils/lib/MathUtils.js, line 152 &lt;static&gt; random(a, b, increment) Get a random number between a range of two values, with an option to return to a decimal place. ( Note that due to the inprecision of decimal number calculation in Javascript, you may not get a perfect result when your increment value is decimal, but the value will be close. A classic Javascript inpreciosn calculation example: 0.1 + 0.2 = 0.30000000000000004 ) Parameters: Name Type Description a number the first value to find between b number the second value to find between increment number optionaly set the increment of the random number. Defaults to 1 Source: ad-utils/lib/MathUtils.js, line 40 Example MathUtils.random ( 1, 3, 1 ); // returns 1 or 2 or 3 MathUtils.random ( 1, 3, 0.5 ) // returns 1, 1.5, 2, 2.5 or 3 &lt;static&gt; randomBoolean(weight) Randomly returns a true or false; Parameters: Name Type Description weight number change the outcome probabilty. Greater than .5 more likely true. Defaults to .5 Source: ad-utils/lib/MathUtils.js, line 72 &lt;static&gt; rel(a0, a1, b0, b1, bX) Calculates a value between two numbers relative to a value between 2 other numbers. Returns The proportion between a0 and a1 relative to the bX proportion between b0 and b1 Parameters: Name Type Description a0 number the first value to find between a1 number the second value to find between b0 number the first value to use as relative to a0 b1 number the second value to use as relative to a1 bX number the value between b0 and b1 Source: ad-utils/lib/MathUtils.js, line 106 Example MathUtils.rel ( 0, 1, 10, 20, 15 ); // 0.5 MathUtils.rel ( 100, 300, 3, 5, 3.5 ); // 150 &lt;static&gt; restrict() Restricts a value to with a range. Source: ad-utils/lib/MathUtils.js, line 178 &lt;static&gt; toDegrees(radian) Converts an angle value from Radians to Degrees. Parameters: Name Type Description radian number An angle value as a radian Source: ad-utils/lib/MathUtils.js, line 28 &lt;static&gt; toNumber(str) Takes a numerical string and converts it to number type. Parameters: Name Type Description str string the variable to convert Source: ad-utils/lib/MathUtils.js, line 164 &lt;static&gt; toRadians(degree) Converts an angle value from Degrees to Radians. Parameters: Name Type Description degree number An angle value as a degree Source: ad-utils/lib/MathUtils.js, line 16 × Search results Close "},"Matrix2D.html":{"id":"Matrix2D.html","title":"Class: Matrix2D","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-geom Matrix2D new Matrix2D() Import from ad-geom // importing into an ES6 class import { Matrix2D } from 'ad-geom' Source: ad-geom/lib/Matrix2D.js, line 1 × Search results Close "},"Matrix3D.html":{"id":"Matrix3D.html","title":"Class: Matrix3D","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-geom Matrix3D new Matrix3D() Import from ad-geom // importing into an ES6 class import { Matrix3D } from 'ad-geom' Source: ad-geom/lib/Matrix3D.js, line 1 × Search results Close "},"MediaEvent.html":{"id":"MediaEvent.html","title":"Class: MediaEvent","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: MediaEvent MediaEvent new MediaEvent() Import from Github repo // importing into an ES6 class import { MediaEvent } from 'ad-video' Constants for video and audio events. Meant to improve interface consistency. Source: ad-video/lib/events/MediaEvent.js, line 1 Members &lt;static, constant&gt; AUTOPLAY :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 16 &lt;static, constant&gt; BUFFER :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 22 &lt;static, constant&gt; COMPLETE :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 28 &lt;static, constant&gt; FAIL :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 34 &lt;static, constant&gt; MUTE :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 40 &lt;static, constant&gt; PAUSE :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 46 &lt;static, constant&gt; PLAY :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 52 &lt;static, constant&gt; PROGRESS :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 58 &lt;static, constant&gt; READY :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 64 &lt;static, constant&gt; STOP :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 70 &lt;static, constant&gt; UNMUTE :string Type: string Source: ad-video/lib/events/MediaEvent.js, line 76 × Search results Close "},"module-Graphic.html":{"id":"module-Graphic.html","title":"Module: Graphic","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles Import from ad-particles // importing into an ES6 class import { Graphic } from 'ad-particles' A simple, light weight class for rendering shapes and images on canvas element with assigned style to work with the particle system. Graphic.Shape is the parent class that remains netural to keep the flexiblity to create more classes based on needs in different projects. To keep it practical while maintaining it as light as possible, there are four classes currently available: Graphic.Image Graphic.Sprite Graphic.Circle Graphic.Rect Source: ad-particles/lib/Graphic.js, line 3 × Search results Close "},"MonetUtils.html":{"id":"MonetUtils.html","title":"Class: MonetUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils MonetUtils new MonetUtils() Monet utilities. // importing into an ES6 class import { MonetUtils } from 'ad-utils' Source: ad-utils/lib/MonetUtils.js, line 1 × Search results Close "},"MotionUtils.html":{"id":"MotionUtils.html","title":"Class: MotionUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils MotionUtils new MotionUtils() Import from ad-utils // importing into an ES6 class import { MotionUtils } from 'ad-utils' This object is for accessing the mobile/tablet's accelerometer for tilt shifting values Source: ad-utils/lib/MotionUtils.js, line 1 Methods &lt;static&gt; activate(callback) Starts the listening for a move of the device Parameters: Name Type Description callback function a passed in method that will be called every time a device movement is detected. Source: ad-utils/lib/MotionUtils.js, line 65 &lt;static&gt; callibrate() Sets the relative zero position to the current orientation of the device. Source: ad-utils/lib/MotionUtils.js, line 88 &lt;static&gt; deactivate() Stops the listening for a move of the device. Source: ad-utils/lib/MotionUtils.js, line 78 &lt;static&gt; setSpeedLimits(negX, posX, negY, posY) Set the minimum and maximum values that can be returned Parameters: Name Type Description negX number minimum value returned when tilting left ( will be a negative number ) posX number maximum value returned when tilting right ( will be a positive number ) negY number minimum value returned when tilting backward ( will be a negative number ) posY number maximum value returned when tilting forward ( will be a positive number ) Source: ad-utils/lib/MotionUtils.js, line 32 &lt;static&gt; setSpeedMultiplier(multi) Set a percentage multiplier to amplify or minimize the returned value. Parameters: Name Type Description multi number a number to multiply the returned value by. Defaults to 1. Source: ad-utils/lib/MotionUtils.js, line 53 × Search results Close "},"NetUtils.html":{"id":"NetUtils.html","title":"Class: NetUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils NetUtils new NetUtils() Import from ad-utils // importing into an ES6 class import { NetUtils } from 'ad-utils' Utility functions that are common in making network requests. Source: ad-utils/lib/NetUtils.js, line 1 Methods &lt;static&gt; getQueryParameterBy(name) Analyses the URI query string and search for a key-value pair matching the requested var. Parameters: Name Type Description name string the query string variable name Source: ad-utils/lib/NetUtils.js, line 15 × Search results Close "},"ObjectUtils.html":{"id":"ObjectUtils.html","title":"Class: ObjectUtils","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-utils ObjectUtils new ObjectUtils() Import from ad-utils // importing into an ES6 class import { ObjectUtils } from 'ad-utils' Utilities for affecting objects. Source: ad-utils/lib/ObjectUtils.js, line 1 Members &lt;static&gt; objectifier This object is parent to a number of utility funcitons Properties: Name Type Description objectifier.get function ObjectUtils.get objectifier.set function ObjectUtils.set Source: ad-utils/lib/ObjectUtils.js, line 16 Methods &lt;static&gt; clone(obj) Get a clone of an object without reference. Parameters: Name Type Description obj object object to clone Source: ad-utils/lib/ObjectUtils.js, line 124 Returns: cloned object Type object Example // let oldObj = { a: 1, b: 2 }; let newObj = ObjectUtils.clone( oldObj ); newObj.a = 'xyz'; // oldObj.a is still 1 &lt;static&gt; defaults(obj, defaultObj, recursive) Get an object using an object as a default, when a property doesn't in the object, it takes it from the default object if it exists. It also checks nested objects. It is useful for setting up an object to store default values. Parameters: Name Type Description obj object an object contains custom properties to overide default properties defaultObj object an object contains properties to default to recursive boolean flag for if the property check should be executed recursively otherwise it will just be one level Source: ad-utils/lib/ObjectUtils.js, line 159 Example // our default object as a base set up let defaultObj = { name: 'Person', weight: 0, age: 0, gender: 'male', locationDetail: { state: 'CA', city: 'Los Angeles' } }; // the custom object let customObj = { name: 'Bob', weight: 140, age: 30, locationDetail: { city: 'Santa Monica', street: 'Ocean Park' } }; let result = ObjectUtils.defaults( customObj, defaultObj, true ); // your result object should look like { name: 'Bob', weight: 140, age: 30, gender: 'male', locationDetail: { state: 'CA', city: 'Santa Monica', street: 'Ocean Park' } } //if not recursive let result = ObjectUtils.defaults( customObj, defaultObj, false ); // your result object should look like ( notice that it takes the whole locationDetail object ) { name: 'Bob', weight: 140, age: 30, gender: 'male', locationDetail: { city: 'Santa Monica', street: 'Ocean Park' } } &lt;static&gt; get(str, ctxObj) Gets a property with a nested property key string. NOTE!!! This method is on the ObjectUtils.objectifier object! Parameters: Name Type Description str string a data string representing the key of desire property splited by dot. Array index is represented by number. For example, 'myObj.property1.0' means I'm pointing to the [0] element in my propperty1 array inside of myObj. ctxObj object the context object to find the property under, defaults to window Source: ad-utils/lib/ObjectUtils.js, line 28 Example // let myObj = { prop1: [ 'a', 'b', 'c' ], prop2: { string: 'I am prop2', func: function() { alert( '!!' ); } } }; let val = ObjectUtils.objectifier.get( 'prop1.0', myObj ); // your val should be 'a' val = ObjectUtils.objectifier.get( 'prop2.string', myObj ); // your val should be 'I am prop2' &lt;static&gt; set(str, val, ctxObj) Sets a property value with a nested property key string. NOTE!!! This method is on the ObjectUtils.objectifier object! Parameters: Name Type Description str string a data string representing the key of desire property splited by dot. Array index is represented by number. For example, 'myObj.property1.0' means I'm pointing to the [0] element in my propperty1 array inside of myObj. val any the value to set for th property ctxObj object the context object to find the property under, defaults to window Source: ad-utils/lib/ObjectUtils.js, line 66 Example // let myObj = { prop1: [ 'a', 'b', 'c' ], prop2: { string: 'I am prop2' } }; ObjectUtils.objectifier.set( 'prop1.0', 123, myObj ); // myObj.prop1[0] is now 123 ObjectUtils.objectifier.set( 'prop2.string', 'hello', myObj ); // myObj.prop2.string is now 'hello' × Search results Close "},"ParentTransform.html":{"id":"ParentTransform.html","title":"Class: ParentTransform","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-geom ParentTransform new ParentTransform() Import from ad-geom // importing into an ES6 class import { ParentTransform } from 'ad-geom' Source: ad-geom/lib/ParentTransform.js, line 1 × Search results Close "},"Particle.html":{"id":"Particle.html","title":"Class: Particle","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles Particle new Particle() Import from ad-particles // importing into an ES6 class import { Particle } from 'ad-particles' This Particle class is used along with ParticleModel and Emitter class. Source: ad-particles/lib/Particle.js, line 1 Methods &lt;static&gt; _checkBorder(axis, val) Check it the particle location reaches the border, if ture, it bounces to it. Parameters: Name Type Description axis string String 'x' or 'y' val number the location of the border on the X or Y axis Source: ad-particles/lib/Particle.js, line 192 &lt;static&gt; applyForce() Applies force to the particle. Source: ad-particles/lib/Particle.js, line 121 &lt;static&gt; checkWorld(w) Remains the particle in the defined world boundaries by its body size and bounces it when it hits the boundaries. Parameters: Name Type Description w array an array that contains left X, right X, top Y, bottom Y as values for the boundary Source: ad-particles/lib/Particle.js, line 163 &lt;static&gt; getAnimationStyle() Update the animated style of a particle Source: ad-particles/lib/Particle.js, line 85 &lt;static&gt; isDead() Returns a boolean of is the particle is dead depending on two situations: if it has reaches its lifespan, or if it is out of the canvas and if EmitterData.killIfOutOfCanvas is set to true Source: ad-particles/lib/Particle.js, line 131 Returns: Type boolean &lt;static&gt; render() Renders the particle onto the canvas context. Source: ad-particles/lib/Particle.js, line 110 &lt;static&gt; update() Updates the properties of the particle Source: ad-particles/lib/Particle.js, line 48 × Search results Close "},"ParticleModel.html":{"id":"ParticleModel.html","title":"Class: ParticleModel","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-particles ParticleModel new ParticleModel() Import from ad-particles // importing into an ES6 class import { ParticleModel } from 'ad-particles' This ParticleModel class is used along with Particle and Emitter class. Source: ad-particles/lib/ParticleModel.js, line 1 × Search results Close "},"Ratio.html":{"id":"Ratio.html","title":"Class: Ratio","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-view Ratio new Ratio() Import from ad-view // importing into an ES6 class import { Ratio } from 'ad-view' Utilities for different ratio layouts; used by UIImage and deprecated Flipbook. Source: ad-view/lib/Ratio.js, line 1 Members &lt;static, constant&gt; EXACT :string 'auto' ~ Images display at the exact height and width of the source Type: string Source: ad-view/lib/Ratio.js, line 16 &lt;static, constant&gt; FILL :string 'cover' ~ Scales the image to fill the target without distortion while maintaining aspect ratio, may cause a crop. Type: string Source: ad-view/lib/Ratio.js, line 23 &lt;static, constant&gt; FIT :string 'contain' ~ Scales to fit the full image without distortion while maintaining aspect ratio, may cause negative borders. Type: string Source: ad-view/lib/Ratio.js, line 30 &lt;static, constant&gt; STRETCH :string '100% 100%' ~ Images stretches to fill the target, may cause aspect ratio distortion. Type: string Source: ad-view/lib/Ratio.js, line 37 × Search results Close "},"RecurringSchedule.html":{"id":"RecurringSchedule.html","title":"Class: RecurringSchedule","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-dates RecurringSchedule new RecurringSchedule() Import from ad-dates // importing into an ES6 class import { RecurringSchedule } from 'ad-dates' This class is for determining the next showtime for events that repeat on a weekly basis. For example, you have a tune-in that is every Friday at 6pm, and you want your date messaging to update dynamically. var schedule = new RecurringSchedule({ tuneins: [ { days: ['Friday'], startTime: '18:00', eventDuration : 60 } ] }); For more complex schedules( like sports tournaments ), a more complex model might look like this var schedule = new RecurringSchedule({ tuneins: [ { days: ['Friday','Saturday','Sunday'], startTime: '21:00', eventDuration : 60, timezone: 'US/Eastern' }, { days: ['Monday','Tuesday','Wednesday','Thursday'], startTime: '18:00', eventDuration : 75, timezone: 'US/Eastern' } ] }); Just like DateSchedule, this uses the standard schedule to create the date messaging, which is accessed with the same methods. schedule.print() schedule.currentSchedule.print() schedule.currentSchedule.target.print() console.log(schedule.current) schedule.currentDate.print() console.log(schedule.currentLabel) Source: ad-dates/lib/RecurringSchedule.js, line 1 Members &lt;static&gt; current :object Getter : An object of the current date, label and optional callback Type: object Source: ad-dates/lib/RecurringSchedule.js, line 107 Example mySchedule.current.date mySchedule.current.label mySchedule.current.callback() &lt;static&gt; currentDate :TzDate Getter : Is direct access to the current date, same as mySchedule.current.date Type: TzDate Source: ad-dates/lib/RecurringSchedule.js, line 122 Example mySchedule.currentDate &lt;static&gt; currentLabel :String Getter : Is direct access to the current label, same as mySchedule.current.label Type: String Source: ad-dates/lib/RecurringSchedule.js, line 135 Example mySchedule.currentLabel &lt;static&gt; currentSchedule :object Getter : A DateSchedule is created for the current date, allowing for the standard messaging to be created Type: object Source: ad-dates/lib/RecurringSchedule.js, line 75 Example mySchedule.currentSchedule.print() Methods &lt;static&gt; print() Traces out all dates in order // called on Thursday 2017-06-01 14:08:00-07:00 mySchedule.print(); // DateSchedule.print(), length: 8 // - 0 Sat Jan 01 2000 00:00:00 UTC label: 1/1 12:00 am // - 1 Thu Jun 01 2017 18:00:00 US/Eastern label: undefined // - 2 Fri Jun 02 2017 21:00:00 US/Eastern label: undefined // - 3 Sat Jun 03 2017 21:00:00 US/Eastern label: undefined // - 4 Sun Jun 04 2017 21:00:00 US/Eastern label: undefined // - 5 Mon Jun 05 2017 18:00:00 US/Eastern label: undefined // - 6 Tue Jun 06 2017 18:00:00 US/Eastern label: undefined // - 7 Wed Jun 07 2017 18:00:00 US/Eastern label: undefined Source: ad-dates/lib/RecurringSchedule.js, line 152 × Search results Close "},"SheetManager.html":{"id":"SheetManager.html","title":"Class: SheetManager","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-control SheetManager new SheetManager() Import from ad-control // importing into an ES6 class import { SheetManager } from 'ad-control' Class manages the creation of &lt;style&gt; tags and the addition/removal of classes. Source: ad-control/lib/SheetManager.js, line 1 Methods &lt;static&gt; addClass(target, className) Add a CSS class ASSOCIATION to the targeted element. Parameters: Name Type Description target string | element id or element to which css style should be added className string css class association to be added to this target Source: ad-control/lib/SheetManager.js, line 82 &lt;static&gt; createGlobalNode(nodeId, styles) Create a new CSS node (class, tag, etc) DEFINITION with submitted styles with selector/CSS string pair or a self-contained CSS string including selectors. Parameters: Name Type Description nodeId string the id of the &lt;style&gt; node written to the &lt;head&gt; styles string selector/CSS string pair as separate parameters, following 'selector', 'css string' pattern, or a self-contained CSS style string including selectors, like '.myClass{ color: blue; }' Source: ad-control/lib/SheetManager.js, line 17 Example // selector/CSS string pair SheetManager.createGlobalNode ( 'myFirstStyle', '.class-a', 'position:absolute; width:inherit;' ) // or add multiple class declarations to the same node SheetManager.createGlobalNode ( 'mySecondStyle', '.class-b', 'position:absolute;', '.class-b-top', 'width:inherit; height:inherit;' ) // or have mulitple classes share the same logic SheetManager.createGlobalNode ( 'myThirdStyle', '.class-c, .class-d', 'position:absolute;' ) // add style to a tag globally SheetManager.createGlobalNode ( 'myFourthStyle', 'h1', 'position:absolute;' ) // self-contained CSS string var myCssString = '.myClass, h1 { color: blue; margin: 10px; }'; SheetManager.createGlobalNode( 'myFifthStyle', myCssString ); &lt;static&gt; removeClass(target, className) Removes a CSS class ASSOCIATION from the targeted element. Parameters: Name Type Description target string | element id or element from which css style should be removed className string css class association to be removed from this target Source: ad-control/lib/SheetManager.js, line 101 × Search results Close "},"SimpleNoise2D.html":{"id":"SimpleNoise2D.html","title":"Class: SimpleNoise2D","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-geom SimpleNoise2D new SimpleNoise2D() Import from ad-geom // importing into an ES6 class import { SimpleNoise2D } from 'ad-geom' SimpleNoise2D is a workaround for creating 2D noise with lightweight code. It returns a Vector2D with x and y values between -0.5 - 0.5. For a more sophisticated purpose, please use Perline Noise https://github.com/josephg/noisejs Source: ad-geom/lib/SimpleNoise2D.js, line 1 × Search results Close "},"SpritePlayer.html":{"id":"SpritePlayer.html","title":"Class: SpritePlayer","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-animation SpritePlayer new SpritePlayer(arg) Import from ad-animation // importing into an ES6 class import { SpritePlayer } from 'ad-animation' SpritePlayer is an image sequence player. This can be used as a stand alone player or can be used with other systems such as CanvasDrawer. // Stand Alone Example: var myPlayer = new SpritePlayer ({ id : 'my-canvas', target : View.main, css : { x : 10, y : 15, width : 160, height : 160, backgroundColor : '#cccccc' }, source : 'star_160x160_16f', sprite : { x : 0, y : 0, frameWidth : 160, frameHeight : 160, frameNumber : 16, //transformOrigin: { x: 0.5, y: 0.5 } //scale : 2 }, //autoPlay : false, loop : 4, frame : 0, speed:22, //freeze : true, onComplete:function(){ FrameRate.unregister ( A, handleTick, 15 ) } }); Parameters: Name Type Description arg object See the example below to see all of the properties of this object. Source: ad-animation/lib/SpritePlayer.js, line 1 Members &lt;static&gt; endframe :number A number representing the endframe. Type: number Source: ad-animation/lib/SpritePlayer.js, line 205 Example trace ( myPlayer.frame ); myPlayer.endFrame = 7; myPlayer.play() &lt;static&gt; frame :number A number representing the current frame displayed. Type: number Source: ad-animation/lib/SpritePlayer.js, line 180 Example console.log( myPlayer.frame ); myPlayer.frame = 7; &lt;static&gt; loop :boolean A boolean to toggle if the Sprite will continuously play. Type: boolean Source: ad-animation/lib/SpritePlayer.js, line 151 Example console.log( myPlayer.loop ); myPlayer.loop = true; &lt;static&gt; onComplete :function A callback for when the Sprite is finished. Type: function Source: ad-animation/lib/SpritePlayer.js, line 118 &lt;static&gt; onComplete :function A callback for when the Sprite loops. Type: function Source: ad-animation/lib/SpritePlayer.js, line 126 &lt;static&gt; speed :number A number representing the FrameRate, only applies when used as a stand alone player. Type: number Source: ad-animation/lib/SpritePlayer.js, line 228 Example console.log( myPlayer.speed ); myPlayer.speed = 18; &lt;static&gt; sprite :Graphic.Sprite Direct access to the sprite object, which is used to manipulate the drawing within the canvas. Type: Graphic.Sprite Source: ad-animation/lib/SpritePlayer.js, line 137 Example TweenLite.to ( myPlayer.sprite, 3, { x:180, y:240, alpha:.2, scale:1, rotation:270 }); Methods &lt;static&gt; pause() Pauses the current sprite sheet. Source: ad-animation/lib/SpritePlayer.js, line 268 Example myPlayer.pause(); &lt;static&gt; play() Plays the current sprite sheet. Source: ad-animation/lib/SpritePlayer.js, line 251 Example myPlayer.play(); &lt;static&gt; render() Render the current frame on to the canvas. Source: ad-animation/lib/SpritePlayer.js, line 302 Example myPlayer.render(); &lt;static&gt; stop() Stops the sprite sheet and resets it to the beginning. Source: ad-animation/lib/SpritePlayer.js, line 284 Example myPlayer.stop(); × Search results Close "},"Styles.html":{"id":"Styles.html","title":"Class: Styles","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-view Styles new Styles() Import from ad-view // importing into an ES6 class import { Styles } from 'ad-view' Utilities for CSS style related purposes. Source: ad-view/lib/Styles.js, line 4 Methods &lt;static&gt; addClass(target, className) Add a CSS class ASSOCIATION to the targeted element. Parameters: Name Type Description target string | element id or element to which css style should be added className string css class association to be added to this target Source: ad-view/lib/Styles.js, line 142 &lt;static&gt; getCss(_target, key) Gets a specific style for a particular key. Parameters: Name Type Description _target string | element id or element to which css style should be applied key string css key Source: ad-view/lib/Styles.js, line 53 &lt;static&gt; injectStylesheet(nodeId, styles) Creates a new CSS stylesheet node (class, tag, etc) DEFINITION out of the submitted styles. Parameters: Name Type Description nodeId string the id of the &lt;style&gt; node written to the &lt;head&gt; styles string | object | array any type of CssDeclaration: an object of key-value pairs, a semicolon separated string of styles, or a separate( key, value )arguments Source: ad-view/lib/Styles.js, line 80 Example // selector/CSS string pair Styles.injectStylesheet( 'myFirstStyle', '.class-a', 'position:absolute; width:inherit;' ) // selector/CSS string pair: add multiple class declarations to the same node Styles.injectStylesheet( 'mySecondStyle', '.class-b', 'position:absolute;', '.class-b-top', 'width:inherit; height:inherit;' ) // selector/CSS string pair: have mulitple classes share the same logic Styles.injectStylesheet( 'myThirdStyle', '.class-c, .class-d', 'position:absolute;' ) // selector/CSS string pair: add style to a tag name globally Styles.injectStylesheet( 'myFourthStyle', 'h1', 'position:absolute;' ) // self-contained CSS string var myCssString = '.myClass, h1 { color: blue; margin: 10px; }'; Styles.injectStylesheet( 'myFifthStyle', myCssString ); &lt;static&gt; removeClass(target, className) Removes a CSS class ASSOCIATION from the targeted element. Parameters: Name Type Description target string | element id or element from which css style should be removed className string css class association to be removed from this target Source: ad-view/lib/Styles.js, line 161 &lt;static&gt; setCss(_target, args) Sets specified styles on target object. Parameters: Name Type Description _target string | element id or element to which the style(s) should be applied args string | object | array any type of CssDeclaration, an object of key-value pairs, a semicolon separated string of styles, or a separate( key, value )arguments Source: ad-view/lib/Styles.js, line 19 Example // set multiple styles using a css-string Styles.setCss ( myDiv, 'top: 30px; left: 10px' ); // set multiple styles using a css-object, same as the 'css' property on UIComponents Styles.setCss ( myDiv, { top:30, left:10 }); // set a single style, using individual( key, value )args Styles.setCss ( myDiv, 'top', 30 ); × Search results Close "},"TextFormat.html":{"id":"TextFormat.html","title":"Class: TextFormat","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui TextFormat new TextFormat() Import from ad-ui // importing into an ES6 class import { TextFormat } from 'ad-ui' Custom constants to identify the layout type for a . Each type changes the format of how the text content is displayed and will run an internal auto size if applicable to the type. Source: ad-ui/lib/TextFormat.js, line 1 Members &lt;static, constant&gt; INLINE :string UITextField lays out the words inline with no word wrapping, which does not necessarily mean only 1 line. If html &lt;br&gt; tags are used, they will be honored, but no autmatic line breaking happens. This does NOT auto size and will overflow horizontally and vertically depending on the width and height. Type: string Source: ad-ui/lib/TextFormat.js, line 17 Example TextFormat.INLINE &lt;static, constant&gt; INLINE_CLAMP :string UITextField lays out the words inline with no word wrapping, which does not necessarily mean only 1 line. If html &lt;br&gt; tags are used, they will be honored, but no autmatic line breaking happens. This does NOT auto size, however it changes the width AND height of the UITextField to clamp to the size of the content. Type: string Source: ad-ui/lib/TextFormat.js, line 31 Example TextFormat.INLINE_CLAMP &lt;static, constant&gt; INLINE_FIT :string UITextField lays out the words inline with no word wrapping, which does not necessarily mean only 1 line. If html &lt;br&gt; tags are used, they will be honored, but no autmatic line breaking happens. This DOES auto size and will shrink horizontally and vertically to fit inside the width and height. Type: string Source: ad-ui/lib/TextFormat.js, line 44 Example TextFormat.INLINE_FIT &lt;static, constant&gt; INLINE_FIT_CLAMP :string This is a combination that applies TextFormat.INLINE_FIT followed by TextFormat.INLINE_CLAMP would then become Type: string Source: ad-ui/lib/TextFormat.js, line 57 Example TextFormat.INLINE_FIT_CLAMP &lt;static, constant&gt; PARAGRAPH :string UITextField uses word wrapping to automatically break lines creating a paragraph layout. This does NOT auto size and will overflow vertically, just like a webpage. Type: string Source: ad-ui/lib/TextFormat.js, line 72 Example TextFormat.PARAGRAPH &lt;static, constant&gt; PARAGRAPH_CLAMP :string UITextField uses word wrapping to automatically break lines creating a paragraph layout. This does NOT auto size and will overflow vertically, just like a webpage. However, while maintaining the defined width, it changes the height of the UITextField to clamp to the size of the content. Type: string Source: ad-ui/lib/TextFormat.js, line 84 Example TextFormat.PARAGRAPH_CLAMP &lt;static, constant&gt; PARAGRAPH_FIT :string UITextField uses word wrapping to automatically break lines creating a paragraph layout. This DOES auto size and will shrink the entire chunk to fit inside the width and height. Type: string Source: ad-ui/lib/TextFormat.js, line 97 Example TextFormat.PARAGRAPH_FIT &lt;static, constant&gt; PARAGRAPH_FIT_CLAMP :string This is a combination that applies TextFormat.PARAGRAPH_FIT followed by TextFormat.PARAGRAPH_CLAMP would then become Type: string Source: ad-ui/lib/TextFormat.js, line 109 Example TextFormat.PARAGRAPH_FIT_CLAMP × Search results Close "},"TextSplitType.html":{"id":"TextSplitType.html","title":"Class: TextSplitType","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui TextSplitType new TextSplitType() Import from ad-ui // importing into an ES6 class import { TextSplitType } from 'ad-ui' Constants defining how a UISplitText should break apart the textfields Source: ad-ui/lib/TextSplitType.js, line 1 Members &lt;static, constant&gt; CHARACTERS :string Limits the splitting of a UISplitText to lines, words, and also characters Type: string Source: ad-ui/lib/TextSplitType.js, line 38 Example TextSplitType.CHARACTERS &lt;static, constant&gt; LINES :string Limits the splitting of a UISplitText to line and words only Functionally identical to TextSplitType.WORDS Type: string Source: ad-ui/lib/TextSplitType.js, line 16 Example TextSplitType.LINES &lt;static, constant&gt; WORDS :string Limits the splitting of a UISplitText to line and words only Functionally identical to TextSplitType.LINES Type: string Source: ad-ui/lib/TextSplitType.js, line 27 Example TextSplitType.WORDS × Search results Close "},"Timezone.html":{"id":"Timezone.html","title":"Class: Timezone","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-dates Timezone new Timezone() Import from ad-dates // importing into an ES6 class import { Timezone } from 'ad-dates' This class provides methods for accessing Timezone offsets, used by the TzDate class. Explicitly covered Timezones: US/Eastern US/Central US/Mountain US/Pacific US/Alaska US/Arizona US/Hawaii Australia/Brisbane Australia/Sydney America/Mexico_City America/Bogota America/Argentina/Buenos_Aires Source: ad-dates/lib/Timezone.js, line 1 Methods &lt;static&gt; get() Returns an object with the timezone's label and value Properties: Name Type Description timezone object | string The timezone constant, label or value of the Timezone object desired. Source: ad-dates/lib/Timezone.js, line 121 Returns: Type string × Search results Close "},"TzDate.html":{"id":"TzDate.html","title":"Class: TzDate","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-dates TzDate new TzDate() Import from ad-dates // importing into an ES6 class import { TzDate } from 'ad-dates' This class is a wrapper for the Javascript &quot;Date&quot; object. The standard Date object only returns the local time. TzDate returns that local time but adds the ability to get that same date, time, and meridium in ANY timezone, without extra conversions. Simply ask for anything in any timezone and it will return you the adjusted date/time while maintaining the original date. One thing to understand is the difference between: the timezone the TzDate is being DECLARED in versus the timezone the TzDate is DISPLAYING in. When creating a TzDate, you will be providing the date, time, and timezone of the DECLARED time. A way to think of it would be: If you are in Los Angeles, you are in the US/Pacific timezone. So if you look at your calendar and clock on the wall, you would enter that date, time and provide the timezone for US/Pacific. const myDate = new TzDate({ datetime: ['2017-05-18T12:00:00', 'US/Pacific'] }) console.log(myDate) // &quot;Thu May 18 2017 12:00:00 GMT-0700 (PDT)&quot; myDate.print() // &quot;Thu May 18 2017 12:00:00 US/Pacific&quot; Tracing out a date can get confusing with that end part &quot;GMT-0700 (PDT)&quot;. That is how the browser reports the local timezone. However, we need to be able to see the date clearly in any timezone. The print() method allows for a clearer output specifically telling you what timezone you have asked for. Lets look at that same date in other timezones: myDate.print('US/Mountain') // &quot;Thu May 18 2017 13:00:00 US/Mountain&quot; myDate.print('US/Eastern') // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; An important concept to understand is UTC = Universal Time Coordinated. All time is based off of &quot;zero&quot; point, which is also called Greenwich Mean Time. Let's look at our same time in UTC: myDate.print('UTC') // &quot;Thu May 18 2017 19:00:00 UTC&quot; You can start to see how the timezones affect time by seeing that noon on the west coast is the same 7 PM (aka 19 hours) at the origin. So the time we first declared at the beginning could also be created as any of these other times that we have seen. Remember that when a time is created, no matter what timezone, there is a different way of saying it, but the actual time is just a snap shot of a momnet in time. Let's look at how we could create the same date different ways: const myDate_eastern = new TzDate({ datetime: ['2017-05-18T15:00:00', 'US/Eastern'] }) myDate_eastern.print() // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; myDate_eastern.print('US/Pacific') // &quot;Thu May 18 2017 12:00:00 US/Pacific&quot; This time, we created the date as if we were on the east coast in the US/Eastern timezone, so the clock on the wall would say 3:00 PM. Notice that all the outputs are all the same, that is because these dates are the same moment, just expressed differently. Sometimes, you will create the date IN a specific timezone, but you always want to see it in another. Lets take our first date we created. We could pass the timezone into the print() method everytime, but that can get repetitive and sometimes you don't have access to that timezone later on. So you can create an outputTimezone for the date, so all methods will return in that timezone: const myDate = new TzDate({ datetime: ['2017-05-18T12:00:00', 'US?Pacific'], outputTimezone: 'US/Eastern' }) myDate.print() // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; This can be also changed after the date was created, and again it will always output to that timezone. BUT, if you pass in a timezone to a method, that will take priority: myDate.outputTimezone = 'US/Pacific' myDate.print() // &quot;Thu May 18 2017 12:00:00 US/Pacific&quot; myDate.print('US/Eastern') // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; On to slightly more advanced concepts: ISO dates. Notice that the date strings we have been passing in so far have been in this format: '2017-05-18T12:00:00' // Year - Month - Day T Hour : Minute : Second This is a partial ISO date string. The last part that is missing is the timezone. So our first date we created, in proper ISO would actually look like this: '2017-05-18T12:00:00-07:00' // Year - Month - Day T Hour : Minute : Second - US/Pacific Timezone The -07:00 on the end is the timezone of the time. Think of it like this: The date and time are what you see on that clock and calendar on your wall where you are currently standing. That last part, the timezone, is saying how far FROM the origin (UTC) you are. Lets look at it as a simple math problem. (origin zero point) - timezone = (date and time where you are) UTC - 07:00 = 2017-05-18T12:00:00 UTC = 2017-05-18T12:00:00 + 07:00 UTC = 2017-05-18T19:00:00+00:00 This proper ISO full datetime can be used when creating a TzDate, rather than the array if you are confident of the timezone: const myDate = new TzDate({ datetime: '2017-05-18T12:00:00-07:00' }) myDate.print() // &quot;Thu May 18 2017 12:00:00 US/Pacific&quot; Velvet JSON dates Dates that are in the Velvet JSON will be in proper ISO format AND there will be a timezone provided, like so: const jsonDateSnippet = { datetime : &quot;2017-05-18T19:00:00+00:00&quot;, timezone : &quot;US/Eastern&quot; } This is providing the date/time in UTC and then saying that the dates should be output in US/Eastern timezone. So we would create our TzDate: const myDate = new TzDate({ datetime: jsonDateSnippet.datetime, outputTimezone: jsonDateSnippet.timezone }) myDate.print() // &quot;Thu May 18 2017 15:00:00 US/Eastern&quot; Source: ad-dates/lib/TzDate.js, line 1 Members &lt;static&gt; outputTimezone :object|string|number Getter|Setter : Change the timezone that all methods will default return the date/time in. Does NOT change the date, just how it is output. Type: object | string | number Source: ad-dates/lib/TzDate.js, line 216 Example // get console.log(myDate.outputTimezone) // set myDate.outputTimezone = 'US/Eastern' Methods &lt;static&gt; clone() A shorthand for making a new TzDate with the same datetime and outputTimezone Properties: Name Type Description newTimezone object | string | number Change the outputTimezone of the new reeturned TzDate Source: ad-dates/lib/TzDate.js, line 240 Returns: Type TzDate Example var myCopy = myDate.clone() myCopy.print() &lt;static&gt; format() Direct usage of DateFormatter.format() Properties: Name Type Description format String Pass in a mark up output of the date, including html, inline styling and spacing. In place of key data, use tokens from chart wrapped in ${} args Object Optional Object to change the outputTimezone, langouage of formatting Source: ad-dates/lib/TzDate.js, line 284 Returns: Type String Example const output = myDate.format('${M}/${D}/${YYYY}') &lt;static&gt; getHoursIn() Similar to Date.getHours(), but this will return the hours in a specified timezone, defaulting to the outputTimezone of the instance Properties: Name Type Description inTimezone object | string | number The timezone at which you would like the hours, if null, will use the outputTimezone inMilitary boolean Whether the hours should be in military 24 hour or standard 12 hour. true = base 24, false = base 12. Default is false. Source: ad-dates/lib/TzDate.js, line 260 Returns: Type number Example var hours = myDate.getHoursIn('US/Eastern', false) &lt;static&gt; getIn() If you need the actual TzDate object with the adjust time applied. WARN: This will return a TzDate with a different base time. This method is mostly used by other internal methods and DateSchedule. This should be used with caution. Properties: Name Type Description inTimezone object | string | number The timezone at which you would like the TzDate CHANGED to Source: ad-dates/lib/TzDate.js, line 301 Returns: Type TzDate Example var changedDate = myDate.getIn('US/Eastern') &lt;static&gt; print() Is a shorthand for .toFullDateTime() Properties: Name Type Description inTimezone object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. Source: ad-dates/lib/TzDate.js, line 338 Returns: Type string Example myDate.print('US/Eastern') &lt;static&gt; toDate() Returns a string in the format &quot;MM/DD/YYYY&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. Source: ad-dates/lib/TzDate.js, line 389 Returns: Type string &lt;static&gt; toDateTime() Returns a string in the format &quot;MM/DD/YYYY HH:MMa/p&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. Source: ad-dates/lib/TzDate.js, line 403 Returns: Type string &lt;static&gt; toFullDateTime() Returns a string in the format of &quot;Weekday Mon DD YYYY HH:MM:SS Timezone&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. Source: ad-dates/lib/TzDate.js, line 355 Returns: Type string &lt;static&gt; toMeridiem() Returns the meridiem &quot;am&quot;, &quot;pm&quot; or &quot;am/et&quot;, &quot;am/et&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. includeTimezone boolean Whether to include the timezone, defaults to false Source: ad-dates/lib/TzDate.js, line 471 Returns: Type string Example myDate.toMeridiem(); // returns &quot;am&quot; or &quot;pm&quot; myDate.toMeridiem(Timezone.PST ); // returns &quot;am&quot; or &quot;pm&quot;, of the datetime in Pacific Timezone myDate.toMeridiem(Timezone.PST, true ); // returns &quot;am/pt&quot; or &quot;pm/pt&quot;, of the datetime in Pacific Timezone myDate.toMeridiem ( null, true ); // returns &quot;am/et&quot; or &quot;pm/et&quot;, of the datetime in the outputTimezone &lt;static&gt; toShortestTime() Returns a string in the format &quot;HH:MM&quot;, but if there are no minutes will return &quot;HH&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. inMilitary boolean Whether the hours should be in military 24 hour or standard 12 hour. true = base 24, false = base 12. Default is false. Source: ad-dates/lib/TzDate.js, line 498 Returns: Type string &lt;static&gt; toSimpleDate() Returns a string in the format &quot;MM/DD&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. Source: ad-dates/lib/TzDate.js, line 375 Returns: Type string &lt;static&gt; toSimpleDateTime() Returns a string in the format &quot;MM/DD HH:MM&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. Source: ad-dates/lib/TzDate.js, line 416 Returns: Type string &lt;static&gt; toSimpleTime() Returns a string in the format &quot;HH:MM&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. inMilitary boolean Whether the hours should be in military 24 hour or standard 12 hour. true = base 24, false = base 12. Default is false. Source: ad-dates/lib/TzDate.js, line 442 Returns: Type string Example myDate.toSimpleTime(); myDate.toSimpleTime('US/Pacific') myDate.toSimpleTime('US/Pacific', true) &lt;static&gt; toTime() Returns a string in the format &quot;HH:MM AM/PM&quot; Properties: Name Type Description inTimezone Timezone | object | string | number The timezone at which you would like the TzDate printed out as, defaults to outputTimezone. Source: ad-dates/lib/TzDate.js, line 429 Returns: Type string × Search results Close "},"UIBorder.html":{"id":"UIBorder.html","title":"Class: UIBorder","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UIBorder new UIBorder(arg) Import from ad-ui // importing into an ES6 class import { UIBorder } from 'ad-ui' This is a display object class, extending UIDiv which adds a border to a div. Parameters: Name Type Description arg object Properties: Name Type Description id string Element id. target element DOM Element in which to create this border. size number Border thickness. color string Hex code representing border color. Source: ad-ui/lib/UIBorder.js, line 1 Example // simple button that passes in an image to the bg and 2 images as the icons for the different states of the button. Notice no width or height is set. var myBorder = new UIBorder({ id : 'my-border', target : View.main, size : 1, color : '#ff0000' }) Members &lt;static&gt; color Getter|Setter : A String representing the color of the border. Source: ad-ui/lib/UIBorder.js, line 79 Example // SET myBorder.color = '#fff000'; // GET console.log( myBorder.color ) &lt;static&gt; size Getter|Setter : A Number representing the size of the border in pixels. Source: ad-ui/lib/UIBorder.js, line 52 Example // SET myBorder.size = 4; // GET console.log( myBorder.size ) × Search results Close "},"UIButton.html":{"id":"UIButton.html","title":"Class: UIButton","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UIButton new UIButton() Import from ad-ui // importing into an ES6 class import { UIButton } from 'ad-ui' This is a display object class, extending UIComponent. It is a DOM element that has a child handling system for toggling the active state. By extending UIComponent this has all of its native properties and methods. See UIComponent for more info. Note: When adding a bg element or icons, there is no need to set the width and height at the css level. The UIButton will inherit the dimensions of the children. However, if either the width or height is set, that will be the size of the UIButton. The hit state is the UIButton itself so keep in mind that even if the content is very large, if the css sets the width and height to a smaller amount, there will be a small hit area for clicks, rollovers and rollouts. Sample 1: // Create a simple button on the Main container that passes in an image to the bg and 2 images // as the icons for the different states of the button. Notice no width or height is set. T.myButton = new UIButton({ id : 'my-btn', target : T, css : { x : 30, y : 10 }, bg : 'btnBg', icon : [ 'btnPlay', 'btnPause' ], onClick : handleMyButtonClick }); function handleMyButtonClick ( event ){ console.log( event.target, 'clicked' ) } // referenced later anywhere outside the class by View.main.myButton Sample 2: // create the same button as above, but more customized images // for the bg and the different states T.myButton = new UIButton({ id : 'my-btn', target : T, css : { x : 30, y : 10 }, bg : new UIImage({ source : 'btnBg', css : { width : 120, height : 40, } }), icon : [ new UIImage({ source : 'btnPause', css : { x : 20, y : 10, width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }), new UIImage({ source : 'btnPause', css : { x : 20, y : 10, width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }) ], onClick : handleMyButtonClick }); Sample 3: // create a button with a textfield passed in as the icon state of the button // also it is aligned inline rather than with Align.set() T.myButton = new UIButton({ id : 'my-btn', target : T, css : { width : 100, height : 40, backgroundColor : '#ff0000' }, bg : 'btnBg', icon: [ new UITextField ({ css : { width : 150, height : 40, color : '#ffffff' }, fontSize : 12, fontFamily : 'template_font', format : TextFormat.INLINE_FIT, alignText : Align.CENTER, text : 'CLICK FOR MORE' }) ], align : { x : Align.CENTER, y : { type : Align.BOTTOM, offset : -30 } } onClick : handleMyButtonClick }); Sample Extension: // When needing to make a custom button, use this template then add code accordingly function UIButtonExtend( arg ){ var U = new UIButton ( arg ); U._onClick = function ( event ){ // extended click method } function handleBaseEnabled ( event ){ var listener = U.enabled ? 'addEventListener' : 'removeEventListener' ; // handle other listeners } U.addEventListener ( UIEvent.ENABLED, handleBaseEnabled ) U.enabled = true; return U; } Source: ad-ui/lib/UIButton.js, line 1 Members &lt;static&gt; bg :element Getter : The bottom most element of a UIButton. This allows for a background image to be set with a UIImage, or any other UIComponent natively. It is set in the constructor as the bg: param. This allows public access to that element to that element as a getter, without allowing to overwrite the content. Example 1 Internally create a UIImage as the background: var myButton = new UIButton({ bg : 'btnBg' }); Example 2 Pass in a UIImage to add custom css to the elements: var myButton = new UIButton({ bg : new UIImage({ source : 'btnBg', css : { width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }) }); Type: element Source: ad-ui/lib/UIButton.js, line 217 &lt;static&gt; icon :array Getter : An Array of the icons, which are set as an array in the constructor as the icon:[] param. This allows public access to those icons as getters, without allowing to overwrite the array content. When clicking the button, it will auto toggle between 0 and 1, however this can be set to any other state that is avaiable. When instantiating, pass in the elements as either strings for the name of images to create UIImages or use other dom elements such as UIComponents to create custom style. Example 1 Internally creates 2 UIImages as the icons, aka states, of the button: var myButton = new UIButton({ icon : [ 'btnPlay', 'btnPause' ] }); Example 2 Pass in 2 UIImages as the icons of the button, to add custom css to the elements: var myButton = new UIButton({ icon : [ new UIImage({ source : 'btnPause', css : { x : 20, y : 10, width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }), new UIImage({ source : 'btnPause', css : { x : 20, y : 10, width : 80, height : 20, backgroundColor : 'rgba(0,100,100,.5)' } }) ] }); Type: array Source: ad-ui/lib/UIButton.js, line 255 &lt;static&gt; state :element Getter|Setter : A Number representing the index of which icon is being displayed, aka the state of the button. These are set as an array in the constructor as the icon:[] param. When clicking the button, it will auto toggle between 0 and 1, however this can be set to any other state that is avaiable. Example Internally creates 3 UIImages as the icons of the button, which will toggle between 'btnPlay' and 'btnPause', but can manually set to show 'btnAlt' by setting state to 2: var myButton = new UIButton({ icon : [ 'btnPlay', 'btnPause', 'btnAlt' ] }); myButton.state = 2 // sets the button to 'btnAlt' Type: element Source: ad-ui/lib/UIButton.js, line 311 &lt;static&gt; togglable :boolean A Boolean to set whether or not the button will toggle between the different states of the button, which switches the visiblity of the child elements Type: boolean Source: ad-ui/lib/UIButton.js, line 206 Methods &lt;static&gt; onClick() A Method that will be called on click of the button. This is set in the constructor or can be manually assigned. It is a shorthand for calling Gesture.addEventListener( myButton, GestureEvent.CLICK, handleClick ); Source: ad-ui/lib/UIButton.js, line 353 &lt;static&gt; onOut() A Method that will be called on roll out of the button. This is set in the constructor or can be manually assigned. It is a shorthand for calling Gesture.addEventListener( myButton, GestureEvent.OUT, handleRollOut ); Source: ad-ui/lib/UIButton.js, line 375 &lt;static&gt; onOver() A Method that will be called on roll over of the button. This is set in the constructor or can be manually assigned. It is a shorthand for calling Gesture.addEventListener( myButton, GestureEvent.OVER, handleRollOver ); Source: ad-ui/lib/UIButton.js, line 364 &lt;static&gt; toString() A String representing the object type. Source: ad-ui/lib/UIButton.js, line 386 Returns: [object UIButton] Type string × Search results Close "},"UIButtonFullScreen.html":{"id":"UIButtonFullScreen.html","title":"Class: UIButtonFullScreen","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: UIButtonFullScreen UIButtonFullScreen new UIButtonFullScreen() Import from Github repo // importing into an ES6 class import { UIButtonFullScreen } from 'ad-video' This is a display object class, extending UIButton with direct control to a VideoPlayer instance. It controls the fullscreen for the VideoPlayer. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a VideoPlayer instance. See UIButton for more info. Sample 1 Add the button to the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onControlBar : { buttonFullScreen : { css : { backgroundColor : 'rgb(100,200,10)' }, state : [ 'btnFullScreen' ] } } } }); Sample 2 Add the button on the screen, NOT on the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonFullScreen : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ 'btnFullScreen' ] }, }, } }); Sample 3 Use DOM elements as the states of the button, to have more contorl over their css var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonFullScreen : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ new UIImage({ source : 'btnFullScreen', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(100,100,0,.5)' } }) ] }, } } }); Source: ad-video/lib/ui/UIButtonFullScreen.js, line 1 × Search results Close "},"UIButtonMute.html":{"id":"UIButtonMute.html","title":"Class: UIButtonMute","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: UIButtonMute UIButtonMute new UIButtonMute() Import from Github repo // importing into an ES6 class import { UIButtonMute } from 'ad-video' This is a display object class, extending UIButton with direct control to a VideoPlayer instance. It controls the muting and unmuting for the VideoPlayer. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a VideoPlayer instance. See UIButton for more info. Sample 1 Add the button to the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onControlBar : { buttonMute : { css : { backgroundColor : 'rgb(100,200,10)' }, state : [ 'btnUnMute', 'btnMute' ] } } } }); Sample 2 Add the button on the screen, NOT on the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonMute : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ 'btnUnMute', 'btnMute' ] }, }, } }); Sample 3 Use DOM elements as the states of the button, to have more contorl over their css var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonMute : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ new UIImage({ source : 'btnUnMute', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(100,100,0,.5)' } }), new UIImage({ source : 'btnMute', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(0,100,100,.5)' } }) ] }, } } }); Source: ad-video/lib/ui/UIButtonMute.js, line 1 × Search results Close "},"UIButtonPlayPause.html":{"id":"UIButtonPlayPause.html","title":"Class: UIButtonPlayPause","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: UIButtonPlayPause UIButtonPlayPause new UIButtonPlayPause() Import from Github repo // importing into an ES6 class import { UIButtonPlayPause } from 'ad-video' This is a display object class, extending UIButton with direct control to a VideoPlayer instance. It controls the playing and pausing for the VideoPlayer. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a VideoPlayer instance. See UIButton for more info. Sample 1 Add the button to the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onControlBar : { buttonPlayPause : { css : { backgroundColor : 'rgb(100,200,10)' }, state : [ 'btnPlay', 'btnPause' ] } } } }); Sample 2 Add the button on the screen, NOT on the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonPlayPause : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ 'btnPlay', 'btnPause' ] }, }, } }); Sample 3 Use DOM elements as the states of the button, to have more contorl over their css var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonPlayPause : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ new UIImage({ source : 'btnPlay', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(100,100,0,.5)' } }), new UIImage({ source : 'btnPause', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(0,100,100,.5)' } }) ] }, } } }); Source: ad-video/lib/ui/UIButtonPlayPause.js, line 1 × Search results Close "},"UIButtonReplay.html":{"id":"UIButtonReplay.html","title":"Class: UIButtonReplay","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: UIButtonReplay UIButtonReplay new UIButtonReplay() Import from Github repo // importing into an ES6 class import { UIButtonReplay } from 'ad-video' This is a display object class, extending UIButton with direct control to a VideoPlayer instance. It controls the replaying for the VideoPlayer. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a VideoPlayer instance. See UIButton for more info. Sample 1 Add the button to the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onControlBar : { buttonReplay : { css : { backgroundColor : 'rgb(100,200,10)' }, state : [ 'btnReplay' ] } } } }); Sample 2 Add the button on the screen, NOT on the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonReplay : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ 'btnReplay' ] }, }, } }); Sample 3 Use DOM elements as the states of the button, to have more contorl over their css var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { buttonReplay : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, state : [ new UIImage({ source : 'btnReplay', css : { x : 10, y : 10, width : 50, height : 50, backgroundColor : 'rgba(100,100,0,.5)' } }) ] }, } } }); Source: ad-video/lib/ui/UIButtonReplay.js, line 1 × Search results Close "},"UICanvas.html":{"id":"UICanvas.html","title":"Class: UICanvas","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UICanvas new UICanvas(id, target, css) Import from ad-ui // importing into an ES6 class import { UICanvas } from 'ad-ui' This is a display object class, extending UIComponent. Unlike other UI elements, this creates a DOM &lt;canvas&gt;. By extending UIComponent this has all of its native properties and methods. See UIComponent for more info. Parameters: Name Type Description id string target element css object Source: ad-ui/lib/UICanvas.js, line 1 Example var myCanvas = new UICanvas({ id : 'my-btn', target : View.main, css : { x : 15, y : 18, width : 50, height : 20, backgroundColor : '#ff0000' } }); Members &lt;static&gt; context2d :canvas Getter : Returns direct access to the canvas context of '2d'. Type: canvas Source: ad-ui/lib/UICanvas.js, line 58 Example console.log( myCanvas.context2d ); &lt;static&gt; context3d :canvas Getter : Returns direct access to the canvas context of 'webgl'. Type: canvas Source: ad-ui/lib/UICanvas.js, line 72 Example console.log( myCanvas.context3d ); Methods &lt;static&gt; toString() A String representing the object type. Source: ad-ui/lib/UICanvas.js, line 89 Returns: [object UICanvas] Type string × Search results Close "},"UIComponent.html":{"id":"UIComponent.html","title":"Class: UIComponent","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UIComponent new UIComponent() Import from ad-ui // importing into an ES6 class import { UIComponent } from 'ad-ui' This is a display object class, which is an extension of a DOM element &lt;div&gt; with extra base functionality. There are inherited properties and methods for enabling, show, hide, etc. It is a base class that can be extended for custom UI elements. Sample 1: // bare minimum creation - can be added to anything and named later. var myBase = new UIComponent(); Sample 2: // simple creation - no style var myBase = new UIComponent({ target : View.main, id : 'my-component' }); Sample 3: // create with assigned styles var myBase = new UIComponent({ target : View.main, id : 'my-component', css : { x : 36, y : 14, width : 120, height: 140 } }); Sample 4: // create and align the image inline var myImage = new UIComponent({ target : View.main, id : 'my-component', align : { x:{ type : Align.RIGHT, offset : -10 }, y: { type : Align.TOP, offset : 10 } } }); Source: ad-ui/lib/UIComponent.js, line 1 Members &lt;static&gt; enabled :boolean Getter|Setter : A Boolean to toggle if the Gesture events are active. Type: boolean Source: ad-ui/lib/UIComponent.js, line 144 Example // get console.log( myComponent.enabled ); // set myComponent.enabled = true; &lt;static&gt; height :number Getter|Setter : A Number representing the height of the div. Directly gets/sets the style css height. Type: number Source: ad-ui/lib/UIComponent.js, line 210 Example // get console.log( myComponent.height ); // set myComponent.height = 140; &lt;static&gt; showing :boolean Getter|Setter : A Boolean to check if the component is currently showing. Can NOT be set. Type: boolean Source: ad-ui/lib/UIComponent.js, line 165 Example // get console.log( myComponent.showing ); &lt;static&gt; width :number Getter|Setter : A Number representing the width of the div. Directly gets/sets the style css width. Type: number Source: ad-ui/lib/UIComponent.js, line 185 Example // get console.log( myComponent.width ); // set myComponent.width = 140; &lt;static&gt; x :number Getter|Setter : A Number representing the x position. Directly gets/sets the css transform x. Type: number Source: ad-ui/lib/UIComponent.js, line 100 Example // get console.log( myComponent.x ); // set myComponent.x = 7; &lt;static&gt; y :number Getter|Setter : A Number representing the y position. Directly gets/sets the css transform y. Type: number Source: ad-ui/lib/UIComponent.js, line 122 Example // get console.log( myComponent.y ); // set myComponent.y = 14; Methods &lt;static&gt; addChild() Add a DOM element to the component. Source: ad-ui/lib/UIComponent.js, line 287 Example myComponent.addChild( myChild ); &lt;static&gt; hide() Visually removes the component from the DOM by setting its display property to none Source: ad-ui/lib/UIComponent.js, line 240 Example myComponent.hide(); &lt;static&gt; inspect() Traces out an object of all the public properties and methods of the component. Source: ad-ui/lib/UIComponent.js, line 302 Example myComponent.inspect(); &lt;static&gt; setCss() Set any of the style properites of the component. A direct link to Styles.setCss() for convience. Source: ad-ui/lib/UIComponent.js, line 272 Example myComponent.setCss({ width : 300, height : 150 }); &lt;static&gt; show() Visually displays the component in the DOM Source: ad-ui/lib/UIComponent.js, line 253 Example myComponent.show(); &lt;static&gt; toString() A String to represet the object type. Source: ad-ui/lib/UIComponent.js, line 320 Example myComponent.toString(); × Search results Close "},"UIControlBar.html":{"id":"UIControlBar.html","title":"Class: UIControlBar","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: UIControlBar UIControlBar new UIControlBar() Import from Github repo // importing into an ES6 class import { UIControlBar } from 'ad-video' Source: ad-video/lib/ui/UIControlBar.js, line 1 Members &lt;static, constant&gt; constant :boolean A Boolean to toggle if the controlBar will disappear after a timeout, defaults to false. Type: boolean Source: ad-video/lib/ui/UIControlBar.js, line 24 &lt;static, constant&gt; showOnPoster :boolean A Boolean to toggle if the controlBar will show before or after the video has played, defaults to false. Type: boolean Source: ad-video/lib/ui/UIControlBar.js, line 31 × Search results Close "},"UIDiv.html":{"id":"UIDiv.html","title":"Class: UIDiv","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UIDiv new UIDiv() Import from ad-ui // importing into an ES6 class import { UIDiv } from 'ad-ui' This is a display object class, which is a DOM element , that internally handles assigning the passed in parameters. Sample 1: // bare minimum creation - can be added to anything and named later. var myBase = new UIDiv(); Sample 1: // simple creation - no style // Added to a container, such as Main T.myBase = new UIDiv({ target : T, id : 'my-div' }); Sample 2: // create with assigned styles var myBase = new UIDiv({ target : T, id : 'my-div', css : { x : 36, y : 14, width : 120, height: 140 } }); Source: ad-ui/lib/UIDiv.js, line 1 Members &lt;static&gt; parent :element Getter : Returns the parent, ie the DOM element this is inside of. Type: element Source: ad-ui/lib/UIDiv.js, line 79 Example // get console.log( myImage.source ); // set myImage.source = 'template_image'; Methods &lt;static&gt; toString() A String to represet the object type. Source: ad-ui/lib/UIDiv.js, line 99 Example myDiv.toString(); × Search results Close "},"UIEvent.html":{"id":"UIEvent.html","title":"Class: UIEvent","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-events UIEvent new UIEvent() Import from ad-events // importing into an ES6 class import { UIEvent } from 'ad-events' This module has custom events to be used with the Source: ad-events/lib/UIEvent.js, line 1 Members &lt;static, constant&gt; ENABLED :string Represents an 'uiComponentEnabled', fired when the enabled state of a changes; useful when extending a component. Type: string Source: ad-events/lib/UIEvent.js, line 17 Example UIEvent.ENABLED &lt;static, constant&gt; RESIZE :string Description needed_________. Type: string Source: ad-events/lib/UIEvent.js, line 27 Example UIEvent.RESIZE &lt;static, constant&gt; SLIDER_UPDATE :string Represents an 'uiSliderUpdate', fired when a changes its value. Type: string Source: ad-events/lib/UIEvent.js, line 37 Example UIEvent.SLIDER_UPDATE × Search results Close "},"UIFlex.html":{"id":"UIFlex.html","title":"Class: UIFlex","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UIFlex new UIFlex() Import from ad-ui // importing into an ES6 class import { UIFlex } from 'ad-ui' This is a display object class, extending UIComponent. It is a DOM element that has default values for css flexbox. All children's position is set to relative, to allow the flexbox to work. The default setup of UIFlex is to make a row, with the content evenly spread with no buffers on the outside, aka space-around. There are setters for the primary orientation css keys. They can be passed in to the constructor or using the seeters. They can still be overwritten by simply changing them with Styles.setCss By default, UIFlex has these styles set: display: flex; flex-wrap: nowrap; justify-content: space-around; By extending UIComponent this has all of its native properties and methods. See UIComponent for more info. For all flexbox options, see https://www.w3schools.com/css/css3_flexbox.asp Sample 1: var myFlexContainer = new UIFlex({ target: T, css: { width: 350, height: 100, backgroundColor: 'rgba(255,0,0,0.3)' }, // optional flexDirection: 'column', justifyContent: 'space-between', flexWrap: 'wrap' }) Sample 2:Replace EndFrame UIComponent with a UIFlex function EndFrame() { var T = new UIFlex({ id: 'endframe-container', target: View.main, css: { width: 'inherit', height: 'inherit' } }) return T } ---------------------------------------------------------------------------------------------------------------------------------------------------------- Source: ad-ui/lib/UIFlex.js, line 1 Members &lt;static&gt; flexDirection :string Setter : Changes the direction of the flexbox. Options: 'row', 'column'. Default: 'row' Type: string Source: ad-ui/lib/UIFlex.js, line 82 Example // set myFlexContainer.flexDirection = 'column' &lt;static&gt; flexWrap :string Setter : Changes the justify layout of the flexbox. Options: 'nowrap', 'wrap'. Default: 'nowrap' Type: string Source: ad-ui/lib/UIFlex.js, line 112 Example // set myFlexContainer.flexWrap = 'wrap' &lt;static&gt; justifyContent :string Setter : Changes the justify layout of the flexbox. Options: 'center', 'flex-start', 'flex-end', 'space-around', 'space-between'. Default: 'space-around' Type: string Source: ad-ui/lib/UIFlex.js, line 97 Example // set myFlexContainer.justifyContent = 'space-between' × Search results Close "},"UIGroup.html":{"id":"UIGroup.html","title":"Class: UIGroup","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: UIGroup UIGroup new UIGroup(arg) Import from Github repo // importing into an ES6 class import { UIGroup } from 'ad-ui' This is a display object class, extending UIComponent and therefor contains all of the native properties and methods of extending UIComponent. It relocates an array of DOM elements into a newly created UIComponent, allowing for easy creation of lockups. Returns a UIComponent Sample 1: // basic creation - add children to a UIGroup. let _myLockup = new UIGroup({ target: View.main, children: [myDIV, myTextField, myImage], }); Sample 2: // align the UIGroup after creation. let _myLockup = new UIGroup({ target: View.main, children: [myDIV, myTextField, myImage], align: Align.CENTER, }); Sample 3: // give the parent UIGroup a background color - handy for debugging! let _myLockup = new UIGroup({ target: View.main, children: [myDIV, myTextField, myImage], css:{ backgroundColor: '#ff0000' } }); Parameters: Name Type Description arg object an object containing the arguments for defining / orienting the UIGroup, see Properties for more info: Properties: Name Type Description target element the DOM element in which to add the UIGroup children array an array of DOM elements which will be added css object CSS properties to apply to the UIGroup parent container - width and height will be ignored! align Align the alignment of the UIGroup parent container Source: ad-ui/lib/UIGroup.js, line 1 × Search results Close "},"UIImage.html":{"id":"UIImage.html","title":"Class: UIImage","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UIImage new UIImage() Import from ad-ui // importing into an ES6 class import { UIImage } from 'ad-ui' This is a display object class, extending UIComponent. It is a DOM element that has default values for the background image styles. They can still be overwritten by simply changing them with Styles.setCss or the native UIComponent.setCss method directly on the UIImage instance. By default, UIImage has these styles set: background-repeat : no-repeat; background-size : contain; By extending UIComponent this has all of its native properties and methods. See UIComponent for more info. Sample 1: // bare minimum creation - image source is required, but can be added to anything and named later. var myImage = new UIImage({ source : 'template_image' }); Sample 2: // simple creation - no style // Added to a container, such as Main T.myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image' }); Sample 3: // simple creation using a double sized source image var myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image', retina : true }); Sample 4: // create with assigned styles var myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image', css : { x : 36, y : 14, width : 120, height: 140 } }); Sample 5: // create with only a known height, but maintain the aspect ratio var myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image', css : { width : 120 }, aspectRatio : true }); Sample 6: // create and align the image inline var myImage = new UIImage({ target : T, id : 'my-image', source : 'template_image', align : { x:{ type : Align.RIGHT, offset : -10 }, y: { type : Align.TOP, offset : 10 } }, aspectRatio : true }); ---------------------------------------------------------------------------------------------------------------------------------------------------------- Source: ad-ui/lib/UIImage.js, line 1 Members &lt;static&gt; aspectRatio :boolean Getter|Setter : A Boolean to allow for the size of the element to maintain aspect ratio when either the width or height are changed by directly setting them on the element, ie UIImage.width or UIImage.height. If using Styles.setCss() this will NOT work. Type: boolean Source: ad-ui/lib/UIImage.js, line 222 Example // get console.log( myImage.aspectRatio ); // set myImage.aspectRatio = true; &lt;static&gt; ratio :string Getter|Setter : A String to set the background-size property. Use the Ratio class for constants that are easier to understand: Ratio.EXACT, Ratio.FIT, Ratio.FILL, Ratio.STRETCH Type: string Source: ad-ui/lib/UIImage.js, line 201 Example // get console.log( myImage.ratio ); // set myImage.ratio = Ratio.FILL; &lt;static&gt; retina :boolean Getter|Setter : A Boolean to determine if the image source is double the size of the desired width &amp; height. This is only relevant if when creating a new UIImage, you do not proved a width or height value. If you do, the UIImage will simply be the size provided. Type: boolean Source: ad-ui/lib/UIImage.js, line 178 Example // get console.log( myImage.retina ); // set myImage.retina = false; &lt;static&gt; source :string Getter|Setter : The Image element id, via ImageManager, can be changed if need be but best to just make a new UIImage if a new source is needed. Also, use this if you need to access the image for things like getting the original width or height. Type: string Source: ad-ui/lib/UIImage.js, line 156 Example // get console.log( myImage.source ); // set myImage.source = 'template_image'; × Search results Close "},"UISlider.html":{"id":"UISlider.html","title":"Class: UISlider","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UISlider new UISlider() Import from ad-ui // importing into an ES6 class import { UISlider } from 'ad-ui' This is a display object class, extending UIComponent. It is a DOM element that has built-in child &lt;div&gt;s to make up a slider, which are all publicly accessible. The list of child divs are: .bg .loaded .track .handle .hitState By extending UIComponent this has all of its native properties and methods. See UIComponent for more info. Sample 1 var mySlider = new UISlider({ id : 'my-slider', target : View.main, css : { x : 0, y : 0, width : 250, height : 20 }, bg : { height:'30%', top:'35%' }, track : { height:'30%', top:'35%' }, handle : { height:'70%', top:'15%' }, onUpdate : handleSliderUpdate }); // OR assign it after the fact mySlider.onUpdate = handleSliderUpdate // OR listen for the event mySlider.addEventListener ( UIEvent.SLIDER_UPDATE, handleSliderUpdate ); function handleSliderUpdate ( event ){ console.log( mySlider.percent ); } Sample Extension: function UICustomSlider( arg ) { var U = new UISlider( arg ); function handleBaseSliderUpdate ( event ){ console.log( U.percent ); } function handleBaseEnabled ( event ){ var listener = U.enabled ? 'addEventListener' : 'removeEventListener' ; U [ listener ] ( UIEvent.SLIDER_UPDATE, handleBaseSliderUpdate ); } U.addEventListener ( UIEvent.ENABLED, handleBaseEnabled ) U.enabled = true; return U; } Source: ad-ui/lib/UISlider.js, line 1 Members &lt;static&gt; bg :element A &lt;div&gt; at the bottom most layer, simply the background. Type: element Source: ad-ui/lib/UISlider.js, line 114 Example // access mySlider.bg // change style: Styles.setCss( mySlider.bg, { backgroundColor: '#ff0000' }); &lt;static&gt; dragging :boolean Getter : A Boolean representing whether or not the slider head is currently dragging. Type: boolean Source: ad-ui/lib/UISlider.js, line 194 &lt;static&gt; handle :element A &lt;div&gt; right above the track element, represents the handle at the placement of the percentage of the slider. Will line up with the track size. Type: element Source: ad-ui/lib/UISlider.js, line 147 Example // access mySlider.handle // change style: Styles.setCss( mySlider.handle, { backgroundColor: '#ff0000' }); &lt;static&gt; hitState :element A &lt;div&gt; at the top most level, represents the hit area for the slider. Ot is not a graphical element and generally this should not be manipulated. Type: element Source: ad-ui/lib/UISlider.js, line 158 Example mySlider.handle &lt;static&gt; loaded :element A &lt;div&gt; right above the bg element, represents the loaded value when used with loaders such as with progress bars. Type: element Source: ad-ui/lib/UISlider.js, line 125 Example // access mySlider.loaded // change style: Styles.setCss( mySlider.loaded, { backgroundColor: '#ff0000' }); &lt;static&gt; percent :number Getter|Setter : A Number 0-1 representing the percent position. Type: number Source: ad-ui/lib/UISlider.js, line 170 Example // get mySlider.addEventListener( UIEvent.SLIDER_UPDATE, handleSliderUpdate ); function handleSliderUpdate( event ){ console.log( mySlider.percent ); } // set mySlider.percent = .65; &lt;static&gt; track :element A &lt;div&gt; right above the loaded element, represents the percentage of the slider. Type: element Source: ad-ui/lib/UISlider.js, line 136 Example // access mySlider.track // change style: Styles.setCss( mySlider.track, { backgroundColor: '#ff0000' }); &lt;static&gt; U.onUpdate A Method that will be called on the update of the slider. This is set in the constructor or can be manually assigned. Source: ad-ui/lib/UISlider.js, line 215 Methods &lt;static&gt; U.toString() A String representing the object type: [object UISlider] Source: ad-ui/lib/UISlider.js, line 223 × Search results Close "},"UISplitText.html":{"id":"UISplitText.html","title":"Class: UISplitText","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UISplitText new UISplitText(arg) Import from ad-ui // importing into an ES6 class import { UISplitText } from 'ad-ui' This is a display object class, utilizing UISplitText and UIComponent. By extending UIComponent this has all of its native properties and methods. See UISplitText and UIComponent for more info. It is a DOM UIComponent element that contains text and handles its styling, layout, and formatting in all the same ways as UITextField. The difference, however, is the it returns a container with each line, word, or character of text broken into individual UITextFields. By default, a UISplitText will convert a UITextField into individual words or letters, and group them into UIComponents. For Example: setting the splitType to TextSplitType.WORDS will create a UIComponent per line and a UITextField per word. setting the splitType to TextSplitType.CHARACTERS will create a UIComponent per line, a UIComponent per word, and a UITextField per character. UISplitText returns a UIComponent, representing the main container of the lines, words, and possibly characters. This container contains arrays: // an array of every line of text; each line is a UIComponent _mySplitText.lines; // an array of every word of text. If arg.splitType === TextSplitType.CHARACTERS, these will be UIComponents, otherwise they are UITextFields _mySplitText.words; // an array of every character of text; each character is a UITextField _mySplitText.characters; Sample: // creates a UITextField that breaks each character of the text value into its own UITextField T.mySplitText = new UISplitText({ target : View.main, id : 'my-textfield', css : { x : 50, y : 200, width : 300, height : 90 }, fontSize : 30, fontFamily : 'template_font', format : TextFormat.INLINE, alignText : Align.CENTER, bufferText : { top : 1, bottom : 1, left : 5, right : 5 }, leading : .8, spacing : 2, text : 'This is my awesome sentence!', splitType: TextSplitType.CHARACTERS }); // tweens the main container for the lines, words, and characters TweenLite.from ( View.main.mySplitText.lines[l], 1, {scale: 0 }); // tweens each LINE of text from an alpha of 0 for (var l = 0; l &lt; View.main.mySplitText.lines.length; l++){ TweenLite.from ( View.main.mySplitText.lines[l], 1, {alpha: 0 }); } // tweens each WORD of text from a rotation of 180 for (var w = 0; w &lt; View.main.mySplitText.words.length; w++){ TweenLite.from ( View.main.mySplitText.words[w], 1, {rotation: 180 }); } // tweens each CHARACTER of text from a scale of of 2 for (var c = 0; c &lt; View.main.mySplitText.characters.length; c++){ TweenLite.from ( View.main.mySplitText.characters[c], 1, {scale: 2 }); } Parameters: Name Type Description arg arg The OBJECT containing all of your UITextField and UISplitText arguments Properties: Name Type Description arg.splitType TextSplitType | string STRING determing if the UISplitText should break a UITextField into individuals words or characters; defaults to TextSplitType.WORDS. arg.allowSpaceOnBreaks boolean BOOLEAN determining if a line break should include a space following non-punctuational characters. For example: &quot;word &quot; rather than &quot;word&quot;; defaults to false. arg.spaceBreakIncludes string STRING determining what specific characters should be included as part of any line breaks if arg.allowSpaceOnBreaks is set to true; defaults to a-z, A-Z, and 0-9 represented as '[a-z0-9].' arg.debug boolean BOOLEAN for if you want a debug version featuring a background color and an unadulterated and un-split UITextField to compare your UISplitText instance to; defaults to false. Source: ad-ui/lib/UISplitText.js, line 1 × Search results Close "},"UISvg.html":{"id":"UISvg.html","title":"Class: UISvg","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UISvg new UISvg() Import from ad-ui // importing into an ES6 class import { UISvg } from 'ad-ui' This is a display object class, extending UIComponent. It is a DOM element that contains a markup &lt;svg&gt; element which allows for vector display, manipulation and animation. This allows for smaller file sizes with crisp visual aesthetics. By extending UIComponent this has all of its native properties and methods. See UIComponent for more info. &lt;svg&gt; formatting Original code from Illustrator: &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --&gt; &lt;svg version=&quot;1.1&quot; id=&quot;Layer_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; viewBox=&quot;0 0 130 200&quot; style=&quot;enable-background:new 0 0 130 200;&quot; xml:space=&quot;preserve&quot;&gt; &lt;style type=&quot;text/css&quot;&gt; .st0{fill:#00AEEF;stroke:#000000;stroke-miterlimit:10;} &lt;/style&gt; &lt;path id=&quot;XMLID_1&quot; class=&quot;st0&quot; d=&quot;M104.4,149.8L6,194.5l5.1-105.3l66.4,13.1L10.6,6.7l63.6,37.6l24.4-30.4 c26.7,5.8,38.5,90.3-10.1,54.8L104.4,149.8z&quot;/&gt; &lt;/svg&gt; Things that are unnecessary: &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --&gt; &lt;svg version=&quot;1.1&quot; id=&quot;Layer_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; style=&quot;enable-background:new 0 0 130 200;&quot; xml:space=&quot;preserve&quot;&gt; The only thing that IS necessary in the &lt;svg&gt; node is: &lt;svg viewBox=&quot;0 0 130 200&quot;&gt; Trimmed down for source: &lt;svg viewBox=&quot;0 0 130 200&quot;&gt; &lt;style type=&quot;text/css&quot;&gt; .st0{fill:#00AEEF;stroke:#000000;stroke-miterlimit:10;} &lt;/style&gt; &lt;path id=&quot;XMLID_1&quot; class=&quot;st0&quot; d=&quot;M104.4,149.8L6,194.5l5.1-105.3l66.4,13.1L10.6,6.7l63.6,37.6l24.4-30.4 c26.7,5.8,38.5,90.3-10.1,54.8L104.4,149.8z&quot;/&gt; &lt;/svg&gt; NOTE: Sometimes there will be a width and/or height attribute. This will overwrite the viewBox and cause display issues. This should be removed Convert to string for javascript. This can be done inline with the UISvg instance, but since vector is scalable and reusable across all sizes, it is a good idea to place this in AdData so that it can be accessed by all builds, classes and instances. // In AdData this.svgSrc = '&lt;svg viewBox=&quot;0 0 130 200&quot;&gt;' + '&lt;style type=&quot;text/css&quot;&gt;.st0{fill:#00AEEF;stroke:#000000;stroke-miterlimit:10;}&lt;/style&gt;' + '&lt;path id=&quot;XMLID_1&quot; class=&quot;st0&quot; d=&quot;M104.4,149.8L6,194.5l5.1-105.3l66.4,13.1L10.6,6.7l63.6,37.6l24.4-30.4c26.7,5.8,38.5,90.3-10.1,54.8L104.4,149.8z&quot;/&gt;' + '&lt;/svg&gt;' Create a UISvg: var mySvg = new UISvg ({ id : 'my-svg', target : View.main, source : adData.svgSrc, css : { width : 75 } }) Source: ad-ui/lib/UISvg.js, line 1 Members &lt;static&gt; height :number Getter|Setter : A Number representing the height of the div. Directly gets/sets the style css height. WARN: This will change the width as well to maintain aspect ratio of the source Type: number Source: ad-ui/lib/UISvg.js, line 163 Example // get console.log(mySvg.height) // set mySvg.height = 140 &lt;static&gt; source :string Getter|Setter : A string markup of an svg code: which is in an html/xml style format. Note that when exporting from Illustrator or other programs there is extra bloat code that is not necessary. Type: string Source: ad-ui/lib/UISvg.js, line 111 Example // get console.log(mySvg.source) // set mySvg.source = '&lt;svg viewBox=&quot;0 0 130 200&quot;&gt;' + '&lt;style type=&quot;text/css&quot;&gt;.st0{fill:#00AEEF;stroke:#000000;stroke-miterlimit:10;}&lt;/style&gt;' + '&lt;path id=&quot;XMLID_1_&quot; class=&quot;st0&quot; d=&quot;M104.4,149.8L6,194.5l5.1-105.3l66.4,13.1L10.6,6.7l63.6,37.6l24.4-30.4c26.7,5.8,38.5,90.3-10.1,54.8L104.4,149.8z&quot;/&gt;' + '&lt;/svg&gt;' &lt;static&gt; width :number Getter|Setter : A Number representing the width of the div. Directly gets/sets the style css width. WARN: This will change the height as well to maintain aspect ratio of the source Type: number Source: ad-ui/lib/UISvg.js, line 139 Example // get console.log(mySvg.width) // set mySvg.width = 140 × Search results Close "},"UITextField.html":{"id":"UITextField.html","title":"Class: UITextField","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-ui UITextField new UITextField() Import from ad-ui // importing into an ES6 class import { UITextField } from 'ad-ui' This is a display object class, extending UIComponent. By extending UIComponent this has all of its native properties and methods. See UIComponent for more info. It is a DOM element that contains text and handles its styling, layout, and formatting. There are multiple format types, which allow for different use cases, whether it be an auto word wrapping paragraph style or rigid lines. Auto-sizing of font is built into the types, so there is no longer a need to run a secondary method. Just set that type and it does it automatically. See TextFormat for more info on each type. UITextfield works by utilizing native css properties to accomplish things like vertical and horizontal alignment, leading (line spacing), and padding. There are getter/setters for display properties so generally speaking, there should not be a need to manually manipulate the css of the content. Rather than having multiple nested divs that all must using their width and height to accomplish these, using the native css allows for greater control. So, UITextField is simply a &lt;div&gt; and a child &lt;span&gt; element that holds the content. That &lt;span&gt; element is relativly placed which is how all the css works, so it is advised against targeting that &lt;span&gt; for any reason. Use the top level for animation. Sample 1: // creates a textfield on Main container that displays text in a line T.myTextField = new UITextField({ target : T, id : 'my-textfield', css : { x : 50, y : 200, width : 300, height : 90 }, fontSize : 30, fontFamily : 'template_font', format : TextFormat.INLINE, alignText : Align.CENTER, bufferText : { top : 1, bottom : 1, left : 5, right : 5 }, leading : .8, spacing : 2, text : 'This is my awesome sentence!' }); // referenced later anywhere outside the class by View.main.myTextField Sample 2: // creates a textfield that displays text as a paragraph, but resizes to fit the container T.myTextField = new UITextField ({ target : T, id : 'my-textfield', css : { x : 50, y : 200, width : 200, height : 90 }, fontSize : 30, fontFamily : 'template_font', format : TextFormat.PARAGRAPH_FIT, alignText : Align.LEFT, leading : .8, text : 'This is my awesome sentence!' }); Sample 3: // creates a textfield and resizes the container to fit the text View.main.myTextField = new UITextField ({ target : View.main, id : 'my-textfield', css : { x : 50, y : 200, width : 30, height : 10 }, fontSize : 30, fontFamily : 'template_font', format : TextFormat.INLINE_CLAMP, alignText : Align.LEFT, leading : .8, text : 'This is my awesome sentence!' }); Source: ad-ui/lib/UITextField.js, line 1 Members &lt;static&gt; alignText :string|Align Getter|Setter : A String, or Align constant, representing the alignment of the text content inside the UITextField. Type: string | Align Source: ad-ui/lib/UITextField.js, line 186 Example // change the size of the font View.main.myTextField.alignText = Align.BOTTOM_RIGHT; // get the current size of the font console.log( View.main.myTextField.alignText ); &lt;static&gt; bufferText :number|array Getter|Setter : A Number or Array of Numbers representing the amount of spacing from the edges of the UITextField and the text content. This sets the css margin, but also is used for calculations for auto sized formats. Setting the margin manually will cause layout issues as the class does not have those numbers to calculate against. Type: number | array Source: ad-ui/lib/UITextField.js, line 372 Example // set the padding on all 4 sides uniformly View.main.myTextField.bufferText = 5; // set the padding on top &amp; bottom = 7 and left &amp; right = 5 View.main.myTextField.bufferText = [7,5]; // set the top = 7, right = 3, bottom = 5, left = 6 View.main.myTextField.bufferText = [7,3,5,6]; // get the current padding console.log( View.main.myTextField.bufferText ); &lt;static&gt; fontFamily :string Getter|Setter : A String representing the current font family being assigned to the text. Type: string Source: ad-ui/lib/UITextField.js, line 243 Example // change the font View.main.myTextField.fontFamily = 'Arial'; // get the current font console.log( View.main.myTextField.fontFamily ); &lt;static&gt; fontSize :number Getter|Setter : A Number representing the current size of the text font. Type: number Source: ad-ui/lib/UITextField.js, line 219 Example // change the size of the font View.main.myTextField.fontSize = 14; // get the current size of the font console.log( View.main.myTextField.fontSize ); &lt;static&gt; format :string|TextFormat Getter|Setter : A String, or TextFormat constant, representing the layout type for the text within the UITextField. This is what defines if the text is either in a line, word wrapped like a paragraph, has auto sizing to the font soze or if the UITextField is resized to the content. See TextFormat for more info. Type: string | TextFormat Source: ad-ui/lib/UITextField.js, line 264 Example View.main.myTextField = new UITextField({ target : View.main, id : 'my-textfield', css : { width : 200, height : 90 }, fontSize : 30, format : TextFormat.INLINE, text : 'This is my awesome sentence!' }); // change from an inline to a word warping paragraph style View.main.myTextField.format = TextFormat.PARAGRAPH; // change back to inline with autosizing View.main.myTextField.format = TextFormat.INLINE_FIT; // change back to a word warpping paragraph style that auto sizes the font to fit perfectly View.main.myTextField.format = TextFormat.PARAGRAPH_FIT; // resize the UITextField to fit the size of all the text as inline View.main.myTextField.format = TextFormat.INLINE_CLAMP; // resize the UITextField to fit the size of all the text as a paragraph View.main.myTextField.format = TextFormat.PARAGRAPH_CLAMP; &lt;static&gt; leading :number Getter|Setter : A Number representing the percentage of spacing between each line relative to the font size. By default, a value of 1 is equal to a default line-height value similar to Photoshop. A value of 0 will have each line on top of each other, as if it was written over the previous line. So to create a look that is slightly tighter than default, you would use something like a value of .8 to bring the lines a little closer together. The use of a percentage allows for the font size to change without having to redefine the line-height spacing. Type: number Source: ad-ui/lib/UITextField.js, line 311 Example // change the percentage of spacing between lines relative to the font size View.main.myTextField.leading = .8; // get the current percentage of spacing between lines relative to the font size console.log( View.main.myTextField.leading ); &lt;static&gt; smoothing :boolean Getter|Setter : A Boolean to add or remove the css smoothing: -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; Type: boolean Source: ad-ui/lib/UITextField.js, line 442 Example View.main.myTextField.smoothing = false; // // get the current smoothing console.log( View.main.myTextField.smoothing ); &lt;static&gt; spacing :number Getter|Setter : A Number representing the spacing between each letter. Type: number Source: ad-ui/lib/UITextField.js, line 345 Example // change the spacing between each letter View.main.myTextField.spacing = 3; // get the current letter spacing console.log( View.main.myTextField.spacing ); &lt;static&gt; text :string Getter|Setter : A String representing the current String text content. Type: string Source: ad-ui/lib/UITextField.js, line 417 Example // change the display text View.main.myTextField.text = &quot;Change my text to say this.&quot;; // get the current display text console.log( View.main.myTextField.text ); Methods &lt;static&gt; resetToDefault(arguments) Change specific properties, or all properties (by passing nothing in) back to their default values, which are initally set to the values passed in upon instantiation of a UITextField. This is useful when reusing this for multiple inputs, such as with carousels where the content is of various sizes. Parameters: Name Type Description arguments args Source: ad-ui/lib/UITextField.js, line 466 Example // reset specific default values myTextField.resetToDefault( 'leading', 'fontSize' ); // reset all default values myTextField.resetToDefault(); &lt;static&gt; setDefault() Assign a default value, so that when resetToDefault() is called, it will include this value. Source: ad-ui/lib/UITextField.js, line 501 Example myTextField.setDefault( 'fontSize', 16 ); × Search results Close "},"UITimeDisplay.html":{"id":"UITimeDisplay.html","title":"Class: UITimeDisplay","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer Class: UITimeDisplay UITimeDisplay new UITimeDisplay() Import from Github repo // importing into an ES6 class import { UITimeDisplay } from 'ad-video' This is a display object class, extending UITextField with direct control to a VideoPlayer instance. It displays the time of VideoPlayer. While it can be instantiated by itself, it is typically created from the VideoControls class which is called from the constructor of a VideoPlayer instance. See UITextField for more info. Sample 1 Add the time display to the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { timeDisplay : { css : { height : 'inherit', color : '#ffffff' }, fontSize : 18, fontFamily : 'Arial', alignText : Align.CENTER, bufferText : { left : 5, right : 5 }, showDuration : true } } }); Sample 2 Add the time display on the screen, NOT on the controlBar var myVideoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'my-video-player', css: { width: 400, height: 250 }, controls : { onScreen : { timeDisplay : { css : { height : 50, color : '#ffffff' }, fontSize : 18, fontFamily : 'Arial', alignText : Align.CENTER, showDuration : true } }, } }); Source: ad-video/lib/ui/UITimeDisplay.js, line 1 Members &lt;static&gt; showDuration :boolean Getter | Setter : Toggles if the time will have the duration appended to the display. Will output either #:## or #:##/#:## Type: boolean Source: ad-video/lib/ui/UITimeDisplay.js, line 94 × Search results Close "},"Vector2D.html":{"id":"Vector2D.html","title":"Class: Vector2D","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-geom Vector2D new Vector2D(x, y) Import from ad-geom // importing into an ES6 class import { Vector2D } from 'ad-geom' A simple 2D Vector classs Parameters: Name Type Description x number y number Source: ad-geom/lib/Vector2D.js, line 1 Example var myVector1 = new Vector2D( 0, 320 ); var myVector2 = new Vector2D( -3, 5.5 ); Methods &lt;static&gt; add(v) Adds another vector to itself Parameters: Name Type Description v Vector2D Source: ad-geom/lib/Vector2D.js, line 28 Returns: Type Vector2D Example myVector1.add( myVector2 ); &lt;static&gt; clone() Creates a new Vector2D with and same x and y Source: ad-geom/lib/Vector2D.js, line 148 Returns: Type Vector2D Example var newVecotor = myVector.clone(); &lt;static&gt; degreeToVector() Converts a degree 0 - 360 to a normalized vector Source: ad-geom/lib/Vector2D.js, line 161 Returns: Type Vector2D Example var myVecotor = Vector2D.degreeToVector( 45 ); &lt;static&gt; dist(v) Parameters: Name Type Description v Vector2D Source: ad-geom/lib/Vector2D.js, line 60 Returns: The distance between two vectors as locations Type number Example var distance = myVector.dist( myVector2 ); &lt;static&gt; div(s) Divides X and Y of the vector by s Parameters: Name Type Description s number Source: ad-geom/lib/Vector2D.js, line 89 Returns: Type Vector2D Example myVector.div( 2 ); &lt;static&gt; length() Source: ad-geom/lib/Vector2D.js, line 123 Returns: The length of the vector. Type number Example var length = myVector.length(); &lt;static&gt; limit(s) Limits the length of the vector if it's longer than s Parameters: Name Type Description s number Source: ad-geom/lib/Vector2D.js, line 105 Returns: Type Vector2D Example myVector.limit( 18.2 ); &lt;static&gt; mult(s) Multiplies X and Y of the vector by s Parameters: Name Type Description s number Source: ad-geom/lib/Vector2D.js, line 74 Example myVector.mult( 10.3 ); &lt;static&gt; normalize() Normalizes the vector( ie scale the vector to length of 1 ) Source: ad-geom/lib/Vector2D.js, line 134 Returns: Type Vector2D Example myVector.normalize(); &lt;static&gt; random(degreeIncrement) Returns a random normalized vector Parameters: Name Type Description degreeIncrement number Optional, the degree increment of the random vector, defaults to 0.01 Source: ad-geom/lib/Vector2D.js, line 175 Returns: Type Vector2D Example var myVecotor1 = Vector2D.random(); var myVecotor2 = Vector2D.random( 1 ); &lt;static&gt; sub(v) Subtracts another vector from itself Parameters: Name Type Description v Vector2D Source: ad-geom/lib/Vector2D.js, line 44 Returns: Type Vector2D Example myVector1.sub( myVector2 ); × Search results Close "},"Velvet.html":{"id":"Velvet.html","title":"Class: Velvet","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-external Velvet new Velvet() Import from ad-external // importing into an ES6 class import { Velvet } from 'ad-external' This object is meant to handle all of our json loading and parsing from the Velvet platform. When testing, changing the date can be a crucial testing step. see DateManager for more information. Source: ad-external/lib/Velvet.js, line 1 Methods &lt;static&gt; get(arguments) This method is used to get any node from the JSON by name. All nodes in Velvet have a 'type' and 'value'; the return is always the 'value' Parameters: Name Type Description arguments object | string | boolean The arguments have many possible uses: 1. A String can be a name of a node or a path to a node seperated by a &quot;.&quot; 2. Object followed by a String is used to specify a starting point for the get method to search for the node provided as the second argument on the String. 3. A boolean of true as the last argument (second for option 1, third for option 2), will have the method search recurrsively through the data object for the key. Otherwise, it will only look at the level provided. See the example. Source: ad-external/lib/Velvet.js, line 104 Example // sample Velvet JSON data { title : { type : &quot;SingleLineText&quot;, value : &quot;WHAT DO YOU SEE?&quot; }, matchup : { type : &quot;CollectionSeries&quot;, value : [ game : { type : &quot;CollectionSingleItem&quot;, value : { away_team : { type : &quot;CollectionSingleItem&quot;, value : { name : { type : &quot;SingleLineText&quot;, value : &quot;USC&quot; }, color : { type : &quot;Color&quot;, value : &quot;#003da5&quot; }, logo : { type : &quot;Image&quot;, value : { content_type : &quot;image/png&quot;, name : &quot;USC_sg1SohS.png&quot;, url : &quot;https://us-east.manta.joyent.com/adtech/public/ad_manager/clients/3YLOU2j85h/collections/TCAHAe8v8B/USC_sg1SohS.png&quot; } } } }, home_team : { type : &quot;CollectionSingleItem&quot;, value : { name : { type : &quot;SingleLineText&quot;, value : &quot;Standford&quot; }, color : { type : &quot;Color&quot;, value : &quot;#A80532&quot; }, logo : { type : &quot;Image&quot;, value : { content_type : &quot;image/png&quot;, name : &quot;stanford.png&quot;, url : &quot;https://us-east.manta.joyent.com/adtech/public/ad_manager/clients/3YLOU2j85h/collections/tLtLMaynyq/stanford.png&quot; } } } } } } ] }, live_url : { type : &quot;URL&quot;, value : &quot;http://es.pn/2cilNDt?ex_cid=2016_CFB_Banner_3_50005170003&quot; } } // Provide a node name var title = Velvet.get ( 'title' ); // &quot;WHAT DO YOU SEE?&quot; // Get a collection, such as a team for later use: var awayTeam = Velvet.get ( 'away_team', true ); // returns the whole object of the away_team. Since 'away_team' is nested, the true // will make the get go recursively through all children to find the node. // NOTE: there is only 1 instance of &quot;away_team&quot; so only 1 will return. // However, if there were more matchups, it would return all away teams as an array. // So to target specifically this matchup, call the away team by targeted path. // To do so, write out the path using a &quot;.&quot; for each child. var awayTeam = Velvet.get ( 'matchup.0.game.away_team' ); // Note that there is no need to use the &quot;.value&quot; key as the system assumes // that for you when using Velvet.get(). This returns the object as is, so // if you use it later, you will need to specify the &quot;.value&quot; to read properly // OR // Use the variable as a starting point for the searching var awayTeamName = Velvet.get ( awayTeam, 'name' ); // &quot;USC&quot; &lt;static&gt; init(settings) This passes the settings object from parent scope and initialized the class. In the index is an Object of &quot;slugs&quot; which are 10 digit Strings which are keys for locations of the client, locale, segment of the that data on Velvet cdn. Parameters: Name Type Description settings object see &quot;Properties&quot; for more information Properties: Name Type Description client string the first &quot;slug&quot; in the url string locale string the second &quot;slug&quot; in the url string segment string the third &quot;slug&quot; in the url string - this defines the segment, aka the map to which addata will be loaded addata string Optionally, when viewing an addata url, the last &quot;slug&quot; defines which data set id being used. This can be manually set in the ad, mostly jsut for testing purposes Source: ad-external/lib/Velvet.js, line 38 Example // in the index.html, inside adParams: velvet : { client : &quot;ZcHT9C9y6Z&quot;, locale : &quot;whV1g8DKPe&quot;, segment : &quot;C4iaBG6CoP&quot;, //adData : &quot;jaScLD8ayE&quot; } &lt;static&gt; isPreviewLocation() This method returns true for all the locations that should load PREVIEW.JSON instead of published.json. Safeguards are in place so that even an ad in a staging/build-state will load published json, if running in any http(s) locations other than the ones listed. Source: ad-external/lib/Velvet.js, line 339 × Search results Close "},"VideoControls.html":{"id":"VideoControls.html","title":"Class: VideoControls","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-video VideoControls new VideoControls() Import from ad-video // importing into an ES6 class import { VideoControls } from 'ad-video' This is a display object class, extending UIComponent. It is a DOM element that houses all the video control components: UIButton, UISlider and UITextField. This can be instantiated but is typically called internally from the VideoPlayer by passing in all params to the instantiation. All controls can be added to a UIControlBar or to the main container to be placed anywhere over the video. This is done through the instantiation, by passing components to a node onControlBar or onScreen. See example below. Accepted Components: buttonPlayPause, see UIButtonPlayPause buttonReplay, see UIButtonReplay buttonFullScreen, see UIButtonFullScreen buttonMute, see UIButtonMute timeDisplay, see UITimeDisplay sliderProgress, see UISliderProgress sliderVolume, see UISliderVolume Example adding a play/pause button to the screen: View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, controls : { onScreen : { buttonPlayPause : { css : { x : 130, y : 40, width : 80, height : 80, backgroundColor : 'rgba(10,200,10,.5)' }, icon : [ 'btnPlay', 'btnPause' ] } } } }); // access button View.main.videoPlayer.controls.buttonPlayPause; Example adding a play/pause button to the ControlBar: View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, controls : { onControlBar : { buttonPlayPause : { icon : [ 'btnPlay', 'btnPause' ] } } } }) // access button View.main.videoPlayer.controls.controlBar.buttonPlayPause; Example All Controls on ControlBar: // Full VideoPlayer with all options and controls View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, controls : { replayOnInteraction : false, unmuteOnInteraction : true, onControlBar : { controlBar : { constant : false, showOnPoster : false, css : { backgroundColor : 'rgba(250,100,20,.5)' } }, buttonPlayPause : { icon : [ 'btnPlay', 'btnPause' ] }, buttonReplay : { icon : [ 'btnReplay' ] }, buttonMute : { icon : [ 'btnUnMute', 'btnMute' ] }, buttonFullScreen : { icon : [ 'btnFullScreen' ] }, sliderProgress : { inline : true, css : { width : 120 }, onOver : function(){ console.log( this.track ) }, onOut : function(){ console.log( this.handle ) } }, sliderVolume : { css : { width : 60 }, bg : {}, track : {}, handle : {} }, timeDisplay : { css : { height : 'inherit', color : '#ffffff' }, fontSize : 18, fontFamily : 'Arial', alignText : Align.CENTER, bufferText : { left : 5, right : 5 }, showDuration : true } } } }); Example Controls on ControlBar AND on screen: // Full VideoPlayer with all options and controls View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, controls : { replayOnInteraction : false, unmuteOnInteraction : true, onScreen : { buttonPlayPause : { css : { x : 130, y : 40, backgroundColor : 'rgba(10,200,10,.5)' }, icon : [ 'btnPlay', 'btnPause' ] }, buttonReplay : { css : { x : 200, y : 50, width : 80, height : 80, backgroundColor : 'rgb(100,200,100)' }, icon : [ 'btnReplay' ] }, buttonMute : { css : { width : 70, height : 70, backgroundColor : 'rgba(20,200,10,.5)' }, icon : [ 'btnUnMute', 'btnMute' ] }, }, onControlBar : { controlBar : { constant : false, showOnPoster : false, css : { //height : 50, backgroundColor : 'rgba(250,100,20,.5)' } }, buttonPlayPause : { icon : [ 'btnPlay', 'btnPause' ] }, buttonReplay : { icon : [ 'btnReplay' ] }, buttonMute : { icon : [ 'btnUnMute', 'btnMute' ] }, buttonFullScreen : { icon : [ 'btnFullScreen' ] }, sliderProgress : { inline : true, css : { width : 120 }, bg : {}, loaded : {}, track : {}, handle : {}, onOver : function(){ console.log( this.track ) }, onOut : function(){ console.log( this.handle ) } }, sliderVolume : { css : { width : 60 }, bg : {}, track : {}, handle : {} }, timeDisplay : { css : { height : 'inherit', color : '#ffffff' }, fontSize : 18, fontFamily : 'Arial', alignText : Align.CENTER, bufferText : { left : 5, right : 5 }, showDuration : true } } } }); Source: ad-video/lib/VideoControls.js, line 1 Members &lt;static&gt; controlBar :UIControlBar Public access to the UIControlBar instance. All UIComponents added to this will be accessed via the variable. Type: UIControlBar Source: ad-video/lib/VideoControls.js, line 403 &lt;static&gt; replayOnInteraction :boolean Get|Set: A Boolean that changes if the video player will start over on any click interaction, default is false. Type: boolean Source: ad-video/lib/VideoControls.js, line 412 Example // GET console.log( myVideoPlayer.controls.replayOnInteraction ); // SET myVideoPlayer.controls.replayOnInteraction = false; &lt;static&gt; unmuteOnInteraction :boolean Get|Set: A Boolean that changes if the video player will unmute on any click interaction, default is false. Type: boolean Source: ad-video/lib/VideoControls.js, line 437 Example // GET console.log( myVideoPlayer.controls.unmuteOnInteraction ); // SET myVideoPlayer.controls.unmuteOnInteraction = true; × Search results Close "},"VideoPlayer.html":{"id":"VideoPlayer.html","title":"Class: VideoPlayer","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-video VideoPlayer new VideoPlayer() Import from ad-video // importing into an ES6 class import { VideoPlayer } from 'ad-video' This object creates a custom Video Player instance. This player has the ability to function as a regular player or it can work as the inline/autoplay video. Sample Player View.main.videoPlayer = new VideoPlayer({ source: adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, preload : false, autoPlay : false, muted : false, volume: .8, onComplete: function(event){ console.log( 'video complete' ) }, onFail: global.failAd, }); View.main.videoPlayer.play(); Sample Autoplay View.main.videoPlayer = new VideoPlayer({ source: [ adParams.videosPath + 'RED_Html5_Showcase_300x250.mp4', adParams.videosPath + 'RED_Html5_Showcase_300x250.mpg' ], target: View.main, id: 'My_Unique_ID', css: { width: 300, height: 250 }, preload : true, autoPlay : true, muted : true, forceInline : true, onComplete: function(event){ console.log( 'video complete' ) }, onFail: global.failAd, }); Source: ad-video/lib/VideoPlayer.js, line 1 Members &lt;static&gt; autoPlay :boolean A Boolean that changes if the video will automatically play. Type: boolean Source: ad-video/lib/VideoPlayer.js, line 221 Example myVideoPlayer.autoPlay = false; &lt;static&gt; complete :boolean A Boolean representing if the video has ended. Type: boolean Source: ad-video/lib/VideoPlayer.js, line 93 &lt;static&gt; container :UIComponent A &lt;div&gt;, the top level container for the entire player instance. Type: UIComponent Source: ad-video/lib/VideoPlayer.js, line 169 &lt;static&gt; currentTime :number A Number representing the video time position. Type: number Source: ad-video/lib/VideoPlayer.js, line 271 &lt;static&gt; duration :number A Number representing the length of the video in seconds. Type: number Source: ad-video/lib/VideoPlayer.js, line 282 &lt;static&gt; hasPlayed :boolean A Boolean representing if the video has played to completion. Type: boolean Source: ad-video/lib/VideoPlayer.js, line 100 &lt;static&gt; muted :boolean A Boolean representing if the video volume is muted. Type: boolean Source: ad-video/lib/VideoPlayer.js, line 385 &lt;static&gt; onBuffer :function A callback for when the Video pauses due to buffering. Can be set as optional parameter on instantiated. Type: function Source: ad-video/lib/VideoPlayer.js, line 121 &lt;static&gt; onComplete :function A callback for when the Video is finished. Can be set as optional parameter on instantiated. Type: function Source: ad-video/lib/VideoPlayer.js, line 107 &lt;static&gt; onFail :function A callback for when the Video fails. Can be set as optional parameter on instantiated. Type: function Source: ad-video/lib/VideoPlayer.js, line 114 &lt;static&gt; onProgress :function A callback for when as Video progresses while playing. Can be set as optional parameter on instantiated. Type: function Source: ad-video/lib/VideoPlayer.js, line 128 &lt;static&gt; onReady :function A callback for when Video is buffered and ready to play. Type: function Source: ad-video/lib/VideoPlayer.js, line 135 &lt;static&gt; paused :boolean A Boolean representing if the video is playing. Type: boolean Source: ad-video/lib/VideoPlayer.js, line 293 &lt;static&gt; percent :number A Number 0-1 representing the video timeline percent position. Type: number Source: ad-video/lib/VideoPlayer.js, line 304 &lt;static&gt; screen :video The &lt;video&gt; element, or if autoplay on a device, will return the driver object. Type: video Source: ad-video/lib/VideoPlayer.js, line 211 &lt;static&gt; source :string Changes the source of the video. Pass a string of the video file path to set. Type: string Source: ad-video/lib/VideoPlayer.js, line 315 Example myVideoPlayer.source = 'videos/myVideoFile.mp4'; &lt;static&gt; volume :number Changes the volume of the video. Assign a number, between 0 - 1 to set the volume. Type: number Source: ad-video/lib/VideoPlayer.js, line 365 Example myVideoPlayer.volume = .8; Methods &lt;static&gt; addControls(obj) Adds VideoControls to the VideoPlayer instance. Used only if controls NOT passed thru on instantiation. Parameters: Name Type Description obj object An object of desired controls, see VideoControls Source: ad-video/lib/VideoPlayer.js, line 612 Example // myVideoPlayer.addControls({ controlBar : { buttonPlayPause : true, progressControl : true, buttonFullScreen : true } }); &lt;static&gt; addCuePoint(time, handler, params) Add to the load queue: a single or array of files or even another Loader. Parameters: Name Type Description time number The time, in seconds, to fire the call back. handler function A callback function. params object Optional parameters to pass back through the call back. Source: ad-video/lib/VideoPlayer.js, line 576 Example // myVideoPlayer.addCuePoint( 3, handleCuePoint, [ true, .3, {} ]); function handleCuePoint ( isVar, num, obj ) { console.log( 'cue point', isVar, num, obj ); } &lt;static&gt; load() Loads the current video source. If preload is true, this is redundant. Source: ad-video/lib/VideoPlayer.js, line 413 Example myPlayer.load(); &lt;static&gt; mute() Mutes the Video Player, does not change the volume. Source: ad-video/lib/VideoPlayer.js, line 524 Example myVideoPlayer.mute() &lt;static&gt; pause Pauses the current video.() Source: ad-video/lib/VideoPlayer.js, line 459 Example myPlayer.pause(); &lt;static&gt; play() Plays the current video. Source: ad-video/lib/VideoPlayer.js, line 426 Example myPlayer.play(); &lt;static&gt; resize(width, height) Changes the size of the Video Player Parameters: Name Type Description width number A number of the width height number A number of the height Source: ad-video/lib/VideoPlayer.js, line 556 Example myVideoPlayer.resize( 400, 300 ) &lt;static&gt; seek(sec) Skips the video to a specific time. Parameters: Name Type Description sec number The time to skip the video to in seconds. Source: ad-video/lib/VideoPlayer.js, line 479 Example myPlayer.seek( 4 ); &lt;static&gt; stop() Stops the video and resets it to the beginning. Source: ad-video/lib/VideoPlayer.js, line 505 Example myPlayer.stop(); &lt;static&gt; unmute() Unmutes the Video Player, does not change the volume. Source: ad-video/lib/VideoPlayer.js, line 540 Example myVideoPlayer.unmute() × Search results Close "},"YouTubePlayer.html":{"id":"YouTubePlayer.html","title":"Class: YouTubePlayer","body":" DocStrap Classes AlignAlphaVideoPlayerArrayUtilsAudioPlayerCanvasBlendModeCanvasBlurCanvasCircleCanvasColoringCanvasDrawerCanvasElementCanvasImageCanvasLineToCanvasPathCanvasRectCanvasShapeCanvasSpriteCanvasTextCanvasTextureCanvasTilingCanvasTweenerCanvasUtilsClampColorUtilsCoreCountdownCssManagerDateFormatterDateManagerDateScheduleDcsUtilsDeviceEffectsEmitterExpandableExpandableDcsFrameRateGestureGestureBaseGestureEventGestureEvent.EventGraphic.CircleGraphic.ImageGraphic.RectGraphic.ShapeGraphic.SpriteImageManagerImageUtilsLoaderLocationUtilsMarkupMathUtilsMatrix2DMatrix3DMediaEventMonetUtilsMotionUtilsNetUtilsObjectUtilsParentTransformParticleParticleModelRatioRecurringScheduleSheetManagerSimpleNoise2DSpritePlayerStylesTextFormatTextSplitTypeTimezoneTzDateUIBorderUIButtonUIButtonFullScreenUIButtonMuteUIButtonPlayPauseUIButtonReplayUICanvasUIComponentUIControlBarUIDivUIEventUIFlexUIGroupUIImageUISliderUISplitTextUISvgUITextFieldUITimeDisplayVector2DVelvetVideoControlsVideoPlayerYouTubePlayer @ff0000-ad-tech/ad-video YouTubePlayer new YouTubePlayer() Import from ad-video // importing into an ES6 class import { YouTubePlayer } from 'ad-video' This Object creates and manages a YouTube player embed. The native YouTube API has many flaws in its logic along with several limtations. YouTubePlayer attempts to bridge some of those short comings, while at the same time following as closely as possible the same methods and patterns of our native VideoPlayer. Something to note: The initial call to the YouTube API actually loads in an iFrame, so there can be a delay when first seeing your player, there is nothing that can be doen about that. Since it is loading an iFrame, things such as the controls, fullscreen ability, showing video info are set on the load. This class can toggle those things, but it will cause the whole iFrame to reload. If you are only changing videos, with no other updates, there will be a seemless transition to the next video. Source: ad-video/lib/YouTubePlayer.js, line 1 Example // adds a player on the Main container T.videoPlayer = new YouTubePlayer({ id: 'intro', target: T, css : { x: 0, y: 0, width : 446, height : 250 }, videoId: 'EcB59kdjJfw', autoPlay: true, muted: true, quality: 'hd720', showInfo: false, inlineYouTubeLogo: true, allowFullScreen: false, allowAnnotations: true, onReady: null, onComplete : null, onPlay: null, onPause: null, onBuffer: null, onFail: null, controls: false }); Members &lt;static&gt; allowFullScreen :boolean A boolean whether or not the fullscreen button is displayed. NOTE: Requires a iFrame reload, so only take place on a video load or replay Type: boolean Source: ad-video/lib/YouTubePlayer.js, line 330 Example myVideoPlayer.allowFullScreen = false; &lt;static&gt; autoPlay :boolean A boolean to define if the video will automatically play. Type: boolean Source: ad-video/lib/YouTubePlayer.js, line 281 Example myVideoPlayer.autoPlay = false; &lt;static&gt; complete :boolean A Boolean representing if the video has ended. Type: boolean Source: ad-video/lib/YouTubePlayer.js, line 98 &lt;static&gt; container :UIComponent A &lt;div&gt;, the top level container for the entire player instance. Type: UIComponent Source: ad-video/lib/YouTubePlayer.js, line 206 &lt;static&gt; currentTime :number A Number representing the video time position. Type: number Source: ad-video/lib/YouTubePlayer.js, line 90 &lt;static&gt; muted :boolean A boolean to read if the player is muted Type: boolean Source: ad-video/lib/YouTubePlayer.js, line 297 Example console.log( myVideoPlayer.muted ); &lt;static&gt; nativeControls :boolean A boolean whether or not the player has nativeControls/progress bar. NOTE: Requires a iFrame reload, so only take place on a video load or replay Type: boolean Source: ad-video/lib/YouTubePlayer.js, line 313 Example myVideoPlayer.nativeControls = false; &lt;static&gt; onAutoPlay :function A callback for when as Video auto-plays. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 149 &lt;static&gt; onBuffer :function A callback for when the Video pauses due to buffering. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 127 &lt;static&gt; onComplete :function A callback for when the Video is finished. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 113 &lt;static&gt; onFail :function A callback for when the Video fails. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 120 &lt;static&gt; onPause :function A callback for when as Video pauses, helpful since controls are internal to iFrame. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 163 &lt;static&gt; onPlay :function A callback for when as Video plays, helpful since controls are internal to iFrame. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 142 &lt;static&gt; onProgress :function A callback for when as Video progresses while playing. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 134 &lt;static&gt; onReady :function A callback for when the Video is able to be played. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 106 &lt;static&gt; onStop :function A callback for when as Video is stopped. Can be set as optional parameter on instantiation. Type: function Source: ad-video/lib/YouTubePlayer.js, line 156 &lt;static&gt; paused :boolean A Boolean representing if the video is playing. Type: boolean Source: ad-video/lib/YouTubePlayer.js, line 76 &lt;static&gt; percent :number A Number 0-1 representing the video timeline percent position. Type: number Source: ad-video/lib/YouTubePlayer.js, line 83 &lt;static&gt; quality :string A string representing the quality type, follows YouTube paradigm, that assigns the playback quality of the video. NOTE: Requires a iFrame reload, so only take place on a video load or replay Type: string Source: ad-video/lib/YouTubePlayer.js, line 347 Example myVideoPlayer.quality = &quot;hd720&quot;; &lt;static&gt; source :string Changes the source of the video by passing in a string of the video YouTube ID to set. Type: string Source: ad-video/lib/YouTubePlayer.js, line 243 Example myVideoPlayer.source = &quot;k_5IXGmoLMY&quot;; &lt;static&gt; url :string Gets the URL to current playing YouTube video. Type: string Source: ad-video/lib/YouTubePlayer.js, line 268 Example console.log( myVideoPlayer.url ); &lt;static&gt; volume :number Changes the volume of the video. Assign a number, between 0 - 1 to set the volume. Type: number Source: ad-video/lib/YouTubePlayer.js, line 224 Example myVideoPlayer.volume = .8; Methods &lt;static&gt; addCuePoint(time, handler, params) Add to the load queue: a single or array of files or even another Loader. Parameters: Name Type Description time number The time, inseconds, to fire the call back. handler function A callback function. params object Optional parameters to pass back through the call back. Source: ad-video/lib/YouTubePlayer.js, line 495 Example myVideoPlayer.addCuePoint ( 3, handleCuePoint, [ true, .3, {} ]) function handleCuePoint ( isVar, num, obj ){ console.log( 'cue point', isVar, num, obj ); } &lt;static&gt; hide() Hides the entire player. Source: ad-video/lib/YouTubePlayer.js, line 373 Example myVideoPlayer.hide(); &lt;static&gt; mute() Mutes the Video Player, does not change the volume. Source: ad-video/lib/YouTubePlayer.js, line 461 Example myVideoPlayer.mute() &lt;static&gt; pause() Pauses the current video. Source: ad-video/lib/YouTubePlayer.js, line 419 Example myVideoPlayer.pause(); &lt;static&gt; play() Plays the current video. Source: ad-video/lib/YouTubePlayer.js, line 406 Example myVideoPlayer.play(); &lt;static&gt; seek(sec) Skips the video to a specific time. Parameters: Name Type Description sec number The time to skip the video to in seconds. Source: ad-video/lib/YouTubePlayer.js, line 433 Example myVideoPlayer.seek(4); &lt;static&gt; show Shows the entire player.() myVideoPlayer.show(); Source: ad-video/lib/YouTubePlayer.js, line 388 &lt;static&gt; unmute() Unmutes the Video Player, does not change the volume. Source: ad-video/lib/YouTubePlayer.js, line 477 Example myVideoPlayer.unmute() × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
